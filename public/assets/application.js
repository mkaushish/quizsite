/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */
function addingForm(t,e,n,o){lt=1+Math.max(e.length,n.length);var s="<table id=laddtable_"+t+" border=0>\n";for(s+="<tr>\n",i=0;i<lt-e.length;i++)s+="<td> </td>\n";for(i=0;i<e.length;i++)s+="<td>"+e[i]+"</td>\n";for(s+="</tr>\n",s+="<tr>\n",i=0;i<lt-n.length;i++)s+=0==i?"<td>"+o+"</td>\n":"<td> </td>\n";for(i=0;i<n.length;i++)s+="<td>"+n[i]+"</td>\n";for(s+="</tr>\n",s+="<tr>\n",i=0;lt>i;i++)s+="<td><input type=text class="+t+"_linps id="+t+"_lin"+i+' maxlength=1 style="width:15px; height:20px"></td>\n';s+="</tr>\n",s+="</table>",$("#ladding_"+t).append(s),$("#laddtable_"+t).attr("style","background-color:transparent; font:10pt Courier;"),$("#"+t+"_lin"+(lt-1)).select(),tot=[],$("."+t+"_linps").keypress(function(e){String.fromCharCode(e.keyCode),e.keyCode>47&&e.keyCode<58&&(tot[$(this).attr("id")[$(this).attr("id").length-1]]=String.fromCharCode(e.keyCode),$(this).attr("value",String.fromCharCode(e.keyCode)),$("#"+t).attr("value",tot.join("")))});for(var r=1;lt>r;r++)$("#"+t+"_lin"+r).keypress({j:r},function(e){$("#"+t+"_lin"+(e.data.j-1)).select()})}function badges_look(){for(bclr=["gold","silver","bronze"],i=0;i<$(".badges").length;i++)$(".badges").eq(i).css("top",10*parseInt(i/5)-20),$(".badges").eq(i).css("left",10*parseInt(i%5));for($("#get_badge").parent().hover(function(){for(i=0;i<$(".badges").length;i++)$(".badges").eq(i).css("top",20*parseInt(i/5)-10-20),$(".badges").eq(i).css("left",20*parseInt(i%5)-10)},function(){for(i=0;i<$(".badges").length;i++)$(".badges").eq(i).css("top",10*parseInt(i/5)-20),$(".badges").eq(i).css("left",10*parseInt(i%5))}),i=0;i<$(".badgesbw").length;i++)$(".badgesbw").eq(i).css("top",10*parseInt(i/5)-20),$(".badgesbw").eq(i).css("left",10*parseInt(i%5));$("#get_badge2").parent().hover(function(){for(i=0;i<$(".badgesbw").length;i++)$(".badgesbw").eq(i).css("top",20*parseInt(i/5)-10-20),$(".badgesbw").eq(i).css("left",20*parseInt(i%5)-10)},function(){for(i=0;i<$(".badgesbw").length;i++)$(".badgesbw").eq(i).css("top",10*parseInt(i/5)-20),$(".badgesbw").eq(i).css("left",10*parseInt(i%5))})}function commaBox(t){$("#"+t).click(function(){"0"==$("#"+t).attr("value")?($("#"+t).attr("value","1"),$("#"+t).addClass("commachecked")):($("#"+t).attr("value","0"),$("#"+t).removeClass("commachecked"))})}function hide_custom_problem_form(){$("#dimmer").unbind("click"),$("#custom_problem_form").hide(),$("#custom_problem_form").find(".input-field,textarea").attr("value",""),$("#dimmer").hide()}function custom_problem_form(t,e){var i=$("#custom_problem_form");0==i.length&&($("body").prepend("<div id=custom_problem_form class=problem_overlay></div>"),i=$("#custom_problem_form"));var n=$("#dimmer");0==n.length&&($("body").prepend("<div id=dimmer></div>"),n=$("#dimmer")),i.find("[name~=problem_type_id]").attr("value",t),i.find("h2:first").text(e+": Create Problem"),i.show(),n.show(),n.click(hide_custom_problem_form)}function initConcepts(){$("li.stat li").each(function(){initConceptStat($(this)),$(this).tooltip()})}function initConceptStat(t){var e=t.children("div").first(),i=e.attr("data-percent");t.addClass("stat-bar"),void 0==i?(e.css("background-color","gray"),e.css("width","100%")):e.css("width",""+i+"%")}function hideExplanation(){$("#problem_overlay .explanation").hide(),$("#problem_overlay .problem").show(),$("#hide_explanation").replaceWith('<a class="button-blue" id="see_explanation" href="#" onclick="showExplanation(); return false;">See Explanation</a>'),initProblem(),closeWithDimmer()}function showExplanation(){$("#problem_overlay .explanation").show(),$("#problem_overlay .problem").hide(),$("#see_explanation").replaceWith('<a class="button-blue" id="hide_explanation" href="#" onclick="hideExplanation(); return false;">Stop Explanation</a>'),initProblem(),closeWithDimmer()}/*!
 * jQuery Box Lid Plugin v0.1
 * https://github.com/jimjh/box-lid
 *
 * Copyright 2013 Jiunn Haur Lim
 * Released under the MIT License
 *
 * Usage:
 *    $('.box-lid-menu').boxLid();
 */
function box_lid(){!function(t){"use strict";function e(e){e=t.extend({container:"body",flag:"box-lid-open"},e);var i=t(e.container);this.open=function(){i.data("box-lid-timer",setTimeout(function(){i.addClass(e.flag)},100))},this.close=function(){clearTimeout(i.data("box-lid-timer")),i.removeClass(e.flag)}}t.fn.boxLid=function(i){var n=new e(i);return this.each(function(){t(this).hover(n.open,n.close)})}}(jQuery)}function jqwalk(){!function(t,e,n,o){function s(){var e=S;if(0!=L||!N||g())if("modal"!=e.steps[L].popup.type&&"nohighlight"!=e.steps[L].popup.type){if(H.html(""),""==e.steps[L].wrapper||e.steps[L].wrapper==o)return alert('Your walkthrough position is: "'+e.steps[L].popup.type+'" but wrapper is empty or undefined. Please check your "'+C+'" wrapper parameter.'),void 0;var i=k(t(e.steps[L].wrapper).offset().top),s=k(t(e.steps[L].wrapper).offset().left),c=k(t(e.steps[L].wrapper).innerWidth())||k(t(e.steps[L].wrapper).width()),d=k(t(e.steps[L].wrapper).innerHeight())||k(t(e.steps[L].wrapper).height()),h=T(e.steps[L].margin,"top"),u=T(e.steps[L].margin,"right"),p=T(e.steps[L].margin,"bottom"),f=T(e.steps[L].margin,"left"),m=30,v="",b="",x={height:k(parseInt(i)-(parseInt(h)+m))},w={top:x.height,width:k(parseInt(s)-(parseInt(f)+m)),height:k(parseInt(d)+2*m+parseInt(h)+parseInt(p))};if(e.steps[L].overlay==o||e.steps[L].overlay?v="overlay":(v="noOverlay",b="killOverlay"),t('<div id="overlayTop" class="'+v+'"></div>').css(x).appendTo(H),t('<div id="overlayLeft" class="'+v+'"></div>').css(w).appendTo(H),e.steps[L].accessable)var j={top:x.height,left:w.width,topCenter:{width:k(parseInt(c)+parseInt(f)+parseInt(u))}},_={topAccessable:{position:"absolute",top:x.height,left:w.width,topCenter:{width:k(parseInt(c)+parseInt(f)+parseInt(u))}},middleAccessable:{position:"absolute",top:k(parseInt(x.height)+m),left:w.width,middleLeft:{height:k(parseInt(d)+parseInt(h)+parseInt(p))},middleRight:{height:k(parseInt(d)+parseInt(h)+parseInt(p)),right:k(parseInt(c)+m+parseInt(u)+parseInt(f))}},bottomAccessable:{left:w.width,top:k(parseInt(x.height)+m+parseInt(d)+parseInt(h)+parseInt(p)),bottomCenter:{width:k(parseInt(c)+parseInt(f)+parseInt(u))}}},$=t('<div id="topAccessable" style="position:'+_.topAccessable.position+"; top:"+_.topAccessable.top+";left:"+_.topAccessable.left+'">'+'<div id="topLeft" class="'+b+'"></div>'+'<div id="topCenter" class="'+b+'" style="width:'+_.topAccessable.topCenter.width+'"></div>'+'<div id="topRight" class="'+b+'"></div>'+"</div>"+'<div id="middleAccessable" class="'+b+'" style="clear: left;position:'+_.middleAccessable.position+"; top:"+_.middleAccessable.top+";left:"+_.middleAccessable.left+';">'+'<div id="middleLeft" class="'+b+'" style="height:'+_.middleAccessable.middleLeft.height+';"></div>'+'<div id="middleRight" class="'+b+'" style="position:absolute;right:-'+_.middleAccessable.middleRight.right+";height:"+_.middleAccessable.middleRight.height+';"></div>'+"</div>"+'<div id="bottomAccessable" style="clear: left;position:absolute;left:'+_.bottomAccessable.left+";top:"+_.bottomAccessable.top+';">'+'<div id="bottomLeft" class="'+b+'"></div>'+'<div id="bottomCenter" class="'+b+'" style="width:'+_.bottomAccessable.bottomCenter.width+';"></div>'+'<div id="bottomRight" class="'+b+'"></div>'+"</div>").appendTo(H);else{var j={top:x.height,left:w.width,topCenter:{width:k(parseInt(c)+parseInt(f)+parseInt(u))},middleLeft:{height:k(parseInt(d)+parseInt(h)+parseInt(p))},middleCenter:{width:k(parseInt(c)+parseInt(f)+parseInt(u)),height:k(parseInt(d)+parseInt(h)+parseInt(p))},middleRight:{height:k(parseInt(d)+parseInt(h)+parseInt(p))},bottomCenter:{width:k(parseInt(c)+parseInt(f)+parseInt(u))}},$=t('<div id="highlightedArea"></div>').css(j).appendTo(H);$.html('<div><div id="topLeft" class="'+b+'"></div>'+'<div id="topCenter" class="'+b+'" style="width:'+j.topCenter.width+';"></div>'+'<div id="topRight" class="'+b+'"></div>'+"</div>"+'<div style="clear: left;">'+'<div id="middleLeft" class="'+b+'" style="height:'+j.middleLeft.height+';"></div>'+'<div id="middleCenter" class="'+b+'" style="width:'+j.middleCenter.width+";height:"+j.middleCenter.height+'">&nbsp;</div>'+'<div id="middleRight" class="'+b+'" style="height:'+j.middleRight.height+';"></div>'+"</div>"+'<div style="clear: left;">'+'<div id="bottomLeft" class="'+b+'"></div>'+'<div id="bottomCenter" class="'+b+'" style="width:'+j.bottomCenter.width+';"></div>'+'<div id="bottomRight" class="'+b+'"></div>'+"</div>")}var M=e.steps[L].accessable?parseInt(_.topAccessable.topCenter.width)+2*m:parseInt(j.topCenter.width)+2*m,I={left:k(parseInt(w.width)+M),height:w.height,top:w.top,width:k(y()-(parseInt(w.width)+M))};t('<div id="overlayRight" class="'+v+'"></div>').css(I).appendTo(H);var P={height:k(t(n).height()-(parseInt(x.height)+parseInt(w.height))),top:k(parseInt(x.height)+parseInt(w.height))};t('<div id="overlayBottom" class="'+v+'"></div>').css(P).appendTo(H),t("#jpWalkthrough").length&&t("#jpWalkthrough").remove(),H.appendTo("body").show(),e.steps[L].accessable?a(!0):a(!1)}else"modal"==e.steps[L].popup.type?(t("#jpWalkthrough").length&&t("#jpWalkthrough").remove(),e.steps[L].overlay==o||e.steps[L].overlay?r(!0):r(!1)):(t("#jpWalkthrough").length&&t("#jpWalkthrough").remove(),e.steps[L].overlay==o||e.steps[L].overlay?l(!0):l(!1))}function r(e){var i=S;e?q.appendTo("body").show():t("#jpwOverlay").length&&t("#jpwOverlay").remove();var n=w(parseInt(i.steps[L].popup.contentRotation));O.css({position:"absolute",left:"50%",top:"50%","margin-left":-(parseInt(i.steps[L].popup.width)+60)/2+"px","z-index":"9999"});var o=t('<div id="tooltipTop"><div id="topLeft"></div><div id="topRight"></div></div><div id="tooltipInner"></div><div id="tooltipBottom"><div id="bottomLeft"></div><div id="bottomRight"></div></div>');H.html(""),O.html("").append(o).wrapInner('<div id="tooltipWrapper" style="width:'+k(parseInt(i.steps[L].popup.width)+30)+'"></div>').append('<div id="bottom-scratch"></div>').appendTo(H),H.appendTo("body"),t("#tooltipWrapper").css(n),t(i.steps[L].popup.content).clone().appendTo("#tooltipInner").show(),O.css("margin-top",-(O.height()/2)+"px"),H.show()}function a(e){var i,n,s,r,a=S,l=(""==a.steps[L].popup.width?300:a.steps[L].popup.width,30),c=e?t("#topAccessable").innerWidth()+2*l||t("#topAccessable").width()+2*l:t("#highlightedArea").innerWidth()||t("#highlightedArea").width(),d=e?t("#middleAccessable").innerHeight()+2*l||t("#middleAccessable").height()+2*l:t("#highlightedArea").innerHeight()||t("#highlightedArea").height(),h=e?t("#topAccessable").offset().top:t("#highlightedArea").offset().top,u=e?t("#topAccessable").offset().left:t("#highlightedArea").offset().left,p=30,f=a.steps[L].popup.contentRotation==o||0==parseInt(a.steps[L].popup.contentRotation)?x():w(parseInt(a.steps[L].popup.contentRotation));t("#jpwOverlay").length&&t("#jpwOverlay").remove();var m=t('<div id="tooltipTop"><div id="topLeft"></div><div id="topRight"></div></div><div id="tooltipInner"></div><div id="tooltipBottom"><div id="bottomLeft"></div><div id="bottomRight"></div></div>');switch(O.html("").css({marginLeft:"0","margin-top":"0",position:"absolute","z-index":"9999"}).append(m).wrapInner('<div id="tooltipWrapper" style="width:'+k(parseInt(a.steps[L].popup.width)+30)+'"></div>').appendTo(H),a.steps[L].popup.draggable&&O.append('<div id="drag-area" class="draggable-area"></div>'),H.appendTo("body").show(),t("#tooltipWrapper").css(f),t(a.steps[L].popup.content).clone().appendTo("#tooltipInner").show(),O.append('<span class="'+a.steps[L].popup.position+'">&nbsp;</span>'),a.steps[L].popup.position){case"top":i=h-(O.height()+p/2)+parseInt(a.steps[L].popup.offsetVertical)-86,n=e?u+c/2-O.width()/2-40+parseInt(a.steps[L].popup.offsetHorizontal):u+c/2-O.width()/2-5+parseInt(a.steps[L].popup.offsetHorizontal),r=O.width()/2-p,s="";break;case"right":i=h-p/2+parseInt(a.steps[L].popup.offsetVertical),n=u+c+p/2+parseInt(a.steps[L].popup.offsetHorizontal)+105,s=p,r="";break;case"bottom":e?(i=h+d+parseInt(a.steps[L].popup.offsetVertical)+86,n=u+c/2-O.width()/2-40+parseInt(a.steps[L].popup.offsetHorizontal)):(i=h+d+parseInt(a.steps[L].popup.offsetVertical)+86,n=u+c/2-O.width()/2-5+parseInt(a.steps[L].popup.offsetHorizontal)),r=O.width()/2-p,s="";break;case"left":i=h-p/2+parseInt(a.steps[L].popup.offsetVertical),n=u-O.width()-p+parseInt(a.steps[L].popup.offsetHorizontal)-105,s=p,r=""}t("#jpwTooltip span."+a.steps[L].popup.position).css({left:k(r)}),O.css({top:k(i),left:k(n)}),H.show()}function l(e){var i,n,o,s,r=S,a=t(r.steps[L].wrapper).offset().top,l=t(r.steps[L].wrapper).offset().left,c=t(r.steps[L].wrapper).width(),d=t(r.steps[L].wrapper).height(),h=30;e?q.appendTo("body").show():t("#jpwOverlay").length&&t("#jpwOverlay").remove(),O.css(x());var u="undefined"==r.steps[L].popup.contentRotation||0==r.steps[L].popup.contentRotation?"":w(parseInt(r.steps[L].popup.contentRotation));O.css({position:"absolute","margin-left":"0px","margin-top":"0px","z-index":"9999"});var p=t('<div id="tooltipTop"><div id="topLeft"></div><div id="topRight"></div></div><div id="tooltipInner"></div><div id="tooltipBottom"><div id="bottomLeft"></div><div id="bottomRight"></div></div>');switch(H.html(""),O.html("").append(p).wrapInner('<div id="tooltipWrapper" style="width:'+k(parseInt(r.steps[L].popup.width)+30)+'"></div>').appendTo(H),r.steps[L].popup.draggable&&O.append('<div id="drag-area" class="draggable-area"></div>'),H.appendTo("body"),t("#tooltipWrapper").css(u),t(r.steps[L].popup.content).clone().appendTo("#tooltipInner").show(),O.append('<span class="'+r.steps[L].popup.position+'">&nbsp;</span>'),r.steps[L].popup.position){case"top":i=a-(O.height()+h/2)+parseInt(r.steps[L].popup.offsetVertical)-86,n=l+c/2-O.width()/2-5+parseInt(r.steps[L].popup.offsetHorizontal),s=O.width()/2-h,o="";break;case"right":i=a-h/2+parseInt(r.steps[L].popup.offsetVertical),n=l+c+h/2+parseInt(r.steps[L].popup.offsetHorizontal)+105,o=h,s="";break;case"bottom":i=a+d+parseInt(r.steps[L].popup.offsetVertical)+86,n=l+c/2-O.width()/2-5+parseInt(r.steps[L].popup.offsetHorizontal),s=O.width()/2-h,o="";break;case"left":i=a-h/2+parseInt(r.steps[L].popup.offsetVertical),n=l-O.width()-h+parseInt(r.steps[L].popup.offsetHorizontal)-105,o=h,s=""}t("#jpwTooltip span."+r.steps[L].popup.position).css({left:k(s)}),O.css({top:k(i),left:k(n)}),H.show()}function c(){var i=S;if(i.steps[L].autoScroll||i.steps[L].autoScroll==o)if("modal"!=i.steps[L].popup.position){var n=t(e).height()||t(e).innerHeight(),s=O.offset().top,r=O.height()||O.innerHeight();t("#overlayTop").height(),t("html,body").animate({scrollTop:s+r/2-n/2},i.steps[L].scrollSpeed)}else t("html,body").animate({scrollTop:0},i.steps[L].scrollSpeed)}function d(){t("jpwClose").length||t("body").append('<div id="jpwClose"><a href="javascript:;" title="Click here to close"><span></span><br>Click Here to Close</a></div>')}function h(t){for(i=0;i<P.length;i++)"function"==typeof t[P[i]].onCookieLoad&&t[P[i]].onCookieLoad.call(this);return!1}function u(t){var e=S;return"function"!=typeof e.steps[L].onLeave||e.steps[L].onLeave.call(this,t,L)?!0:!1}function p(t){var e=S;return"function"!=typeof e.steps[L].onEnter||e.steps[L].onEnter.call(this,t,L)?!0:!1}function f(){var t=S;return"function"!=typeof t.onClose||t.onClose.call(this)?(B.close(),!0):!1}function m(t){var e=S;return D=!0,B.restart(t),c(),"function"!=typeof e.onRestart||e.onRestart.call(this)?!0:!1}function g(){var t=S;return L=0,"function"!=typeof t.onBeforeShow||t.onBeforeShow.call(this)?!0:!1}function v(){var t=S;return L=0,"function"!=typeof t.onAfterShow||t.onAfterShow.call(this)?!0:!1}function y(){return t(e).innerWidth()||t(e).width()}function b(t){e.console&&e.console.log&&e.console.log(t)}function x(){var t={"-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none","-o-transform":"none",filter:"none","-ms-transform":"none"};return t}function w(t){var e,i,n,o,s,r;s=2*Math.PI/360,r=t*s,e=Math.cos(r),i=Math.sin(r),n=Math.sin(r),o=Math.cos(r);var a={"-webkit-transform":"rotate("+parseInt(t)+"deg)","-moz-transform":"rotate("+parseInt(t)+"deg)","-ms-transform":"rotate("+parseInt(t)+"deg)","-o-transform":"rotate("+parseInt(t)+"deg)",filter:"progid:DXImageTransform.Microsoft.Matrix(M11 = "+e+",M12 = -"+i+",M21 = "+n+",M22 = "+o+',sizingMethod = "auto expand");',"-ms-transform":"progid:DXImageTransform.Microsoft.Matrix(M11 = "+e+",M12 = -"+i+",M21 = "+n+",M22 = "+o+',SizingMethod = "auto expand");'};return a}function k(t){return"string"==typeof t?-1==t.toLowerCase().indexOf("px")?t+"px":t:t+"px"}function j(t){return-1!=t.indexOf("px")?!0:0==parseInt(t)?!0:!1}function T(t,e){var n,o,s,r,a,l=t,c=l.split(" "),d=0;for(i=0;i<c.length;i++)j(c[i])&&d++;if(d==c.length){for(i=0;i<c.length;i++)switch(i){case 0:n=c[i];break;case 1:o=c[i];break;case 2:s=c[i];break;case 3:r=c[i]}switch(c.length){case 1:o=s=r=n;break;case 2:s=n,r=o;break;case 3:r=o}if("undefined"==e||""==e||null==e)return console.log("Please define margin position (top, right, bottom, left)"),!1;switch(e){case"top":a=n;break;case"right":a=o;break;case"bottom":a=s;break;case"left":a=r}return a}return console.log("Please check your margin syntax.."),!1}function _(t,e,i){var o=new Date;o.setDate(o.getDate()+i);var s=escape(e)+(null==i?"":"; expires="+o.toUTCString());n.cookie=t+"="+s}function $(t){var e,i,o,s=n.cookie.split(";");for(e=0;e<s.length;e++)if(i=s[e].substr(0,s[e].indexOf("=")),o=s[e].substr(s[e].indexOf("=")+1),i=i.replace(/^\s+|\s+$/g,""),i==t)return unescape(o)}var S,C,M,I={},P=[],A=0,N=!0,E=!0,L=0,D=!0,q=t('<div id="jpwOverlay"></div>'),H=t('<div id="jpWalkthrough"></div>'),O=t('<div id="jpwTooltip"></div>'),B={isPageWalkthroughActive:function(){return D?!0:!1},currIndex:function(){return L},init:function(i){var i=t.extend({},t.fn.pagewalkthrough.options,i);return this.each(function(){var n=t(this),o=n.attr("id");i=i||{},i.elementID=o,I[o]=i,P.push(o),i.onLoad&&A++,1==A&&E&&(C=o,S=I[C],E=!1),t(e).scroll(function(){return D&&S.steps[L].stayFocus&&(clearTimeout(t.data(this,"scrollTimer")),t.data(this,"scrollTimer",setTimeout(function(){c(S)},250))),!1})})},renderOverlay:function(){A>1&&b("Warning: Only first walkthrough will be shown onLoad as default"),M=$("_walkthrough-"+C),M==o?(D=!0,s(),d(),c(),setTimeout(function(){0==L&&N&&!v()},100)):h(I)},restart:function(t){0!=L&&(L=0,m(t)&&p(t)&&(s(),c()))},close:function(e){L=0,N=!0,D=!1,e?(_("_walkthrough-"+e,0,365),M=$("_walkthrough-"+e)):(_("_walkthrough-"+C,0,365),M=$("_walkthrough-"+C)),t("#jpwOverlay").length&&q.fadeOut("slow",function(){t(this).remove()}),t("#jpWalkthrough").length&&H.fadeOut("slow",function(){t(this).html("").remove()}),t("#jpwClose").length&&t("#jpwClose").fadeOut("slow",function(){t(this).html("").remove()})},show:function(t){D=!0,N=!0,C=t,S=I[t],s(),d(),c(),0==L&&N&&!v()},next:function(t){N=!1,L!=S.steps.length-1&&u(t)&&(L=parseInt(L)+1,p(t)&&(s(),c()))},prev:function(t){0!=L&&u(t)&&(L=parseInt(L)-1,p(t)&&(s(),c()))},getOptions:function(t){var e;if(t)e={},e=S;else{e=[];for(var i in I)e.push(I[i])}return e}};t("#jpwClose a").live("click",f),t("#jpwTooltip #drag-area").live("mousedown",function(e){if(t(this).hasClass("draggable-area")){t(this).hasClass("draggable")||t(this).addClass("draggable").css("cursor","move");var i=t(this).css("z-index"),o=t(this).outerHeight(),s=t(this).outerWidth(),r=t(this).offset().top+2*o-e.pageY-10,a=e.pageX-t(this).offset().left+s-(t(this).parent().outerWidth()+s)+20;t(n).on("mousemove",function(e){t(".draggable").parent().offset({top:e.pageY+r-o,left:e.pageX+a-s}).on("mouseup",function(){t(this).children("#tooltipWrapper").removeClass("draggable").css({"z-index":i,cursor:"default"})})}),e.preventDefault()}}).live("mouseup",function(){t(this).removeClass("draggable").css("cursor","default")}),t.pagewalkthrough=t.fn.pagewalkthrough=function(e){return B[e]?B[e].apply(this,Array.prototype.slice.call(arguments,1)):("object"!=typeof e&&e?t.error("Method "+e+" does not exist on jQuery.pagewalkthrough"):B.init.apply(this,arguments),void 0)},setTimeout(function(){B.renderOverlay()},500),t.fn.pagewalkthrough.options={steps:[{wrapper:"",margin:0,popup:{content:"",type:"modal",position:"top",offsetHorizontal:0,offsetVertical:0,width:"320",draggable:!1,contentRotation:0},overlay:!0,accessable:!1,autoScroll:!0,scrollSpeed:1e3,stayFocus:!1,onLeave:null,onEnter:null}],name:"",onLoad:!0,onBeforeShow:null,onAfterShow:null,onRestart:null,onClose:null,onCookieLoad:null}}(jQuery,window,document)}function weightMeasure(t,e,n,o,s){function r(t,e,i,n,o,s){h.beginPath(),h.moveTo(t,e),h.lineTo(i,n),h.lineTo(o,s),h.lineTo(t,e),h.closePath(),h.fillStyle="blue",h.fill()}function a(){r(h.width/2-20,h.height-g,h.width/2+20,h.height-g,h.width/2,h.height-20-v)}function l(){x=2*Math.PI*f/p,b>x&&(x=b),x>Math.PI-b&&(x=Math.PI-b)}function c(){h.save(),h.translate(h.width/2,h.height-v-20-10),h.rotate(x),h.fillStyle="gray",h.fillRect(-5,-y/2,10,y)}var d=$("#"+t)[0],h=d.getContext("2d"),u=[],p=s,f=0,m=s.toString();for(m=m.split("").reverse().join(""),i=0;i<m.length;i++)u[i]=parseInt(m[i]);var g=20,v=50,y=300,b=Math.acos(v/y),x=b;a(),l(),c()}function mob_comp(){/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&(not_comp=["Draw Triangle","Draw Quadrilateral","DefVertices","DefAdjacentSides","DefAdjacentVertices","AddNumberLine","SubNumberLine","CreateBar","CreateTally","BisectLine"],$(".list_box").each(function(){for(i=0;i<not_comp.length;i++)-1!=$(this).children("p").text().indexOf(not_comp[i])&&($(this).children("a").text("Not Compatible"),$(this).children("a")[0].href="",$(this).children("a").css("background-color","#ccc"),$(this).children("a").css("height","34px"),$(this).children("a").css("margin-top","-15px"))}))}function setNavLineWidths(){$(".nav-line").css("width",$(".container").css("width")),$(".nav-line").each(function(){var t=$(this),e=$("#"+t.attr("data-target")),i=e.offset(),n=e.outerWidth(),o=(e.outerHeight(),parseInt(e.css("margin-top")),t.children(":first-child")),s=t.children(":last-child"),r=t.children(),a=i.left,l=(parseInt(o.css("height")),a+n/2),c=(Math.max($(".container").width()-l,940-l),25);o.css("width",a),s.css("left",$(".container").css("margin-left")),s.css("width","100%"),r.css("top",c)})}function dbord(t){$(".container").width()<=722?($(".dotted-border").css("width",$(".container").width()-22+"px"),$(".dotted-border").css("height","auto")):($(".dotted-border").css("width","252px"),$(".dotted-border").css("height","1000px")),"pset"==t?shelf_color():shelf_color_in(t[0],t[1],t[2]),$(window).resize(function(){$(".container").width()<=722?($(".dotted-border").css("width",$(".container").width()-22+"px"),$(".dotted-border").css("height","auto")):($(".dotted-border").css("width","252px"),$(".dotted-border").css("height","1000px")),"pset"==t?shelf_color():shelf_color_in(t[0],t[1],t[2])})}function logoutb(){$(".switch-to a").hover(function(){$(this).text("Are you sure?")},function(){$(this).text("Log out")})}function shelf_do(){for(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&($("body").css("width","457px"),$("body").css("zoom",""+$(window).width()/457)),wdt=$(".container").width(),lis="",lisarr=[],lis+="<li class=shelf_li id=account>"+$(".shelf .shelf_ul .shelf_li").eq(0).html()+"</li>",lisarr[0]="<li class=shelf_li id=account>"+$(".shelf .shelf_ul .shelf_li").eq(0).html()+"</li>",i=1;i<$(".shelf .shelf_ul .shelf_li").length;i++)lis+="<li class=shelf_li>"+$(".shelf .shelf_ul .shelf_li").eq(i).html()+"</li>",lisarr[i]="<li class=shelf_li>"+$(".shelf .shelf_ul .shelf_li").eq(i).html()+"</li>";for($(".shelf").remove(),i=0;i<lisarr.length;i++)n=parseInt(($(".container").width()-200)/86),te=lisarr.slice(i,i+n).join("\n"),$("#bigshelf").append("<div class=shelf><ul class=shelf_ul>"+te+"</ul></div>"),i=i+n-1;liwt=parseInt($(".shelf .shelf_ul .shelf_li").css("width"))+2*parseInt($(".shelf .shelf_ul .shelf_li").css("padding")),wdt=$(".container").width(),$(window).resize(function(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&($("body").css("width","457px"),$("body").css("zoom",""+$(window).width()/457)),lisob=$(".shelf ul li"),Math.abs($(".container").width()-wdt)>10){for(lis="",lisarr=[],i=0;i<$(".shelf .shelf_ul .shelf_li").length;i++)lis+="<li  class=shelf_li>"+$(".shelf .shelf_ul .shelf_li").eq(i).html()+"</li>",lisarr[i]="<li  class=shelf_li>"+$(".shelf .shelf_ul .shelf_li").eq(i).html()+"</li>";for($(".shelf").remove(),i=0;i<lisarr.length;i++)n=parseInt(($(".container").width()-200)/liwt),te=lisarr.slice(i,i+n).join("\n"),$("#bigshelf").append("<div class=shelf><ul class=shelf_ul>"+te+"</ul></div>"),i=i+n-1;wdt=$(".container").width()}badges_look()})}function notepad_new(){function t(t,i){for(i="undefined"!=typeof i?i:0,$("#npPane").append('<p style="position:absolute; text-indent:'+8*i+"px; left:2px; top:"+(2+b.length*g)+"px; width:"+r.width+'px">'+t+"</p>"),b[b.length]=t,$("#notes").attr("value",""),$("#notes").css("top",""+(b.length*g+13)+"px"),r.height=Math.max(parseInt($("#notes").css("top"))+15,r.height),a.lineWidth=3,ct=0,j=0;j<x.length;j++){if(x[j].length>1)for(a.strokeStyle=x[j][0][2],a.lineWidth=2,k=1;k<x[j].length;k++)e(x[j][k-1][0],x[j][k-1][1],x[j][k][0],x[j][k][1]);a.lineWidth=1}f.reinitialise(),f.scrollToPercentY(100,!0),answer||$("#npstr").attr("value",JSON.stringify([b,x]))}function e(t,e,i,n){a.beginPath(),a.moveTo(t,e),a.lineTo(i,n),a.stroke(),a.closePath()}function n(){$("#calc").hide(),$("#sv_opform").show(),w&&o($("#np_num1").attr("value"),$("#np_num2").attr("value"),"+"),T&&o($("#np_num1").attr("value"),$("#np_num2").attr("value"),"-"),_&&s($("#np_num1").attr("value"),$("#np_num2").attr("value"))}function o(e,n,o){lt=1+Math.max(e.length,n.length);var s="<table id=laddtable border=0>\n";for(s+="<tr>\n",i=0;i<lt-e.length;i++)s+="<td> </td>\n";for(i=0;i<e.length;i++)s+="<td>"+e[i]+"</td>\n";for(s+="</tr>\n",s+="<tr>\n",i=0;i<lt-n.length;i++)s+=0==i?"<td>"+o+"</td>\n":"<td> </td>\n";for(i=0;i<n.length;i++)s+="<td>"+n[i]+"</td>\n";for(s+="</tr>\n",s+="<tr>\n",i=0;lt>i;i++)s+="<td><input type=text class='digit linps' id=lin"+i+" maxlength=1></td>\n";s+="</tr>\n",s+="</table>",$("#ops_form").append(s),$("#laddtable").css("font","10pt Courier"),$("#laddtable").css("text-align","center"),$("#laddtable").css("margin-left","-50%"),$("#lin"+(lt-1)).select(),$(".linps").keypress(function(i){String.fromCharCode(i.keyCode),i.keyCode>47&&i.keyCode<58&&$(this).attr("value",String.fromCharCode(i.keyCode));var s="";if(13==i.keyCode){for(var r=0;lt>r;r++)s+=$("#lin"+r).attr("value");t(e+" "+o+" "+n+" = "+s),a.strokeStyle="black",$("#laddtable").remove(),$("#calc").show(),$("#sv_opform").hide(),$("#np_num1").attr("value",s),$("#np_num2").attr("value","")}}),$("#sv_opform").click(function(){for(var i="",s=0;lt>s;s++)k=$("#lin"+s).attr("value"),k="undefined"!=typeof k?k:"",i+=k;t(e+" "+o+" "+n+" = "+i),a.strokeStyle="black",$("#laddtable").remove(),$("#calc").show(),$("#sv_opform").hide(),$("#sv_opform").unbind(),$("#np_num1").attr("value",i),$("#np_num2").attr("value","")});for(var r=1;lt>r;r++)$("#lin"+r).keypress({j:r},function(t){$("#lin"+(t.data.j-1)).select()})}function s(e,i){lt=1+e.length+i.length;var n="<table id=addtable border=0>\n";for(n+="<tr>\n",s=0;s<lt-e.length;s++)n+="<td> </td>\n";for(s=0;s<e.length;s++)n+="<td>"+e[s]+"</td>\n";for(n+="</tr>\n",n+="<tr>\n",s=0;s<lt-i.length;s++)n+=0==s?"<td>x</td>\n":"<td> </td>\n";for(s=0;s<i.length;s++)n+="<td>"+i[s]+"</td>\n";for(n+="</tr>\n",o=0;o<i.length;o++){for(n+="<tr>\n",s=0;s<lt-(e.length+o+1);s++)n+=0==s&&0!=o?"<td>+</td>\n":"<td> </td>\n";for(s=0;s<e.length+o+1;s++)n+="<td><input type=text class='digit inps"+o+"' id=in_"+o+"_"+s+" maxlength=1></td>\n";n+="</tr>\n"}if(i.length>1)for(s=0;lt>s;s++)n+="<td><input type=text class='digit inps' id=in"+s+" maxlength=1></td>\n";for(n+="</tr>\n",n+="</table>",$("#ops_form").append(n),$("#addtable").css("font","10pt Courier"),$("#addtable").css("text-align","center"),$("#addtable").css("margin-left","-50%"),$("#in_0_"+e.length).select(),o=0;o<i.length;o++)o==i.length-1?$(".inps"+o).keypress(function(t){13==t.keyCode&&$("#in"+(lt-1)).select()}):$(".inps"+o).keypress({j:o},function(t){if(13==t.keyCode)for($("#in_"+(t.data.j+1)+"_"+e.length).select(),s=0;o>s;s++)$("#in_"+(t.data.j+1)+"_"+(e.length+1+s)).attr("value","0")});1==i.length?($(".inps0").keypress(function(n){var o="";if(13==n.keyCode){for(var s=0;lt-1>s;s++)o+=$("#in_0_"+s).attr("value");t(e+" x "+i+" = "+o),$("#addtable").remove(),$("#calc").show(),$("#notes").focus(),$("#sv_opform").hide(),$("#np_num1").attr("value",o),$("#np_num2").attr("value","")}}),$("#sv_opform").click(function(){for(var n="",o=0;lt-1>o;o++)n+=$("#in_0_"+o).attr("value");t(e+" x "+i+" = "+n),$("#addtable").remove(),$("#calc").show(),$("#notes").focus(),$("#sv_opform").hide(),$("#sv_opform").unbind(),$("#np_num1").attr("value",n),$("#np_num2").attr("value","")})):($(".inps").keypress(function(n){var o="";if(13==n.keyCode){for(var s=0;lt>s;s++)o+=$("#in"+s).attr("value");t(e+" x "+i+" = "+o),$("#addtable").remove(),$("#calc").show(),$("#notes").focus(),$("#sv_opform").hide()}}),$("#sv_opform").click(function(){for(var n="",o=0;lt>o;o++)n+=$("#in"+o).attr("value");t(e+" x "+i+" = "+n),$("#addtable").remove(),$("#calc").show(),$("#notes").focus(),$("#sv_opform").hide(),$("#sv_opform").unbind()}));for(var o=1;lt>o;o++)$("#in"+o).keypress({j:o},function(t){13!=t.keyCode&&(t.preventDefault(),$("#in"+t.data.j).attr("value",String.fromCharCode(t.keyCode)),$("#in"+(t.data.j-1)).select())});for(var o=0;o<i.length;o++)for(var s=1;s<e.length+o+1;s++)$("#in_"+o+"_"+s).keypress({j:o,i:s},function(t){13!=t.keyCode&&(t.preventDefault(),$("#in_"+t.data.j+"_"+t.data.i).attr("value",String.fromCharCode(t.keyCode)),$("#in_"+t.data.j+"_"+(t.data.i-1)).select())})}var r=$("#notepad")[0],a=r.getContext("2d");$("#npcolorpicker").val("#E85858"),$("#sv_opform").hide(),answer=!1;var l,c,d,h,u=void 0,f=$("#note").jScrollPane().data("jsp"),m=!1,g=20,v="wr";try{u=JSON.parse($("#npstr").attr("value"))}catch(y){}var b=[],x=[];if(""!=u&&void 0!=u)for(answer=!0,x=u[1],p=0;p<u[0].length;p++)t(u[0][p]);$("#drawnp").click(function(){if("dr"!=v)for($("#drawnp").css("background-color","gray"),v="dr",$("#npPane").hide(),$("#notes").hide(),i=0;i<b.length;i++)a.fillStyle="rgb(85, 102, 119)",a.font="10pt Courier",a.fillText(b[i],2,i*g+12);else v="wr",$("#drawnp").css("background-color","white"),$("#npPane").show(),$("#notes").show(),$("#notes").focus()}),$("#notepad").mousedown(function(){m=!0,"wr"==v&&(f.scrollToPercentY(100,!0),$("#notes").focus()),"dr"==v&&(a.lineWidth=3,a.strokeStyle=$("#npcolorpicker").val(),c=l,h=d,x.push([]),x[x.length-1].push([c,h,$("#npcolorpicker").val()]))}),$("#notepad").mouseup(function(){a.lineWidth=1,m=!1,$("#npstr").attr("value",JSON.stringify([b,x]))}),$("#notepad").mousemove(function(t){var i=$("#notepad").offset(),n=Math.round(i.left),o=Math.round(i.top);l=t.pageX-n,d=t.pageY-o,m&&"dr"==v&&(e(x[x.length-1][x[x.length-1].length-1][0],x[x.length-1][x[x.length-1].length-1][1],l,d),x[x.length-1].push([l,d]))}),$("#notes").keypress(function(e){f.scrollToPercentY(100),13==e.keyCode&&t($("#notes").attr("value"))});var w=!0,T=!1,_=!1;$("#np_add").css("background-color","gray");var S=function(){w=!1,T=!1,_=!1,$(".tbicons").css("background-color","white"),$("#calc-form").removeClass()};$("#np_add").click(function(){w||(S(),w=!0,$(this).css("background-color","gray"),$("#calc-form").addClass("addition"))}),$("#np_sub").click(function(){T||(S(),T=!0,$(this).css("background-color","gray"),$("#calc-form").addClass("subtraction"))}),$("#np_mult").click(function(){_||(S(),_=!0,$(this).css("background-color","gray"),$("#calc-form").addClass("multiplication"))}),$("#cr_opform").click(function(){n()}),$("#np_num2").keypress(function(t){13==t.keyCode&&n()})}function startShow(){var t=$("div.slide");t.mouseenter(function(){clearInterval(parseInt($("#intervalID").text()))}),t.mouseleave(function(){$("#intervalID").text(setInterval("decSlideTimer()",1e3))}),$("#nextslide").click(function(){setSlide((slideNo()+1)%numSlides())}),$("#prevslide").click(function(){setSlide((slideNo()+numSlides()-1)%numSlides())}),$("#intervalID").text(setInterval("decSlideTimer()",1e3))}function slideNo(){return parseInt($("#slideNo").text())}function numSlides(){return $("div.slide").length}function resetTimer(t){if(void 0===t)var t=6;$("#slideTimer").text(t+"")}function decSlideTimer(){var t=parseInt($("#slideTimer").text());return t>0?(resetTimer(t-1),void 0):(setSlide((slideNo()+1)%numSlides()),void 0)}function setSlide(t){var e=$("div.slide.selected"),i=$("div.slide:eq("+t+")");e.fadeOut(),i.fadeIn(),e.removeClass("selected"),i.addClass("selected"),$("#slideNo").text(t),resetTimer()}function setPageFunc(t){return function(){$(".staticpage").hide(),$("#"+t).show(),$(".navbar-fixed-top li").removeClass("active"),$("#"+t+"link").parent().addClass("active")}}function hideProblem(){return $("#dimmer").unbind("click"),$("#problem_overlay").hide(),$("#dimmer").remove(),!1}function closeWithDimmer(){var t=$("#dimmer");t.length>0&&t.remove(),$("body").prepend("<div id=dimmer onclick='hideProblem();'></div>"),$("#dimmer").show()}function initProblemOverlay(){var t=$("#problem_overlay");0==t.length&&($("body").prepend("<div id=problem_overlay class=problem_overlay></div>"),t=$("#problem_overlay"));var e=$("#dimmer");return 0==e.length&&($("body").prepend("<div id=dimmer></div>"),e=$("#dimmer")),t.show(),closeWithDimmer(),t}function browsers(){$.browser.webkit&&$("body").append('<div class=\'modal in\' id="browserss"><p>For the best SmarterGrades experience, use:</p><a href="https://www.google.com/intl/en/chrome/browser/" target="#"><img src="/assets/chrome_i.png"></img></a>')}function hideProblem(){return $("#pr_dim").hide(),$("body").css("overflow","scroll"),!1}function closeWithDimmer(){var t=$("#dimmer");t.length>0&&t.remove(),$("#dimmer").show()}function initProblemOverlay(){var t=$("#dimmer");0==$("#pr_dim").length&&$("body").prepend("<div id=pr_dim></div>"),0==t.length&&($("#pr_dim").prepend("<div id=dimmer onclick='hideProblem();'></div>"),t=$("#dimmer"));var e=$("#problem_overlay");return 0==e.length&&($("#pr_dim").append("<div id=problem_overlay class=problem_overlay></div>"),e=$("#problem_overlay")),$("body").css("overflow","hidden"),$("#pr_dim").show(),t.show(),e.show(),e}function bclr_pset(){COLOR=["#049cdb","#46a546","#9d261d","#f89406","#c3325f","#7a43b6","#ffc40d"],$(".pset_list_box").hover(function(){$(this).css("background-color",COLOR[Math.round(Math.random()*(COLOR.length-1))])})}function bclr_problem(){COLOR=["#049cdb","#46a546","#9d261d","#f89406","#c3325f","#7a43b6","#ffc40d"],$(".problem_list_box").hover(function(){$(this).css("background-color",COLOR[Math.round(Math.random()*(COLOR.length-1))])})}function awesome(){AWESOME=["Awesome!! Try Another!","Fantastic! You're almost done with this Problem Type! Try Another!","You're making everyone else look bad! Keep at it! Try Another"],$("#problem_overlay").append("<div class=awesome id=awesome><p>"+AWESOME[Math.round(Math.random()*(AWESOME.length-1))]+"</p><i class='x_awesome icon-remove-circle icon-white'></i></div>"),$(".x_awesome").click(function(){$(".awesome").hide()})}function shit(){SHIT=["Try Another!","Keep on Working at it!!","You will get there! Try another!"],t="<div class=awesome id=shit><p>"+SHIT[Math.round(Math.random()*(SHIT.length-1))]+"</p><i class='x_awesome icon-remove-circle icon-white'></i></div>",$("#problem_overlay").append(t),$(".x_awesome").click(function(){$(".awesome").hide()})}function done_pr(){DONEP=["Try Another Problem Type! This one is already Blue!","There are other Problem Types Available!! Don't hoard this one!!","The other Problem Types are feeling lonely!!! Try one of them!"],$("#problem_overlay").append("<div class=awesome id=donep><p>"+DONEP[Math.round(Math.random()*(DONEP.length-1))]+"</p><i class='x_awesome icon-remove-circle icon-white'></i></div>"),$(".x_awesome").click(function(){$(".awesome").hide()})}function hide_custom_problem_form(){$("#dimmer").unbind("click"),$("#custom_problem_form").hide(),$("#custom_problem_form").find(".input-field,textarea").attr("value",""),$("#dimmer").hide()}function format_select_arrow(){$.browser.opera||$("select.select").each(function(){var t=$(this).attr("title"),e=$(this).width(),i=$(this).height(),n=$(this).position();$("option:selected",this).length>0&&(t=$("option:selected",this).text()),$(this).css({"z-index":10,opacity:0,"-khtml-appearance":"none"}).after('<span class="select" style="height:'+i+"px;width:"+e+"px;left:"+n.left+"px;top:"+n.top+'px;">'+t+"</span>").change(function(){val=$("option:selected",this).text(),$(this).next().text(val)})})}function shelf_color(){var t=[],e=[],i=[],n=0,o=0,s=0,r=0,a=0;$("#bbor").children(".pset_pbar").each(function(){t[n]=$(this).children(".pset_bar").children(".bar-danger").width(),a+=$(this).width(),i[n]=$(this).children(".pset_bar").children(".bar-info").width(),o=i[n]+o,s=t[n]+s,e[n]=$(this).children(".pset_bar").children(".bar-success").width(),r=e[n]+r,n++
}),$("#bigshelf .shelf").width();var l=100*(r/a),c=100*(o/a),d=l+c;0!=l?$("#bigshelf .shelf .shelf_ul").css("background","-webkit-gradient(linear,"+c+"% 0%,"+d+"% 0%, from(#0087bd), to(#ff0040), color-stop(.005,#60b349),color-stop(.995,#60b349))"):$("#bigshelf .shelf .shelf_ul").css("background","-webkit-linear-gradient(left,#0087bd "+c+"%,#ff0040 "+c+"%)"),$("#bigshelf .shelf .shelf_ul").css("background","-moz-linear-gradient(0% 0% 0deg,#0087bd, #1414C9, #0087bd "+c+"%,#60b349 0%,#60b349 "+d+"%,#ff0040 0%)")}function shelf_color_in(t,e){"0"!=e?$("#bigshelf .shelf_ul").css("background","-webkit-gradient(linear,"+parseInt(t)+"% 0%,"+(parseInt(t)+parseInt(e))+"% 0%, from(#0087bd), to(#ff0040), color-stop(.005,#60b349),color-stop(.995,#60b349))"):"0"!=t?100==parseInt(t)?$("#bigshelf .shelf_ul").css("background","#0087bd"):$("#bigshelf .shelf_ul").css("background","-webkit-linear-gradient(left, #0087bd "+parseInt(t)+"%, #ff0040 "+parseInt(t)+"%)"):$("#bigshelf .shelf_ul").css("background","red"),$("#bigshelf .shelf_ul").css("background","-moz-linear-gradient(0% 0% 0deg,#0087bd, #1414C9, #0087bd "+parseInt(t)+"%,#60b349 0%,#60b349 "+(parseInt(t)+parseInt(e))+"%,#ff0040 0%)")}function set_stat_widths(t,e){console.log(stats.find("li:eq(2)").first().attr("data-original-title")),void 0==e&&(e=!1),t.children("ul").each(function(){var t=$(this).children("li:gt(0)"),i=540/t.length;t.each(function(){var t=parseInt($(this).attr("data-width")),n=$(this).children("div").first();e?($(this).width(i*t/100),n.width("100%")):($(this).width(i),n.width(t+"%"))})})}function initProblem(){for(a in INIT_PROBLEM)INIT_PROBLEM[a].call();console.log("Problem JS initialized")}function destroyProblem(){for(a in DESTROY_PROBLEM)DESTROY_PROBLEM[a].call()}function setUpDataGr(t,e){function n(t,e,i,n){u.beginPath(),u.moveTo(t,e),u.lineTo(i,n),u.stroke(),u.closePath()}COLOR=["#049cdb","#46a546","#9d261d","#f89406","#c3325f","#7a43b6","#ffc40d"];var o=$("#"+t)[0],s=e;if(void 0==o)return void 0;var r,a,l,c,d=o.height,h=o.width,u=o.getContext("2d"),p=!1,f={mg:50,type:"basicbar",scale:30,color:["red","green","blue","orange","yellow","gray"],edit:!1,divs:10,dir:"x",head:"",start:0,table:new Array,tally:[],divsedit:!1,setEditable:function(t){this.edit=t},setDivsEditable:function(t){this.divsedit=t},setType:function(t){this.type=t},setDivs:function(t){this.divs=t},setScale:function(t){this.scale=t},setDir:function(t){this.dir=t},setHead:function(t){this.head=t},setStart:function(t){this.start=t},drawBones:function(){for(u.fillStyle="black",n(this.mg,d-this.mg,this.mg,0),n(h,d-this.mg,this.mg,d-this.mg),i=0;i<=(d-this.mg)/this.scale;i++)n(this.mg,d-this.mg-i*this.scale,this.mg+5,d-this.mg-i*this.scale),u.textAlign="right",u.fillText(this.divs*i,this.mg-1,d-this.mg-i*this.scale+8)},fromTable:function(){$("#"+s+" tr").each(function(){var t=[],e=$(this).find("input");e.length>0&&(e.each(function(){t.push($(this).attr("value"))}),f.table.push(t))})},drawInitialPictogram:function(t){for(this.image=t,x=10+h/4,y=d/this.table.length/2,mu=20,html="",i=0;i<this.table.length;i++)for(j=0;j<parseInt(this.table[i][1]);j++)parseInt(this.table[i][1])-this.divs>=this.divs?0==(j+1)%this.divs&&(html+='<i class="pict '+t+'" id=pict_'+i+"_"+(j+1)/this.divs+' style="position:absolute; top:'+(y+2*i*y)+"px; left:"+(x+mu*(j+1)/this.divs)+'px;"></i>\n'):html+='<i class="half_pict '+t+'" id=pict_'+i+"_"+Math.ceil((j+1)/this.divs)+' style="position:absolute; top:'+(y+2*i*y)+"px; left:"+(x+mu*Math.ceil((j+1)/this.divs))+'px;"></i>\n';$("#pict").append(html)},addPictogram:function(t){for(x=10+h/4,y=d/this.table.length/2,html='<i class="pict '+this.image+'" id=pict_'+t+"_"+(1+parseInt(this.table[t][1])/this.divs)+' style="position:absolute; top:'+(y+2*t*y)+"px; "+(x+mu*(1+Math.ceil(parseInt(this.table[t][1])/this.divs)))+'px;"></i>\n',this.table[t][1]=""+(parseInt(this.table[t][1])+this.divs),cor=!0,i=0;i<Math.ceil(parseInt(this.table[t][i])/this.divs)-1;i++)if($("#pict_"+t+"_"+(i+1)).attr("class")=="half_pict "+this.image){cor=!1;break}cor||(this.table[t][1]="n/a")},addHalfPictogram:function(t){for(x=10+h/4,y=d/this.table.length/2,html='<i class="half_pict '+this.image+'" id=pict_'+t+"_"+parseInt(this.table[t][1])/this.divs+' style="position:absolute; top:'+(y+2*t*y)+"px; "+(x+mu*Math.ceil(parseInt(this.table[t][1])/this.divs))+'px;"></i>\n',this.table[t][1]=""+(parseInt(this.table[t][1])+this.divs/2),cor=!0,i=0;i<Math.ceil(parseInt(this.table[t][i])/this.divs)-1;i++)if($("#pict_"+t+"_"+(i+1)).attr("class")=="half_pict "+this.image){cor=!1;break}cor||(this.table[t][1]="n/a")},removePictogram:function(t){$("#pict_"+t+"_"+Math.ceil(parseInt(this.table[t][1])/this.divs)).attr("class")=="half_pict "+this.image&&(this.table[t][i]=""+parseInt(this.table[t][i])-this.divs/2),$("#pict_"+t+"_"+Math.ceil(parseInt(this.table[t][1])/this.divs)).attr("class")=="pict "+this.image&&(this.table[t][i]=""+parseInt(this.table[t][i])-this.divs/2),$("#pict_"+t+"_"+Math.ceil(parseInt(this.table[t][1])/this.divs)).remove()},preInitialTally:function(){for(i=0;i<this.table.length;i++)for(this.tally[i]=new Array,k=0;k<parseInt(this.table[i][1]);k++)0!=(k+1)%5?this.tally[i].push("|"):this.tally[i].push("/")},drawTallyMarks:function(){for(n(h/4,0,h/4,d),this.edit&&n(3*h/4,0,3*h/4,d),x=10+h/4,y=d/this.table.length/2,mu=7,su=10,i=0;i<this.table.length;i++)for(n(0,(i+1)*(d/this.table.length),h,(i+1)*(d/this.table.length)),u.textAlign="center",u.fillStyle=COLOR[i%COLOR.length],u.font="12pt Calibri",u.fillText(this.table[i][0],h/8,y+i*(d/this.table.length)+3),u.strokeStyle="black",u.textAlign="left",ct=0,j=0;j<this.tally[i].length;j++)u.strokeStyle=COLOR[i%COLOR.length],"|"==this.tally[i][j]?(n(x+j*mu,y+i*(d/this.table.length)-su,x+j*mu,y+i*(d/this.table.length)+su),ct+=1):(n(x+j*mu,y+i*(d/this.table.length)-su,x+(j-ct-1)*mu,y+i*(d/this.table.length)+su),ct=0),u.strokeStyle="black"},addLine:function(t){for(this.tally[t].push("|"),ret=parseInt(this.table[t][1])+1,i=0;i<this.tally[t].length;i++)if(0!=(i+1)%5){if("|"!=this.tally[t][i]){ret="n/a";break}}else if("/"!=this.tally[t][i]){ret="n/a";break}this.table[t][1]=ret},addSlash:function(t){for(this.tally[t].push("/"),ret=parseInt(this.table[t][1])+1,i=0;i<this.tally[t].length;i++)if(0!=(i+1)%5){if("|"!=this.tally[t][i]){ret="n/a";break}}else if("/"!=this.tally[t][i]){ret="n/a";break}this.table[t][1]=ret},remLast:function(t){for(this.tally[t].pop(),ret=0,i=0;i<this.tally[t].length;i++)if(0!=(i+1)%5){if("|"!=this.tally[t][i]){ret="n/a";break}ret+=1}else{if("/"!=this.tally[t][i]){ret="n/a";break}ret+=1}this.table[t][1]=""+ret},placeTallyButtons:function(){for(x=5*h/6,y1=d/this.table.length/2-10,html="",i=0;i<this.table.length;i++)html+="<button type=button class=line id=line_"+i+' style="position:absolute; top:'+(y1+i*(d/this.table.length))+"px; left:"+(x-20)+'px;"> | </button>\n',html+="<button type=button class=slash id=slash_"+i+' style="position:absolute; top:'+(y1+i*(d/this.table.length))+"px; left:"+x+'px;"> / </button>\n',html+="<button type=button class=undo id=undo_"+i+' style="position:absolute; top:'+(y1+i*(d/this.table.length))+"px; left:"+(x+20)+'px;"> < </button>\n',$("#tally").append(html)},drawBasicBar:function(){for(this.sp=(h-this.mg)/this.table.length,i=0;i<this.table.length;i++)u.save(),u.translate(this.mg+this.sp/2+i*this.sp,d-this.mg/2),this.table[i][0].length>3&&u.rotate(-Math.PI/3),u.textAlign="center",u.fillText(this.table[i][0],0,0),u.restore();for(i=0;i<this.table.length;i++)he=parseInt(this.table[i][1])/this.divs*this.scale,u.fillStyle=COLOR[i%COLOR.length],u.fillRect(this.mg+i*this.sp+this.sp/4,d-this.mg-he,this.sp/2,he)},redraw:function(){this.chHTable(),u.clearRect(0,0,h,d),"basicbar"==this.type&&(this.drawBones(),this.drawBasicBar()),"tally"==this.type&&this.drawTallyMarks()},editingBB:function(t,e){t>0?parseInt(this.table[e][1])>0&&(st=parseInt(this.table[e][1])-Math.floor(t/this.scale)*this.divs,st>=0&&(this.table[e][1]=""+st)):(st=parseInt(this.table[e][1])-Math.ceil(t/this.scale)*this.divs,st>=0&&(this.table[e][1]=""+st)),this.redraw()},chHTable:function(){for(i=0;i<this.table.length;i++)for(j=0;j<this.table[i].length;j++)$("#"+s+" tr:eq("+i+")").find("input:eq("+j+")").attr("value",this.table[i][j])}};"edit"==$("#edit").attr("value")&&f.setEditable(!0),f.setType($("#type").attr("value")),"tally"==f.type?(f.fromTable(),f.edit&&f.placeTallyButtons(),f.preInitialTally(),f.drawTallyMarks()):("true"==$("#editdivs").attr("value")&&f.setDivsEditable(!0),f.setDivs($("#divs").attr("value")),f.drawBones(),f.fromTable(),f.drawBasicBar()),$(".line").click(function(){f.addLine(parseInt($(this).attr("id").substr($(this).attr("id").indexOf("_")+1,10))),f.redraw()}),$(".slash").click(function(){f.addSlash(parseInt($(this).attr("id").substr($(this).attr("id").indexOf("_")+1,10))),f.redraw()}),$(".undo").click(function(){f.remLast(parseInt($(this).attr("id").substr($(this).attr("id").indexOf("_")+1,10))),f.redraw()}),$("#"+t).mousedown(function(){l=r,c=a,initdowny=a,p=!0}),$("#"+t).mouseup(function(){p=!1}),$("#"+t).mousemove(function(e){var n=$("#"+t).offset(),o=Math.round(n.left),s=Math.round(n.top);if(r=e.pageX-o,a=e.pageY-s,p&&f.edit&&"basicbar"==f.type)for(i=0;i<f.table.length;i++)l>f.mg+f.sp*i+f.sp/4&&l<f.mg+f.sp*i+3*f.sp/4&&c<d-f.mg-parseInt(f.table[i][1])/f.divs*f.scale+45&&c>d-f.mg-parseInt(f.table[i][1])/f.divs*f.scale-45&&Math.abs(a-c)>=f.scale&&(f.editingBB(a-c,i),c=a)})}function setUpGeo(){function t(){V.clearRect(0,0,H.width,H.height),c(),ae>=0&&re[ae].draw();for(var t=0;t<se.length;t++)se[t].draw()}function e(t){var e=$("#geocanvas").offset(),i=Math.round(e.left),n=Math.round(e.top);B=t.pageX-i,F=t.pageY-n}function n(){console.log(se);for(var t="",e="",i=0;i<se.length;i++)se[i].hidden||(t+='<div class=shape style="background-color:'+U[i]+';" id=s_'+i+" >"+se[i]+"</div>\n",e+=","+se[i].encode());O.html(t),$("#qbans_geometry").attr("value",e.substr(1))}function o(){for(var e=0;e<se.length;e++)se[e].hidden||($("#s_"+e).mouseenter({i:e,color:U[e]},function(e){se[e.data.i].highlight(e.data.color),t()}),$("#s_"+e).mouseleave({i:e},function(e){se[e.data.i].unhilight(),t()}),se[e]instanceof M&&$("#s_"+e).click({i:e},function(t){W==ue&&$("#circlesize").attr("value",""+se[t.data.i].r)}))}function r(){tool=$("#starttool").attr("value"),"select"==tool?L(ee):"compass"==tool?L(K):"line"==tool?L(te):"protractor"==tool?L(J):L(ne)}function a(){oe=[],_(),X=1,Y=1,G=1,Q=1;var t=$("#startshapes").attr("value");if(""!=t)for(var e=t.split(","),i=0;i<e.length;i++)T(x(e[i]));G=X,Q=Y,oe=se.slice(0),_()}function l(){for(var t=$("#qbans_selected").attr("value"),e=t.split(","),i=0;i<e.length;i++){var n=x(e[i]);void 0!=n&&(j=k(n),j>0?se[j].highlight():(n.highlight(),T(n)))}}function c(){if(ae>=0)re[ae].mouseDist()>10&&(ae=-1,W==de&&ce.toOffset());else for(var t=0;t<re.length;t++)re[t].mouseDist()<7&&(ae=t)}function d(){re=[];for(var t=0;t<se.length;t++)se[t].hidden||(se[t]instanceof S&&(E(se[t].x1,se[t].y1),E(se[t].x2,se[t].y2)),se[t]instanceof M&&E(se[t].x,se[t].y));for(var t=0;t<se.length-1;t++)for(var e=t+1;e<se.length;e++)se[t].hidden||se[e].hidden||(se[t]instanceof M?se[e]instanceof M?p(se[t],se[e]):se[e]instanceof S&&u(se[e],se[t]):se[t]instanceof S&&(se[e]instanceof M?u(se[t],se[e]):se[e]instanceof S&&h(se[t],se[e])))}function h(t,e){var i=(t.x1-t.x2)*(e.y1-e.y2)-(t.y1-t.y2)*(e.x1-e.x2);if(0==i)return 0;var n=Math.floor(((t.x1*t.y2-t.y1*t.x2)*(e.x1-e.x2)-(t.x1-t.x2)*(e.x1*e.y2-e.y1*e.x2))/i),o=Math.floor(((t.x1*t.y2-t.y1*t.x2)*(e.y1-e.y2)-(t.y1-t.y2)*(e.x1*e.y2-e.y1*e.x2))/i),s=Math.min(Math.max(t.x1,t.x2),Math.max(e.x1,e.x2)),r=Math.min(Math.max(t.y1,t.y2),Math.max(e.y1,e.y2)),a=Math.max(Math.min(t.x1,t.x2),Math.min(e.x1,e.x2)),l=Math.max(Math.min(t.y1,t.y2),Math.min(e.y1,e.y2));n>=a&&s>=n&&o>=l&&r>=o&&E(n,o)}function u(t,e){var i=Math.abs(t.x2-t.x1)<Math.abs(t.y2-t.y1),n=i?t.y1:t.x1,o=i?t.x1:t.y1,s=i?t.y2:t.x2,r=i?t.x2:t.y2,a=i?e.y:e.x,l=i?e.x:e.y,c=(r-o)/(s-n),d=o-c*n,h=o-l-c*n,u=c*c+1,d=2*h*c-2*a,e=h*h+a*a-e.r*e.r,p=d*d-4*u*e;if(0>p)return 0;var f=Math.max(n,s),m=Math.max(o,r),g=Math.min(n,s),v=Math.min(o,r);p=Math.sqrt(p);var y=Math.floor((p-d)/(2*u)),b=Math.floor(c*(y-n)+o);return y>=g&&f>=y&&b>=v&&m>=b&&(i?E(b,y):E(y,b)),0==p?1:(y=Math.floor((0-d-p)/(2*u)),b=Math.floor(c*(y-n)+o),y>=g&&f>=y&&b>=v&&m>=b&&(i?E(b,y):E(y,b)),2)}function p(t,e){var i=v(t.x,t.y,e.x,e.y),n=t.r+e.r-i;if(0>n||0==i)return 0;if(0==n){var o=(e.x-t.x)*(t.r/(t.r+e.r))+t.x,s=(e.y-t.y)*(t.r/(t.r+e.r))+t.y;return E(o,s),1}var r=(t.r*t.r-e.r*e.r+i*i)/(2*i),a=Math.sqrt(t.r*t.r-r*r),o=(e.x-t.x)*(r/i)+t.x,s=(e.y-t.y)*(r/i)+t.y,l=o-a/i*(e.y-t.y),c=o+a/i*(e.y-t.y),d=s+a/i*(e.x-t.x),h=s-a/i*(e.x-t.x);return E(l,d),E(c,h),2}function f(t,e,i,n,o){void 0!=n&&(V.strokeStyle=n),V.lineWidth=void 0!=o?o:1,V.beginPath(),V.arc(t,e,i,0,2*Math.PI,!1),V.closePath(),V.stroke()}function m(t,e,i,n){void 0==n&&(n="black"),V.beginPath(),V.arc(t,e,i,0,2*Math.PI,!1),V.closePath(),V.fillStyle=n,V.fill()}function g(t,e,i,n,o,s){void 0!=o&&(V.strokeStyle=o),V.lineWidth=void 0!=s?s:1,V.beginPath(),V.moveTo(t,e),V.lineTo(i,n),V.stroke(),V.closePath()}function v(t,e,i,n){return xdiff=t-i,ydiff=e-n,Math.sqrt(xdiff*xdiff+ydiff*ydiff)}function y(t,e,i){return v(t,e,B,F)<=i}function b(t){t="undefined"!=typeof t?t:!1,this.hidden=t,this.color="black",this.thickness=1,this.highlight=function(t){this.color=t,this.thickness=3},this.unhilight=function(){this.color="black",this.thickness=1}}function x(t){var e=t.split(":");if(e.length<2)return void 0;var i=e.shift();if("line"==i){for(var n=0;n<e.length;n++)e[n]=parseInt(e[n]);return new S(e[0],e[1],e[2],e[3])}if("circle"==i)return new M(parseInt(e[0]),parseInt(e[1]),parseFloat(e[2]));if("point"==i)return new P(parseInt(e[0]),parseInt(e[1]),e[2],parseFloat(e[3]));if("infline"==i){for(var n=0;n<e.length;n++)e[n]=parseInt(e[n]);return new S(e[0],e[1],e[2],e[3])}if("ray"==i){for(var n=0;n<e.length;n++)e[n]=parseInt(e[n]);return new S(e[0],e[1],e[2],e[3])}}function w(){le(),d(),t()}function k(t){for(var e=0;e<se.length;e++)if(se[e].to_s==t.to_s)return e;return-1}function T(t){if(t instanceof S)X++;else if(t instanceof M)Y++;else if(void 0==t)return-1;return se.push(t),w(),se.length-1}function _(){X=G,Y=Q,se=oe.slice(0),w()}function S(t,e,i,n){return t>i?new S(i,n,t,e):(b.call(this),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.num=X,this.draw=function(){g(this.x1,this.y1,this.x2,this.y2,this.color,this.thickness)},this.set_p2=function(t,e){this.x2=t,this.y2=e,this.draw=function(){g(this.x1,this.y1,t,e,"black")}},this.underMouse=function(t){void 0==t&&(t=5);var e=this.toSlopeInt(),i=this.toRevSlopeInt();return Math.abs(B*e.m+e.b-F)<t&&this.x1<B&&B<this.x2||Math.abs(F*i.m+i.b-B)<t&&Math.abs((this.y1+this.y2)/2-F<t)},this.toString=function(){return"l<sub>"+this.num+"</sub>"},this.encode=function(){return"line:"+this.x1+":"+this.y1+":"+this.x2+":"+this.y2},this.toSlopeInt=function(){var t=(this.y2-this.y1)/(this.x2-this.x1),e=this.y1-t*this.x1;return{m:t,b:e}},this.toRevSlopeInt=function(){var t=(this.x2-this.x1)/(this.y2-this.y1),e=this.x1-t*this.y1;return{m:t,b:e}},void 0)}function C(t,e,i,n){var o=new S(t,e,i,n);return T(o)}function M(t,e,i){b.call(this),this.x=t,this.y=e,this.r=i,this.num=Y,this.draw=function(){f(this.x,this.y,this.r,this.color,this.thickness)},this.underMouse=function(t){return void 0==t&&(t=3),y(this.x,this.y,this.r+t)&&!y(this.x,this.y,this.r-t)},this.toString=function(){return"c<sub>"+this.num+"</sub>"},this.encode=function(){return"circle:"+this.x+":"+this.y+":"+this.r}}function I(t,e,i){var n=new M(t,e,i);return T(n)}function P(t,e,i,n){b.call(this,!0),this.x=t,this.y=e,this.name=i,this.angle=void 0==n?45:n,this.color="black",this.r=2,this.draw=function(){var t=17-3.7*Math.abs(this.angle-2.2),e=this.x+t*Math.cos(this.angle),i=this.y+t*Math.sin(this.angle);V.fillText(this.name,e,i),m(this.x,this.y,this.r,this.col)},this.highlight=function(t){void 0==t&&(t="green"),this.color=t,this.r=7},this.unhilight=function(){this.color="black",this.r=2},this.toString=function(){return i},this.encode=function(){return"point:"+this.x+":"+this.y+":"+this.name},this.underMouse=function(){return!1}}function A(t,e,i){var n=new P(t,e,i);return T(n)}function N(t,e){this.x=t,this.y=e,this.active=!1,this.mouseDist=function(){return W==de?W.mouse_is_down&&W.on_protractor?v(this.x,this.y,B-ce.offx,F-ce.offy):1024:v(this.x,this.y,B,F)},this.toString=function(){return"(POI "+this.x+", "+this.y+")"},this.draw=function(){m(this.x,this.y,10,"green")},this.encode=function(){return"point:"+this.x+":"+this.y+":"}}function E(t,e){re.push(new N(t,e))}function L(t){W!=ye[t]&&($(".tools div").removeClass("selected"),$(be[t]).addClass("selected"),"undefined"!=typeof W&&W.deactivate(),"undefined"==typeof ye[t]?(alert("undefined newstate: "+t+", "+q(ye)),W=de):W=ye[t],W.activate())}function D(){var t=parseFloat($("#circlesize").attr("value"));return isNaN(t)||0>=t?(alert("The radius on the right needs to be a positive number!"),$("#usecirclesize").prop("checked",!1),!1):t>500?(alert("Hey, that's a pretty big radius.  I don't think it will fit on the screen"),$("#usecirclesize").prop("checked",!1),!1):!0}function q(t){s="";for(var e=0;e<t.length;e++)s+=t[e]+"\n";return s}var H=$("#geocanvas")[0];if(void 0==H)return void 0;var O=$("#shapes");$("#message");var B,F,z,R,W,V=H.getContext("2d"),X=1,Y=1,G=1,Q=1,U=["green","blue","purple","red","orange","yellow"],J=0,K=1,Z=2,te=3,ee=4,ie=5,ne=6,oe=[],se=[],re=[],ae=-1,le=function(){n(),o()},ce={x:H.width/2,y:H.height/2,offx:0,offy:0,theta:0,shapes_i:-1,lastx:-1,lasty:-1,lasttheta:0,addToShapes:function(){return this.shapes_i>=0?this.shapes_i:(this.shapes_i=se.push(this)-1,t(),this.shapes_i)},delFromShapes:function(){this.shapes_i>=0&&(se.splice(this.shapes_i,1),t(),this.shapes_i=-1)},toString:function(){return"(Protractor at "+this.x+", "+this.y+")"},move:function(){this.x-=this.lastx-B,this.y-=this.lasty-F,this.lastx=B,this.lasty=F},rotate:function(){var t=Math.atan2(B-this.x,F-this.y);this.theta-=t-this.lasttheta,this.lasttheta=t},setLasttheta:function(){this.lasttheta=Math.atan2(B-this.x,F-this.y)},draw:function(){V.strokeStyle="black",V.lineWidth=1;var t=50,e=100;this.x,this.y,V.beginPath(),V.arc(this.x,this.y,5,0,2*Math.PI,!0),V.closePath(),V.stroke(),V.beginPath(),V.arc(this.x,this.y,e,Math.PI+this.theta,2*Math.PI+this.theta,!1),V.arc(this.x,this.y,t,Math.PI+this.theta,2*Math.PI+this.theta,!1);for(var i=1,n=[2,9,2],o=0;o<n.length;o++){i*=n[o],theta_i=Math.PI/i,myInnerRadius=(e-t)*o/n.length+t;for(var s=1;i>s;s++){var r=s*theta_i+this.theta,a=0-Math.sin(r),l=0-Math.cos(r),c=l*myInnerRadius+this.x,d=a*myInnerRadius+this.y,h=l*e+this.x,u=a*e+this.y;V.moveTo(c,d),V.lineTo(h,u)}}var c=Math.cos(this.theta)*e+this.x,d=Math.sin(this.theta)*e+this.y,h=Math.cos(this.theta+Math.PI)*e+this.x,u=Math.sin(this.theta+Math.PI)*e+this.y;V.moveTo(c,d),V.lineTo(h,u),V.stroke()},underMouse:function(){return y(this.x,this.y,100)},setOffset:function(){this.offx=B-this.x,this.offy=F-this.y},toOffset:function(){this.x=B-this.offx,this.y=F-this.offy}},de={tool:"protractor",on_protractor:!1,mouse_is_down:!1,activate:function(){ce.addToShapes(),$(H).css("cursor","move")},deactivate:function(){ce.delFromShapes(),$(H).css("cursor","default")},mousedown:function(){this.mouse_is_down=!0,ce.lastx=z,ce.lasty=R,this.on_protractor=ce.underMouse(),this.on_protractor?ce.setOffset():ce.setLasttheta()},mouseup:function(){this.mouse_is_down=!1},mousemove:function(){this.mouse_is_down&&(this.on_protractor?ce.move():ce.rotate())}},he=function(){return null},ue={tool:"compass",mouse_is_down:!1,usingsetradius:!1,minicircle_i:-1,useWrittenSize:function(){$("#compass span").attr("style",""),$("#compass span").text("Compass R = "+Math.round(parseFloat($("#circlesize").attr("value")),2)),$("#circlesize").attr("disabled",!0)},useMakeSize:function(){$("#compass span").attr("style","border-right:2px solid black;"),$("#compass span").text("Compass"),$("#circlesize").attr("disabled",!1)},activate:function(){$("#circlesize").show(),$("#usecirclesize").show(),this.useMakeSize(),$(H).css("cursor","crosshair")},deactivate:function(){$(be[K]+" span").attr("style",""),$("#compass span").text("Compass"),$("#circlesize").hide(),$("#usecirclesize").hide(),$(H).css("cursor","default")},mousedown:function(){if(!this.usingSetRadius()){this.mouse_is_down=!0,xe.start();var t=new M(B,F,5);t.hidden=!0,this.minicircle_i=se.push(t)}},mouseup:function(){if(this.usingsetradius){var e=parseFloat($("#circlesize").attr("value"));if(isNaN(e)||0>e||e>1e3)return alert('"'+$("#circlesize").attr("value")+'" is an invalid circle radius - it has to be a number between 0 and 1000'),void 0}else{se.pop();var e=xe.clear()}e>4&&(I(z,R,e),t()),this.mouse_is_down=!1,$("#circlesize").attr("value",""+e)},mousemove:function(){this.mouse_is_down&&!this.usingsetradius&&(v(B,F,z,R),xe.follow())},usingSetRadius:function(){return this.usingsetradius=1==$("#usecirclesize:checked").length,this.usingsetradius}},pe={mouse_is_down:!1,x:0,y:0,last_dist:"n/a",activate:he,deactivate:he,mousedown:function(){this.mouse_is_down=!0,this.x=B,this.y=F,xe.start()},mousemove:function(){var t;this.mouse_is_down?(t="distance from ("+this.x+", "+this.y+") to (",t+=B+", "+F+") = "+v(this.x,this.y,B,F),xe.follow()):t="("+B+", "+F+"), just measured: "+this.last_dist},mouseup:function(){this.mouse_is_down=!1;var t=xe.clear();this.last_dist=t}},fe={x1:B,y1:F,mouse_is_down:!1,activate:function(){$(H).css("cursor","crosshair")},deactivate:function(){$(H).css("cursor","default")},mousedown:function(){this.mouse_is_down=!0,this.x1=B,this.y1=F,xe.start()},mouseup:function(){this.mouse_is_down=!1,xe.clear(),v(this.x1,this.y1,B,F)>5&&(C(this.x1,this.y1,B,F),t())},mousemove:function(){this.mouse_is_down&&xe.follow()}},me={s_i:-1,activate:function(){re=[],$(H).css("cursor","pointer")},deactivate:function(){w(),$(H).css("cursor","default")},mousedown:he,mouseup:function(){this.s_i>=0&&(se.splice(this.s_i,1),this.s_i=-1)},mousemove:function(){if(this.s_i>=0){var t=se[this.s_i];if(t.underMouse())return;t.unhilight(),this.s_i=-1}this.s_i=ge.onWhichShape(),this.s_i<oe.length?this.s_i=-1:se[this.s_i].highlight()}},ge={s_i:-1,n_points_added:0,selShapes:{},old_writeShapes:void 0,activate:function(){this.old_writeShapes=le,le=function(){n()},le(),$(H).css("cursor","pointer")},deactivate:function(){le=this.old_writeShapes(),le(),$(H).css("cursor","default")},mousedown:function(){if(ae>=0){var t=re[ae],e=t.encode();if(this.selShapes[e]){var i=se.lastIndexOf(this.selShapes[e]);se.splice(i,1),this.selShapes[e]=void 0}else{var n=A(t.x,t.y,"");se[n].highlight(),this.selShapes[e]=se[n]}}else if(this.s_i>=0){var o=se[this.s_i],s=o.encode();this.selShapes[s]?(o.unhilight(),this.selShapes[s]=void 0):(o.highlight(),this.selShapes[s]=!0)}this.writeSelection()},mousemove:function(){if(this.s_i>=0){var t=se[this.s_i],e=t.encode();(!t.underMouse()||ae>=0)&&(this.selShapes[e]||t.unhilight(),this.s_i=-1)}else 0>ae&&(this.s_i=this.onWhichShape(),this.s_i>=0&&se[this.s_i].highlight())},mouseup:he,onWhichShape:function(){for(var t=0;t<se.length;t++)if(se[t].underMouse())return t;return-1},writeSelection:function(){var t="";for(i in this.selShapes)this.selShapes[i]&&(t=t+i+",");$("#qbans_selected").attr("value",t.replace(/,$/,""))}},ve={activate:he,deactivate:he,mousedown:he,mouseup:he,mousemove:he},ye=[de,ue,pe,fe,ge,me,ve],be=["#protractor","#compass","#ruler","#line","#selectState","#eraseState","#blank"],xe={shape_i:-1,start:function(){if(this.shape_i<0){var t=new S(B,F,B+1,F+1);t.hidden=!0,this.shape_i=se.push(t)-1}},follow:function(){se[this.shape_i].set_p2(B,F),t()},clear:function(){line=se[this.shape_i];var e=v(line.x1,line.y1,line.x2,line.y2);return se.splice(this.shape_i,1),this.shape_i=-1,t(),e}};$("#geocanvas").mousedown(function(){z=B,R=F,W.mousedown()}),$("#geocanvas").mouseup(function(){W.mouseup(),ae=-1,t()}),$("#geocanvas").mousemove(function(i){e(i),c(),ae>=0&&(W==de?(ce.x=re[ae].x,ce.y=re[ae].y):(B=re[ae].x,F=re[ae].y)),W.mousemove(),t()}),$("#compass").click(function(){L(K)}),$("#usecirclesize").click(function(){$("#usecirclesize").prop("checked")?D()&&ue.useWrittenSize():ue.useMakeSize()}),$("#protractor").click(function(){L(J)}),$("#ruler").click(function(){L(Z)}),$("#line").click(function(){L(te)}),$("#clear").click(function(){a(),L(ne)}),$("#erase").click(function(){L(ie)}),a(),r(),l()}function centerFractionInts(){$(".fraction .int").each(function(){var t=$(this),e=t.parent().height();t.css("top",e/2),t.css("margin-top",(0-t.outerHeight())/2)})}function rel_mt_fields(t){return t.siblings("div").children("input")}function set_mt_field_ids(t){blank_field=t.first().attr("id").replace(/[0-9]*$/,"");for(var e=0;e<t.length;e++)t[e].id=blank_field+e,t[e].name=blank_field+e}function bind_mt_buttons(){$(".add_mt_field").unbind("click"),$(".add_mt_field").bind("click",function(){var t=rel_mt_fields($(this)),e=t.first().clone();e.attr("value",""),t.last().after(e),t=rel_mt_fields($(this)),set_mt_field_ids(t),bind_mt_fields(),t.last().select()}),$(".del_mt_field").unbind("click"),$(".del_mt_field").bind("click",function(){var t=rel_mt_fields($(this)),e=t.length;e>1&&t.last().remove(),rel_mt_fields($(this)).last().select()}),bind_mt_fields()}function bind_mt_fields(){$(".multifield div input").unbind("keydown"),$(".multifield div input").keydown(function(t){if(32!=t.keyCode&&13!=t.keyCode||!t.shiftKey&&!t.ctrlKey){if(8==t.keyCode&&""==$(this).attr("value")){var e=$(this).parent();if(e.children().length>1){$(this).remove(),set_mt_field_ids(e.children());var i=e.children('input[value=""]');i.length>0?i.last().select():e.children().last().select()}t.preventDefault()}}else $(this).parent().siblings(".add_mt_field").click(),t.preventDefault()})}function o_to_s(t){ret=[];for(var e in t)ret.push(""+e+": "+t[e]);return"{ "+ret.join(", ")+" }"}function initNumberLine(){$(".numberline").each(function(){function e(t){var e=$("#"+a).offset(),i=Math.round(e.left),n=Math.round(e.top);m=t.pageX-i,g=t.pageY-n}function n(t){f.clearRect(0,0,u.width,30),f.font="12pt Calibri",f.fillStyle="black",f.fillText(t,10,25)}function o(t,e){return 0==e?t:e>t?o(e,t):o(t-e,e)}function s(t,e,i,n){f.beginPath(),f.moveTo(t,e),f.lineTo(i,n),f.stroke(),f.closePath()}var r=$(this),a=r.attr("id"),l=r.attr("data-name"),c="true"==r.attr("data-editable"),d="true"==r.attr("data-movable"),h=r.attr("data-which"),u=r[0];console.log("WOO HOO"),console.log(a),console.log(l),console.log(c),console.log(d),console.log(h);var f=u.getContext("2d");f.clearRect(0,0,u.width,u.height);var m,g,v,y,b=!1,x=25,w=180,k={num:10,center:u.width/2,snum:10,mid:0,diff:10,bdivs:1e3,zbarc:w,initz:w,poi:[],inp:null,points:[],lines:[],zoomin:[1,.5,.25,.2,.1,.05],zoominf:[1,2,4,5,10,20],zoomout:[1,2,5,10,50,100],ewid:Math.floor((u.width-2*x)/100),lower:40,movable:d,upper:320,ldiv:20,edit:c,curnum:0,curpos:0,initpos:0,fdiff:1,movemid:function(){var t=m-v;v=m,this.center+=t},zoom:function(){},addsub:function(){if(num=parseInt($("#"+a+"_"+l).attr("value")),this.curnum=num,leftpos=0,num>=this.mid&&num<=this.mid+this.diff*(u.width-2*x)/(2*this.ewid*this.snum)){var t=this.mid;for(ct=0;t<=this.mid+this.diff*(u.width-2*x)/(2*this.ewid*this.snum);){if(t==num){leftpos=u.width/2+ct*this.ewid;break}t+=this.diff/10,ct+=1}}if(num<this.mid&&num>=this.mid-this.diff*(u.width-2*x)/(2*this.ewid*this.snum)){var t=this.mid;for(ct=0;t>=this.mid-this.diff*(u.width-2*x)/(2*this.ewid*this.snum);){if(t==num){leftpos=u.width/2-ct*this.ewid;break}t-=this.diff/10,ct+=1}}0!=leftpos&&(this.curpos=leftpos,fwth=16,this.drawPointer(leftpos),f.save(),f.fillStyle="white",f.textAlign="center",f.fillText(""+num,leftpos,u.height-x+17),f.restore())},drawPointer:function(t){fwth=16,this.curpos=t,s(t,u.height-x,t-fwth/2,u.height-x+7),s(t,u.height-x,t+fwth/2,u.height-x+7),f.save(),f.fillStyle="black",f.fillRect(t-fwth/2,u.height-x+7,fwth,15),f.fillStyle="white",f.strokeStyle="red",0!=this.initpos&&s(t,u.height-x,this.initpos,u.height-x),f.restore()},label:function(t,e){if(leftpos=0,t>this.mid&&t<=this.mid+this.diff*(u.width-2*x)/(2*this.ewid*this.snum)){var i=this.mid;for(ct=0;i<=this.mid+this.diff*(u.width-2*x)/(2*this.ewid*this.snum);){if(i==t){leftpos=u.width/2+ct*this.ewid;break}i+=this.diff/10,ct+=1}}if(t<this.mid&&t>=this.mid-this.diff*(u.width-2*x)/(2*this.ewid*this.snum)){var i=this.mid;for(ct=0;i>=this.mid-this.diff*(u.width-2*x)/(2*this.ewid*this.snum);){if(i==t){leftpos=u.width/2-ct*this.ewid;break}i-=this.diff/10,ct+=1}}0!=leftpos&&(fwth=8*(""+t).length,s(leftpos,u.height-x,leftpos-fwth/2,u.height-x+15),s(leftpos,u.height-x,leftpos+fwth/2,u.height-x+15),f.fillStyle=e,f.fillRect(leftpos-fwth/2,u.height-x+15,fwth,15),f.fillStyle="white",f.fillText(""+t,leftpos-fwth/2+2,u.height-x+24),f.fillStyle="black")},lines:function(t){if(num=t[0],leftpos=0,num>this.mid&&num<=this.mid+this.diff*(u.width-2*x)/(2*this.ewid*this.snum)){var e=this.mid;for(ct=0;e<=this.mid+this.diff*(u.width-2*x)/(2*this.ewid*this.snum);){if(e==num){leftpos=u.width/2+ct*this.ewid;break}e+=this.diff/10,ct+=1}}if(num<this.mid&&num>=this.mid-this.diff*(u.width-2*x)/(2*this.ewid*this.snum)){var e=this.mid;for(ct=0;e>=this.mid-this.diff*(u.width-2*x)/(2*this.ewid*this.snum);){if(e==num){leftpos=u.width/2-ct*this.ewid;break}e-=this.diff/10,ct+=1}}if(lnum1=leftpos,num=t[1],leftpos=0,num>this.mid&&num<=this.mid+this.diff*(u.width-2*x)/(2*this.ewid*this.snum)){var e=this.mid;for(ct=0;e<=this.mid+this.diff*(u.width-2*x)/(2*this.ewid*this.snum);){if(e==num){leftpos=u.width/2+ct*this.ewid;break}e+=this.diff/10,ct+=1}}if(num<this.mid&&num>=this.mid-this.diff*(u.width-2*x)/(2*this.ewid*this.snum)){var e=this.mid;for(ct=0;e>=this.mid-this.diff*(u.width-2*x)/(2*this.ewid*this.snum);){if(e==num){leftpos=u.width/2-ct*this.ewid;break}e-=this.diff/10,ct+=1}}lnum2=leftpos,f.strokeStyle="red",s(lnum1,u.height-x,lnum2,u.height-x),f.strokeStyle="black"},inputfield:function(t){if(leftpos=0,t>this.mid&&t<=this.mid+this.diff*(u.width-2*x)/(2*this.ewid*this.snum)){var e=this.mid;for(ct=0;e<=this.mid+this.diff*(u.width-2*x)/(2*this.ewid*this.snum);){if(e==t){leftpos=u.width/2+ct*this.ewid;break}e+=this.diff/10,ct+=1}}if(t<this.mid&&t>=this.mid-this.diff*(u.width-2*x)/(2*this.ewid*this.snum)){var e=this.mid;for(ct=0;e>=this.mid-this.diff*(u.width-2*x)/(2*this.ewid*this.snum);){if(e==t){leftpos=u.width/2-ct*this.ewid;break}e-=this.diff/10,ct+=1}}0!=leftpos&&(fwth=8*(""+t).length,s(leftpos,u.height-x,leftpos-fwth/2,u.height-x+15),s(leftpos,u.height-x,leftpos+fwth/2,u.height-x+15),html="<input type=text id="+l+" name="+l+" maxlength="+(""+t).length+' style="width:'+fwth+"px; padding:0px; position:absolute; top:"+(u.height-x+15)+"px; margin-right:0px; margin-left:7px; left:"+(leftpos-fwth/2-1)+'px;">',$("#nline").append(html))},moveZBar:function(){var t=g-y;y=g,t+this.zbarc<=this.upper-this.ldiv-1&&t+this.zbarc>=this.lower+this.ldiv+1&&(this.zbarc+=t,w=this.zbarc,this.zbarc<this.initz?this.diff=this.zoomout[Math.floor((this.initz-this.zbarc)/this.ldiv)]:(this.diff=this.zoomin[Math.floor((this.zbarc-this.initz)/this.ldiv)],this.fdiff=this.zoominf[Math.floor((this.zbarc-this.initz)/this.ldiv)]))},drawZBar:function(){s(5,this.lower,5,this.upper),s(5,this.upper,15,this.upper),s(15,this.upper,15,this.lower),s(15,this.lower,5,this.lower),s(5,this.zbarc-this.ldiv,5,this.zbarc+this.ldiv),s(5,this.zbarc+this.ldiv,15,this.zbarc+this.ldiv),s(15,this.zbarc+this.ldiv,15,this.zbarc-this.ldiv),s(15,this.zbarc-this.ldiv,5,this.zbarc-this.ldiv),n("The small divs are "+this.diff/10+" and the big divs are "+this.diff)},draw:function(e){var n=u.width-x,r=x,a=0;for(i=this.center;i>=x;i-=this.ewid)i<=u.width-x&&(s(i,u.height-x,i,u.height-x-10),0==a&&(r=i),a+=1),n=i;for(a=0,i=this.center;i<=u.width-x;i+=this.ewid)i>=x&&(s(i,u.height-x,i,u.height-x-10),0==a&&n>i&&(n=i),i>r&&(r=i),a+=1);t=this.mid;var a=this.mid;for(i=this.center;i>=x;i-=this.ewid*this.snum){if(i<=u.width-x&&(s(i,u.height-x,i,u.height-x-20),this.poi.push(i),i!=this.center))if("dec"==e||this.diff>=1)f.font="9pt Calibri",(Math.round(1e3*t)/1e3).toString().length<2?f.fillText(Math.round(1e3*t)/1e3,i-3,u.height-10):(Math.round(1e3*t)/1e3).toString().length<3?f.fillText(Math.round(1e3*t)/1e3,i-6,u.height-10):(Math.round(1e3*t)/1e3).toString().length<4?f.fillText(Math.round(1e3*t)/1e3,i-9,u.height-10):(Math.round(1e3*t)/1e3).toString().length<5?f.fillText(Math.round(1e3*t)/1e3,i-12,u.height-10):f.fillText(Math.round(1e3*t)/1e3,i-15,u.height-10);else{var l=-a,c=this.fdiff,d=o(l,c);l=Math.round(l/d),c=Math.round(c/d),f.font="9pt Calibri",1!=c?(f.fillText(-l,i-9,u.height-15),f.fillText("__",i-9,u.height-15),f.fillText(c,i-9,u.height-4)):f.fillText(-l,i-9,u.height-10)}t-=this.diff,a-=1}for(a=0,t=this.mid,i=this.center;i<=u.width-x;i+=this.ewid*this.snum){if(i>=x)if(s(i,u.height-x,i,u.height-x-20),this.poi.push(i),"dec"==e||this.diff>=1)f.font="9pt Calibri",(Math.round(1e3*t)/1e3).toString().length<2?f.fillText(Math.round(1e3*t)/1e3,i-3,u.height-10):(Math.round(1e3*t)/1e3).toString().length<3?f.fillText(Math.round(1e3*t)/1e3,i-6,u.height-10):(Math.round(1e3*t)/1e3).toString().length<4?f.fillText(Math.round(1e3*t)/1e3,i-9,u.height-10):(Math.round(1e3*t)/1e3).toString().length<5?f.fillText(Math.round(1e3*t)/1e3,i-12,u.height-10):f.fillText(Math.round(1e3*t)/1e3,i-15,u.height-10);
else{var l=a,c=this.fdiff,d=o(l,c);l=Math.round(l/d),c=Math.round(c/d),f.font="9pt Calibri",1!=c?(f.fillText(l,i-9,u.height-15),f.fillText("__",i-9,u.height-15),f.fillText(c,i-9,u.height-4)):f.fillText(-l,i-9,u.height-10)}t+=this.diff,a+=1}s(n,u.height-x,r,u.height-x)}};if(k.draw("frac"),k.diff=parseInt($("#"+a+"_bigdiv").attr("value")),"inpval"==h&&k.inputfield(parseInt($("#"+a+"_inp").attr("value"))),"movinp"==h&&(k.addsub(),k.initpos=k.curpos),"label"==h){for(labs=$("#"+a+"_label").attr("value").split(","),p=0;p<labs.length;p++)0==p?k.label(labs[p],"black"):k.label(labs[p],"green");for(lines=$("#"+a+"_lines").attr("value").split(";"),p=0;p<lines.length;p++)k.lines(lines[p].split(","))}k.edit&&k.drawZBar(),$("#"+a).mousedown(function(){initdownx=m,v=m,y=g,b=!0}),$("#"+a).mouseup(function(){"movinp"==h&&(k.initpos>m?($("#"+a+"_"+l).attr("value",k.curnum+Math.round((v-initdownx)/k.ewid)),$("#"+l).attr("value",k.curnum+Math.round((v-initdownx)/k.ewid))):($("#"+a+"_"+l).attr("value",k.curnum+Math.round((v-initdownx)/k.ewid)),$("#"+l).attr("value",k.curnum+Math.round((v-initdownx)/k.ewid))),f.clearRect(0,0,u.width,u.height),k.draw("dec"),k.addsub()),b=!1}),$("#"+a).mousemove(function(t){e(t),"movinp"==h&&b&&v<k.curpos+8&&v>k.curpos-8&&y>u.height-x+7&&m>x+2&&m<u.width-x-2&&(f.clearRect(0,0,u.width,u.height),k.draw("dec"),k.drawPointer(m),v=m),b&&k.movable&&(y>u.height-75&&(k.movemid(),f.clearRect(0,0,u.width,u.height),k.draw("frac"),k.edit&&k.drawZBar()),v>5&&20>v&&y>w-25&&w+25>y&&(k.moveZBar(),f.clearRect(0,0,u.width,u.height),k.drawZBar(),k.draw("frac")))})})}function drawimage2(t,e,i,n,o,s,r,a){var l=$("#myCanvas_"+t),c=l[0].getContext("2d"),d=l[0].width;l[0].height;for(var h=o,u=n,p=0;e+i/2-i%2>p;p++)d>u+a+s?(c.drawImage(image1,u,h,s,r),u+=a+s):(u=n,h=h+a+r,c.drawImage(image1,u,h,s,r),u+=a+s);for(var p=0;i%2>p;p++)d>u+a+s/2?(c.drawImage(image2,u,h,s/2,r),u+=a+s/2):(u=n,h=h+a+r,c.drawImage(image2,u,h,s/2,r),u+=a+s/2)}function drawimage3(t,e,i,n,o,s){var r=$("#myCanvas_"+t),a=r[0].getContext("2d"),l=r[0].width;r[0].height,0==no1[t]&&0==no2[t]?(xcordinate[t]=e,ycordinate[t]=i,a.drawImage(image1,xcordinate[t],ycordinate[t],n,o),xcordinate[t]=xcordinate[t]+(n+s)):xcordinate[t]+s+n<l?(a.drawImage(image1,xcordinate[t],ycordinate[t],n,o),xcordinate[t]=xcordinate[t]+(n+s)):(xcordinate[t]=e,ycordinate[t]=ycordinate[t]+s+o,a.drawImage(image1,xcordinate[t],ycordinate[t],n,o),xcordinate[t]=xcordinate[t]+(s+n)),no1[t]=no1[t]+1,no[t]=no[t]+1,putvalue2(t,no[t])}function drawimage4(t,e,i,n,o,s){var r=$("#myCanvas_"+t),a=r[0].getContext("2d"),l=r[0].width;r[0].height,0==no1[t]&&0==no2[t]?(xcordinate[t]=e,ycordinate[t]=i,a.drawImage(image2,xcordinate[t],ycordinate[t],n/2,o),xcordinate[t]=xcordinate[t]+(n/2+s)):xcordinate[t]+s+n<l?(a.drawImage(image2,xcordinate[t],ycordinate[t],n/2,o),xcordinate[t]=xcordinate[t]+(n/2+s)):(xcordinate[t]=e,ycordinate[t]=ycordinate[t]+s+o,a.drawImage(image2,xcordinate[t],ycordinate[t],n/2,o),xcordinate[t]=xcordinate[t]+(s+n/2)),no2[t]=no2[t]+1,no[t]=no[t]+.5,putvalue2(t,no[t])}function putvalue2(t,e){var t=t,e=e;$("#pictogram_table tr:eq("+t+")").find("input").attr("value",e)}function input1(t,e){for(var i=document.getElementById("table"),n=i.insertRow(0),o=0;t>o;o++)for(var s=variablearray[o],r=0;e>r;r++){var a=s+s+r,l=n.insertCell(r),c=r+1;l.id=a,l.style.width="100px";var d=s+c,h=document.createElement("BUTTON"),u="<sup>"+c+"</sup>";h.setAttribute("type","button"),h.innerHTML=s+u,h.id=d,h.class="new",h.onclick=function(){myfunc(this.id)};var p=document.getElementById(a);p.appendChild(h)}}function myfunc(t,e,i){var n=i,o=document.getElementById("textfield"),s=o.innerHTML,r=t;switch(r){case"BackSpace":if(" "==s.charAt(s.length-1))o.innerHTML=s.substr(0,s.length-1);else if("+"==s.charAt(s.length-1)){o.innerHTML=s.substr(0,s.length-1);var s=o.innerHTML,a=s.lastIndexOf(" ");sign="-"==s.charAt(a-1)?1:0,deleted=1}else if("-"==s.charAt(s.length-1)){o.innerHTML=s.substr(0,s.length-1);var s=o.innerHTML,a=s.lastIndexOf(" ");sign="-"==s.charAt(a-1)?1:0,deleted=1}else if(">"==s.charAt(s.length-1)){var l=0,a=s.lastIndexOf(" ");l="-"==s.charAt(a-1)?1:0;for(var c=0,d=0;6>d;d++)c+=arrayexp[d];if(0==c){for(var h=0,u=a+1,p="",f=s.charAt(u);0==f||1==f||2==f||3==f||4==f||5==f||6==f||7==f||8==f||9==f;)p+=f,u++,f=s.charAt(u),h++;""==p&&(p=1);var m=parseInt(p);0==l||(m=-1*m);for(var g=s.charAt(u,u),v=s.charAt(u+6,u+6);u<s.length;){for(var y=parseInt(v),d=0;6>d;d++)g==variablearray[d]&&(arrayexp[d]+=y);u+=13;var g=s.charAt(u,u),v=s.charAt(u+6,u+6)}var b=getindex(6,n);arraycoeff[b]=arraycoeff[b]-m,chHTable(index);for(var d=0;6>d;d++)arrayexp[d]=0}else{for(var d=0;6>d;d++)arrayexp[d]=0;coefficient=""}o.innerHTML=s.substr(0,a)}else if(1==deleted){var l=0,a=s.lastIndexOf(" ");l="-"==s.charAt(a-1)?1:0;var h=0,u=a+1,p="",p=s.substr(u,s.length);""==p&&(p=1);var m=parseInt(p);0==l||(m=-1*m),arraycoeff[0]=arraycoeff[0]-m,chHTable(index),o.innerHTML=s.substr(0,u),coefficient=""}else o.innerHTML=s.substr(0,s.length-1),coefficient=coefficient.substr(0,coefficient.length-1);break;case"Enter":if(o.innerHTML+="<br>",intcoefficient=parseInt(coefficient),""==coefficient&&(intcoefficient=1),index=getindex(6,n),0==sign||(intcoefficient=-1*intcoefficient),""!=coefficient){void 0===arraycoeff[index]?arraycoeff[index]=intcoefficient:arraycoeff[index]+=intcoefficient,chHTable(index);for(var d=0;6>d;d++)arrayexp[d]=0}coefficient="";break;case"+ ":o.innerHTML+=r,intcoefficient=parseInt(coefficient),""==coefficient&&(intcoefficient=1),index=getindex(6,n),0==sign||(intcoefficient=-1*intcoefficient),void 0===arraycoeff[index]?arraycoeff[index]=intcoefficient:arraycoeff[index]+=intcoefficient,chHTable(index);for(var d=0;6>d;d++)arrayexp[d]=0;sign=0,coefficient="";break;case"- ":o.innerHTML+=r,intcoefficient=parseInt(coefficient),""==coefficient&&(intcoefficient=1),index=getindex(6,n),0==sign||(intcoefficient=-1*intcoefficient),void 0===arraycoeff[index]?arraycoeff[index]=intcoefficient:arraycoeff[index]+=intcoefficient,chHTable(index);for(var d=0;6>d;d++)arrayexp[d]=0;sign=1,coefficient="";break;default:if(1==r.length)o.innerHTML+=r,coefficient+=r;else{var u=r.substr(r.length-1,r.length),p=r.substr(r.length-2,r.length-1),f=parseInt(u),x="<sup>"+u+"</sup>";o.innerHTML+=p+x;for(var d=0;6>d;d++)p==variablearray[d]&&(arrayexp[d]+=f)}}}function getindex(t,e){for(var i=0,n=e,o=0;t>o;o++)i+=arrayexp[o]*Math.pow(n,o);return i}function chHTable(t){var t=t;$("#table2 tr:eq("+t+")").find("input:eq("+t+")").attr("value",arraycoeff[t])}function createshape(t,e,i,n,o){if("circle"==t){var s=e,r=i,a=n;ctx.beginPath(),ctx.arc(s,r,a,0,2*Math.PI),ctx.strokeStyle="black",ctx.stroke(),ctx.fillStyle="white",ctx.fill()}else if("rectangle1"==t){var l=e,c=i,d=n,h=o;ctx.beginPath(),ctx.rect(l,c,d,h),ctx.strokeStyle="red",ctx.stroke(),ctx.fillStyle="white",ctx.fill()}else if("rectangle2"==t){var l=e,c=i,d=n,h=o;ctx.beginPath(),ctx.rect(l,c,d,h),ctx.strokeStyle="red",ctx.stroke(),ctx.fillStyle="white",ctx.fill()}else if("rectangle3"==t){var l=e,c=i,d=n,h=o;ctx.beginPath(),ctx.rect(l,c,d,h),ctx.strokeStyle="red",ctx.stroke(),ctx.fillStyle="white",ctx.fill()}else alert("futre vu")}function slice(t,e,i,n,o,s,r,a,l){if("circle"==t){for(var c=n,d=o,h=s,u=e,p=360/u,f=u/180*Math.PI,m=f,g=0;p>g;g++)ctx.beginPath(),ctx.arc(c,d,h,0,m),ctx.lineTo(c,d),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="green",ctx.fill(),m+=f,colored[g]=0;m=f;for(var g=0;p>g;g++)ctx.beginPath(),ctx.arc(c,d,h,0,m),ctx.lineTo(c,d),ctx.strokeStyle="black",ctx.closePath(),ctx.stroke(),m+=f;for(var g=0;g<a.length;g++){var v=a[g];alert("slice number is "+v);var y=(v-1)*f,b=y+f;ctx.beginPath(),ctx.arc(c,d,h,y,b),ctx.lineTo(c,d),ctx.stroke(),ctx.fillStyle="red",ctx.fill(),ctx.beginPath(),ctx.arc(c,d,h,y,b),ctx.lineTo(c,d),ctx.strokeStyle="black",ctx.closePath(),ctx.stroke(),colored[v-1]=1,1==l&&putvalue(v)}}else if("rectangle1"==t){var x=n,w=o,k=s,j=r,T=e,f=k/T;ctx.beginPath(),ctx.rect(x,w,k,j),ctx.strokeStyle="red",ctx.stroke(),ctx.fillStyle="white",ctx.fill();for(var b=x,g=0;f>g;g++)ctx.beginPath(),ctx.moveTo(b,w),ctx.lineTo(b+T,w),ctx.lineTo(b+T,w+j),ctx.lineTo(b,w+j),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="black",ctx.fill(),b+=T;for(var g=0;g<a.length;g++){var v=a[g];alert("slice number is "+v);var y=(v-1)*T,b=x+y;ctx.beginPath(),ctx.moveTo(b,w),ctx.lineTo(b+T,w),ctx.lineTo(b+T,w+j),ctx.lineTo(b,w+j),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="green",ctx.fill(),colored[v-1]=1,1==l&&putvalue(v)}}else if("rectangle2"==t){var x=n,w=o,k=s,j=r,T=e,f=j/T;ctx.beginPath(),ctx.rect(x,w,k,k),ctx.strokeStyle="red",ctx.stroke(),ctx.fillStyle="white",ctx.fill();for(var b=w,g=0;f>g;g++)ctx.beginPath(),ctx.moveTo(x,b),ctx.lineTo(x,b+T),ctx.lineTo(x+k,b+T),ctx.lineTo(x+k,b),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="black",ctx.fill(),b+=T,colored[g]=0;alert("alert");for(var g=0;g<a.length;g++){var v=a[g];alert("slice number is "+v);var y=(v-1)*T,b=w+y;ctx.beginPath(),ctx.moveTo(x,b),ctx.lineTo(x,b+T),ctx.lineTo(x+k,b+T),ctx.lineTo(x+k,b),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="green",ctx.fill(),colored[v-1]=1,1==l&&putvalue(v)}}else if("rectangle3"==t){var x=n,w=o,k=s,j=r,T=e,_=i,f=k/T,p=j/_;ctx.beginPath(),ctx.rect(x,w,k,j),ctx.strokeStyle="red",ctx.stroke(),ctx.fillStyle="white",ctx.fill;for(var $=x,S=w,g=0;f>g;g++){S=w;for(var C=0;p>C;C++)ctx.beginPath(),ctx.moveTo($,S),ctx.lineTo($,S+_),ctx.lineTo($+T,S+_),ctx.lineTo($+T,S),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="green",ctx.fill(),S+=_;$+=T}for(var g=0;g<a.length;g++){var v=a[g];alert("slice number is "+v);var M=v%T,I=(v-M)/T+1,P=(I-1)*T+x,A=(M-1)*_+w;ctx.beginPath(),ctx.moveTo(P,A),ctx.lineTo(P,A+_),ctx.lineTo(P+T,A+_),ctx.lineTo(P+T,A),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="black",ctx.fill(),colored[v-1]=1,1==l&&putvalue(v)}}}function update(t,e,i,n,o,s,r,a){if("circle"==e){var l=o,c=s,d=r,h=i,u=h/180*Math.PI,p=1,f=$("#myCanvas"),m=f.offset(),g=Math.round(m.left),v=Math.round(m.top),y=t.pageX-g-l,b=t.pageY-v-c;coordinate[0]=y,coordinate[1]=b;var x=Math.atan(b/y),w=180*x/Math.PI;if(d*d>y*y+b*b){p+=b>0?w>0?Math.floor(w/h):Math.floor((w+90)/h)+Math.floor(90/h):w>0?Math.floor(w/h)+Math.floor(180/h):Math.floor((w+90)/h)+Math.floor(270/h),alert("slice number is "+p);var k=(p-1)*u,j=k+u;1==colored[p-1]?(ctx.beginPath(),ctx.arc(l,c,d,k,j),ctx.lineTo(l,c),ctx.stroke(),ctx.fillStyle="green",ctx.fill(),ctx.beginPath(),ctx.arc(l,c,d,k,j),ctx.lineTo(l,c),ctx.strokeStyle="black",ctx.closePath(),ctx.stroke(),colored[p-1]=0,putvalue(p)):(ctx.beginPath(),ctx.arc(l,c,d,k,j),ctx.lineTo(l,c),ctx.stroke(),ctx.fillStyle="red",ctx.fill(),ctx.beginPath(),ctx.arc(l,c,d,k,j),ctx.lineTo(l,c),ctx.strokeStyle="black",ctx.closePath(),ctx.stroke(),colored[p-1]=1,putvalue(p))}else alert("outside the circle")}else if("rectangle1"==e){var T=i,p=1,_=o,S=s,C=r,M=a,f=$("#myCanvas"),m=f.offset(),g=Math.round(m.left),v=Math.round(m.top),y=t.pageX-g-_,b=t.pageY-v-S;if(coordinate[0]=y,coordinate[1]=b,y>=0&&C>=y&&b>=0&&M>=b){p+=Math.floor(y/T),alert("sliceno is "+p);var k=(p-1)*T,j=_+k;1==colored[p-1]?(ctx.beginPath(),ctx.moveTo(j,S),ctx.lineTo(j+T,S),ctx.lineTo(j+T,S+M),ctx.lineTo(j,S+M),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="black",ctx.fill(),colored[p-1]=0,putvalue(p)):(ctx.beginPath(),ctx.moveTo(j,S),ctx.lineTo(j+T,S),ctx.lineTo(j+T,S+M),ctx.lineTo(j,S+M),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="green",ctx.fill(),colored[p-1]=1,putvalue(p))}else alert("outside the rectangle")}else if("rectangle2"==e){var T=i,p=1,_=o,S=s,C=r,M=a,f=$("#myCanvas"),m=f.offset(),g=Math.round(m.left),v=Math.round(m.top),y=t.pageX-g-_,b=t.pageY-v-S;if(coordinate[0]=y,coordinate[1]=b,alert("coordinates are  "+y+"and"+b),y>=0&&C>=y&&b>=0&&M>=b){p+=Math.floor(b/T),alert("sliceno is "+p);var k=(p-1)*T,j=S+k;1==colored[p-1]?(ctx.beginPath(),ctx.moveTo(_,j),ctx.lineTo(_,j+T),ctx.lineTo(_+C,j+T),ctx.lineTo(_+C,j),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="black",ctx.fill(),colored[p-1]=0,putvalue(p)):(ctx.beginPath(),ctx.moveTo(_,j),ctx.lineTo(_,j+T),ctx.lineTo(_+C,j+T),ctx.lineTo(_+C,j),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="green",ctx.fill(),colored[p-1]=1,putvalue(p))}else alert("outside the rectangle")}else if("rectangle3"==e){var T=i,I=n,p=1,P=1,A=1,_=o,S=s,C=r,M=a,f=$("#myCanvas"),m=f.offset(),g=Math.round(m.left),v=Math.round(m.top),y=t.pageX-g-_,b=t.pageY-v-S;if(coordinate[0]=y,coordinate[1]=b,y>=0&&C>=y&&b>=0&&M>=b){A+=Math.floor(b/I),P+=Math.floor(y/T),p=T*(P-1)+A,alert("sliceno is "+p);var N=(P-1)*T+_,E=(A-1)*I+S;1==colored[p-1]?(ctx.beginPath(),ctx.moveTo(N,E),ctx.lineTo(N,E+I),ctx.lineTo(N+T,E+I),ctx.lineTo(N+T,E),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="green",ctx.fill(),colored[p-1]=0,putvalue(p)):(ctx.beginPath(),ctx.moveTo(N,E),ctx.lineTo(N,E+I),ctx.lineTo(N+T,E+I),ctx.lineTo(N+T,E),ctx.strokeStyle="red",ctx.closePath(),ctx.stroke(),ctx.fillStyle="black",ctx.fill(),colored[p-1]=1,putvalue(p))}else alert("outside the rectangle")}}function putvalue(t){var t=t-1;$("#shapetable tr:eq("+t+")").find("input").attr("value",colored[t])}function createshape1(t,e,i,n,o,s,r){if("circle"==t){var a=5*i,l=5*n,c=5*e,d=o,r=r;0==d?(ctx.beginPath(),ctx.arc(a,l,c,0,2*Math.PI),ctx.stroke(),ctx.beginPath(),ctx.moveTo(a,l),ctx.lineTo(a+c,l),ctx.stroke(),ctx.strokeStyle="black",ctx.stroke(),ctx.fillStyle="white",ctx.fill(),ctx.fillStyle="blue",ctx.font=" 14px Arial"):(ctx.beginPath(),ctx.arc(a,l,c,0,2*Math.PI),ctx.stroke(),ctx.beginPath(),ctx.moveTo(a,l),ctx.lineTo(a+c,l),ctx.stroke(),ctx.strokeStyle="black",ctx.stroke(),ctx.fillStyle="white",ctx.fill(),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.fillText("radius = "+c/5+r,a+5,l-5))}else if("arc_1"==t){var a=e,l=i,c=5*n,h=o,u=r;ctx.beginPath(),ctx.arc(a,l,c,h,u,!0),ctx.stroke()}else if("arc_2"==t){var a=e,l=i,c=5*n,h=o,u=r;ctx.beginPath(),ctx.arc(a,l,c,h,u,!1),ctx.stroke()}else if("arc_3"==t){var a=e,l=i,c=5*n,p=s+c,h=o,u=r,f=a+p*Math.cos(h),m=l+p*Math.sin(h),g=a+p*Math.cos(u),v=l+p*Math.sin(u);ctx.beginPath(),ctx.arc(a,l,c,h,u,!0),ctx.stroke(),ctx.beginPath(),ctx.moveTo(a,l),ctx.lineTo(f,m),ctx.stroke(),ctx.strokeStyle="black",ctx.stroke(),ctx.beginPath(),ctx.moveTo(a,l),ctx.lineTo(g,v),ctx.stroke()}else if("rectangle"==t){var y=10*n,b=10*s,p=10*e,x=10*i,r=r,d=o;0==d?(ctx.beginPath(),ctx.rect(y,b,p,x),ctx.strokeStyle="black",ctx.stroke(),ctx.fillStyle="blue",ctx.font=" 14px Arial"):1==d?(ctx.beginPath(),ctx.rect(y,b,p,x),ctx.strokeStyle="black",ctx.stroke(),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.fillText(" "+p/10+r,y+p/4,b-5)):2==d?(ctx.beginPath(),ctx.rect(y,b,p,x),ctx.strokeStyle="black",ctx.stroke(),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.fillText(""+x/10+r,y-40,b+x/2)):(ctx.beginPath(),ctx.rect(y,b,p,x),ctx.strokeStyle="black",ctx.stroke(),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.fillText(" "+p/10+r,y+p/4,b-5),ctx.fillText(""+x/10+r,y-40,b+x/2))}else if("eqtriangle"==t){var d=o;if(0==d){var y=n,b=s,p=10*e,r=r,w=p/2*Math.tan(Math.PI/3);ctx.beginPath(),ctx.moveTo(y,b),ctx.lineTo(y+p,b),ctx.lineTo(y+p/2,b-w),ctx.lineTo(y,b),ctx.strokeStyle="black",ctx.stroke(),sctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.fillText(" "+p/10+r,y+p/4,b-5),ctx.textAlign="center",ctx.fillText("Equilateral Triangle",150,295)}else{var y=n,b=s,p=10*e,r=r,w=p/2*Math.tan(Math.PI/3);ctx.beginPath(),ctx.moveTo(y,b),ctx.lineTo(y+p,b),ctx.lineTo(y+p/2,b-w),ctx.lineTo(y,b),ctx.strokeStyle="black",ctx.stroke(),ctx.beginPath(),ctx.moveTo(y+p/2,b-w),ctx.lineTo(y+p/2,b),ctx.stroke(),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.fillText(" "+p/10+r,y+p/4,b-5),ctx.fillText("height = "+(w/10).toFixed(2),y+p/2,(b+(b-w))/2),ctx.textAlign="center",ctx.fillText("Equilateral Triangle",150,295)}}else if("isotriangle"==t){var d=o;if(0==d){var y=n,b=s,k=10*e,j=10*i,r=r,T=Math.acos(j/(2*k)),w=j/2*Math.tan(T);ctx.beginPath(),ctx.moveTo(y,b),ctx.lineTo(y+j,b),ctx.lineTo(y+j/2,b-w),ctx.lineTo(y,b),ctx.strokeStyle="black",ctx.stroke(),ctx.fillStyle="white",ctx.fill(),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.fillText(" "+j/10+r,y+j/4,b-5),ctx.fillText(""+k/10+r,y,b-w/2),ctx.textAlign="center",ctx.fillText("Isoceles Triangle",150,295)}else{var y=n,b=s,k=10*e,j=10*i,r=r,T=Math.acos(j/(2*k)),w=j/2*Math.tan(T);ctx.beginPath(),ctx.moveTo(y,b),ctx.lineTo(y+j,b),ctx.lineTo(y+j/2,b-w),ctx.lineTo(y,b),ctx.strokeStyle="black",ctx.stroke(),ctx.fillStyle="white",ctx.fill(),ctx.beginPath(),ctx.moveTo(y+j/2,b-w),ctx.lineTo(y+j/2,b),ctx.stroke(),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.fillText("height = "+(w/10).toFixed(2),y+j/2,(b+(b-w))/2),ctx.fillText(" "+j/10+r,y+j/4,b-5),ctx.fillText(""+k/10+r,y,b-w/2),ctx.textAlign="center",ctx.fillText("Isoceles Triangle",150,295)}}else if("scalene"==t){var d=o,t=10*e,_=10*i,$=10*n;if(t+_>$&&_+$>t&&$+t>_)if(0!=d){var S=(_*_+$*$-t*t)/(2*_*$),C=Math.acos(S),M=Math.sin(C),c=t/(2*Math.sin(C)),I=(t*t+$*$-_*_)/(2*t*$),P=Math.acos(I),A=c*M,N=c*S,E=c*Math.cos(.5*Math.PI-(C+2*P)),L=c*Math.sin(.5*Math.PI-(C+2*P)),a=150,l=150,w=Math.abs(L-N);ctx.beginPath(),ctx.moveTo(a-A,l+N),ctx.lineTo(a+A,l+N),ctx.lineTo(a+E,l+L),ctx.lineTo(a-A,l+N),ctx.stroke(),ctx.beginPath(),ctx.moveTo(a+E,l+L),ctx.lineTo(a+E,l+N),ctx.stroke(),ctx.fillStyle="blue",ctx.font=" 12px Arial",ctx.fillText("height = "+(w/10).toFixed(2),130,282),ctx.textAlign="center",ctx.fillText(""+t/10+r,a,l+N+10),ctx.fillText(""+_/10+r,(a+A+(a+E))/2,(l+N+(l+L))/2),ctx.fillText(""+$/10+r,(a-A+(a+E))/2,(l+N+(l+L))/2),ctx.fillText("Triangle",150,295)}else{var S=(_*_+$*$-t*t)/(2*_*$),C=Math.acos(S),M=Math.sin(C),c=t/(2*Math.sin(C)),I=(t*t+$*$-_*_)/(2*t*$),P=Math.acos(I),A=c*M,N=c*S,E=c*Math.cos(.5*Math.PI-(C+2*P)),L=c*Math.sin(.5*Math.PI-(C+2*P)),a=150,l=150;ctx.beginPath(),ctx.moveTo(a-A,l+N),ctx.lineTo(a+A,l+N),ctx.lineTo(a+E,l+L),ctx.lineTo(a-A,l+N),ctx.stroke(),ctx.fillText(" "+p/10+r,y+p/4,b-5),ctx.textAlign="center",ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.fillText(""+t/10+r,a,l+N+10),ctx.fillText(""+_/10+r,(a+A+(a+E))/2,(l+N+(l+L))/2),ctx.fillText(""+$/10+r,(a-A+(a+E))/2,(l+N+(l+L))/2),ctx.fillText("Triangle",150,295)}else alert("A triangle cannot be constructed with these side lengths.")}else if("regularpolygon"==t){var d=o,D=e,p=i,y=250,b=250,q=n,r=r,H=p,D=D,T=180/D,c=H/(2*Math.sin(T));if(0==d){for(var O=0;D>O;O++)regularpoly_x[O]=c*Math.cos(2*Math.PI*O/D),regularpoly_y[O]=c*Math.sin(2*Math.PI*O/D),original2[3*O]=regularpoly_x[O],original2[3*O+1]=regularpoly_y[O],original2[3*O+2]=10;createshape2(original2,r,150,150,0),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.textAlign="center",ctx.fillText("Regular Polygon",150,q-5)}else{for(var O=0;D>O;O++)regularpoly_x[O]=c*Math.cos(2*Math.PI*O/D),regularpoly_y[O]=c*Math.sin(2*Math.PI*O/D),original2[3*O]=regularpoly_x[O],original2[3*O+1]=regularpoly_y[O],original2[3*O+2]=10;createshape2(original2,r,250,250,0),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.textAlign="center",ctx.fillText("side length = "+p+r,150,q-20),ctx.fillText("Regular Polygon",150,q-5)}}else if("cube"==t){var B=10*e,F=10*i,z=10*n,r=r;if(0==o){var T=Math.PI/6,_=z*Math.sin(T)*Math.sin(Math.PI/4),t=z*Math.cos(T)*Math.sin(Math.PI/4);ctx.beginPath(),ctx.moveTo(B,F),ctx.lineTo(B,F+z),ctx.lineTo(B+z,F+z),ctx.lineTo(B+z,F),ctx.lineTo(B,F),ctx.lineTo(B+t,F-_),ctx.lineTo(B+t+z,F-_),ctx.lineTo(B+z,F),ctx.moveTo(B+z,F+z),ctx.lineTo(B+t+z,F+z-_),ctx.lineTo(B+t+z,F-_),ctx.stroke()}else{var T=Math.PI/6,_=z*Math.sin(T)*Math.sin(Math.PI/4),t=z*Math.cos(T)*Math.sin(Math.PI/4);ctx.beginPath(),ctx.moveTo(B,F),ctx.lineTo(B,F+z),ctx.lineTo(B+z,F+z),ctx.lineTo(B+z,F),ctx.lineTo(B,F),ctx.lineTo(B+t,F-_),ctx.lineTo(B+t+z,F-_),ctx.lineTo(B+z,F),ctx.moveTo(B+z,F+z),ctx.lineTo(B+t+z,F+z-_),ctx.lineTo(B+t+z,F-_),ctx.stroke(),ctx.font=" 14px Arial",ctx.textAlign="center",ctx.fillText("length = "+z/10+r,B+z/2,F)}}else if("cuboid_1"==t){var B=10*e,F=10*i,z=10*n,R=10*o,W=10*s,T=Math.PI/6,_=R*Math.sin(T)*Math.sin(Math.PI/4),t=R*Math.cos(T)*Math.sin(Math.PI/4);ctx.beginPath(),ctx.moveTo(B,F),ctx.lineTo(B,F+W),ctx.lineTo(B+z,F+W),ctx.lineTo(B+z,F),ctx.lineTo(B,F),ctx.lineTo(B+t,F-_),ctx.lineTo(B+t+z,F-_),ctx.lineTo(B+z,F),ctx.moveTo(B+z,F+W),ctx.lineTo(B+t+z,F+W-_),ctx.lineTo(B+t+z,F-_),ctx.stroke()}else if("cuboid_2"==t){var B=10*e,F=10*i,z=10*n,R=10*o,W=10*s,r=r,T=Math.PI/6,_=R*Math.sin(T)*Math.sin(Math.PI/4),t=R*Math.cos(T)*Math.sin(Math.PI/4);ctx.beginPath(),ctx.moveTo(B,F),ctx.lineTo(B,F+W),ctx.lineTo(B+z,F+W),ctx.lineTo(B+z,F),ctx.lineTo(B,F),ctx.lineTo(B+t,F-_),ctx.lineTo(B+t+z,F-_),ctx.lineTo(B+z,F),ctx.moveTo(B+z,F+W),ctx.lineTo(B+t+z,F+W-_),ctx.lineTo(B+t+z,F-_),ctx.stroke(),ctx.font=" 14px Arial",ctx.textAlign="center",ctx.fillText("length="+z/10+r,B+z/2,F),ctx.fillText("height="+W/10+r,B+z,F+W/2),ctx.fillText("breadth="+R/10+r,B+z+t,F-_/2)}else if("cylinder"==t){var B=10*e,F=10*i,V=5*n,W=5*o,r=r;if(0==s){ctx.beginPath();for(var O=0*Math.PI;O<2*Math.PI;O+=.001)xPos=B+V/2-V/2*Math.sin(O)*Math.sin(0*Math.PI)+V/2*Math.cos(O)*Math.cos(0*Math.PI),yPos=F+W/8+W/8*Math.cos(O)*Math.sin(0*Math.PI)+W/8*Math.sin(O)*Math.cos(0*Math.PI),0==O?ctx.moveTo(xPos,yPos):ctx.lineTo(xPos,yPos);ctx.moveTo(B,F+W/8),ctx.lineTo(B,F+W-W/8);for(var O=0*Math.PI;O<Math.PI;O+=.001)xPos=B+V/2-V/2*Math.sin(O)*Math.sin(0*Math.PI)+V/2*Math.cos(O)*Math.cos(0*Math.PI),yPos=F+W-W/8+W/8*Math.cos(O)*Math.sin(0*Math.PI)+W/8*Math.sin(O)*Math.cos(0*Math.PI),0==O?ctx.moveTo(xPos,yPos):ctx.lineTo(xPos,yPos);ctx.moveTo(B+V,F+W/8),ctx.lineTo(B+V,F+W-W/8),ctx.stroke()}else{ctx.beginPath();for(var O=0*Math.PI;O<2*Math.PI;O+=.001)xPos=B+V/2-V/2*Math.sin(O)*Math.sin(0*Math.PI)+V/2*Math.cos(O)*Math.cos(0*Math.PI),yPos=F+W/8+W/8*Math.cos(O)*Math.sin(0*Math.PI)+W/8*Math.sin(O)*Math.cos(0*Math.PI),0==O?ctx.moveTo(xPos,yPos):ctx.lineTo(xPos,yPos);ctx.moveTo(B,F+W/8),ctx.lineTo(B,F+W-W/8),ctx.moveTo(B+V/2,F+W/8),ctx.lineTo(B+V,F+W/8);for(var O=0*Math.PI;O<Math.PI;O+=.001)xPos=B+V/2-V/2*Math.sin(O)*Math.sin(0*Math.PI)+V/2*Math.cos(O)*Math.cos(0*Math.PI),yPos=F+W-W/8+W/8*Math.cos(O)*Math.sin(0*Math.PI)+W/8*Math.sin(O)*Math.cos(0*Math.PI),0==O?ctx.moveTo(xPos,yPos):ctx.lineTo(xPos,yPos);ctx.moveTo(B+V,F+W/8),ctx.lineTo(B+V,F+W-W/8),ctx.stroke(),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.textAlign="center",ctx.fillText("radius="+V/5+r,B+3*V/4,F+W/8-3),ctx.fillText("height="+W/5+r,B+V,F+W/2)}}else if("cone"==t){var B=10*e,F=10*i,V=10*n,W=10*o,r=r;if(0==s){ctx.beginPath();for(var O=0*Math.PI;O<2*Math.PI;O+=.001)xPos=B+V/2-V/2*Math.sin(O)*Math.sin(0*Math.PI)+V/2*Math.cos(O)*Math.cos(0*Math.PI),yPos=F+W/8+W/8*Math.cos(O)*Math.sin(0*Math.PI)+W/8*Math.sin(O)*Math.cos(0*Math.PI),0==O?ctx.moveTo(xPos,yPos):ctx.lineTo(xPos,yPos);ctx.moveTo(B,F+W/8),ctx.lineTo(B+V/2,F-W+W/8),ctx.lineTo(B+V,F+W/8),ctx.stroke()}else{ctx.beginPath();for(var O=0*Math.PI;O<2*Math.PI;O+=.001)xPos=B+V/2-V/2*Math.sin(O)*Math.sin(0*Math.PI)+V/2*Math.cos(O)*Math.cos(0*Math.PI),yPos=F+W/8+W/8*Math.cos(O)*Math.sin(0*Math.PI)+W/8*Math.sin(O)*Math.cos(0*Math.PI),0==O?ctx.moveTo(xPos,yPos):ctx.lineTo(xPos,yPos);ctx.moveTo(B,F+W/8),ctx.lineTo(B+V/2,F-W+W/8),ctx.lineTo(B+V,F+W/8),ctx.moveTo(B+V/2,F+W/8),ctx.lineTo(B+V,F+W/8),ctx.moveTo(B+V/2,F+W/8),ctx.lineTo(B+V/2,F-W+W/8),ctx.stroke(),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.textAlign="center",ctx.fillText("radius="+V/10+r,B+3*V/4,F+W/8-3),ctx.fillText("height="+W/10+r,B+V/2,F-W/2)}}else alert("Shape not created.")}function createshape2(t,e,i,n,o){var s=o,r=i,a=n,l=r+10*t[0],c=a+10*t[1],e=e;if(0==s){ctx.beginPath(),ctx.moveTo(l,c);for(var d=3;d<t.length;d+=3){var h=10*t[d],u=10*t[d+1],p=t[d-1];ctx.lineTo(r+h,a+u),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.textAlign="center",l=r+h,c=a+u}var p=t[t.length-1];ctx.closePath(),ctx.strokeStyle="black",ctx.stroke()}else{ctx.beginPath(),ctx.moveTo(l,c);for(var d=3;d<t.length;d+=3){var h=10*t[d],u=10*t[d+1],p=t[d-1];ctx.lineTo(r+h,a+u),ctx.fillStyle="blue",ctx.font=" 14px Arial",ctx.textAlign="center",0!=d?0!=p&&ctx.fillText(""+p+e,l+(r+h-l)/2,c+(a+u-c)/2):0!=p&&ctx.fillText(""+p+e,r+(l-r)/2,c+(a+u-c)/2),l=r+h,c=a+u}var p=t[t.length-1];0!=p&&ctx.fillText(""+p+e,(l+r+10*t[0])/2,(c+a+10*t[1])/2),ctx.closePath(),ctx.strokeStyle="black",ctx.stroke()}}function createshape3(t,e,i,n,o,s,r,a,l,c){if("arc_3"==t){var d=e,h=i,u=5*n,p=s+u,f=o,m=r,g=d+p*Math.cos(f),v=h+p*Math.sin(f),y=d+p*Math.cos(m),b=h+p*Math.sin(m),x=a,w=l,k=c;ctx.beginPath(),ctx.arc(d,h,u,f,m,!0),ctx.stroke(),ctx.beginPath(),ctx.moveTo(d,h),ctx.lineTo(g,v),ctx.stroke(),ctx.strokeStyle="black",ctx.stroke(),ctx.beginPath(),ctx.moveTo(d,h),ctx.lineTo(y,b),ctx.stroke(),ctx.fillStyle="blue",ctx.font=" 18px Tahoma",ctx.fillText(""+x,d,h+12),ctx.fillText(""+w,g,v-5),ctx.fillText(""+k,y+5,b+5)}else if("arc_4"==t){var d=e,h=i,u=5*n,p=s,f=o,m=r,g=d+p*Math.cos(f),v=h+p*Math.sin(f),y=d+p*Math.cos(m),b=h+p*Math.sin(m),x=a,w=l,k=c;ctx.beginPath(),ctx.arc(d,h,u,f,m,!1),ctx.stroke(),ctx.beginPath(),ctx.moveTo(d,h),ctx.lineTo(g,v),ctx.stroke(),ctx.strokeStyle="black",ctx.stroke(),ctx.beginPath(),ctx.moveTo(d,h),ctx.lineTo(y,b),ctx.stroke(),ctx.fillStyle="blue",ctx.font=" 18px Tahoma",ctx.fillText(""+x,d,h+12),ctx.fillText(""+w,g,v-5),ctx.fillText(""+k,y+5,b+5)}}function registerAs(t){initProblemOverlay(),$("#dimmer").attr("onclick",""),$("#dimmer").click(function(){$("#new_"+t).appendTo("#hidden_registration_forms"),hideProblem()}),$("#problem_overlay").html(""),$("#new_"+t).appendTo("#problem_overlay")}function registerStudent(){registerAs("student")}function registerTeacher(){registerAs("teacher")}function registerCoach(){registerAs("coach")}function walkthrough_pset(){not_mobile=!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),$("#walkthrough").pagewalkthrough({steps:[{wrapper:"",margin:0,popup:{content:"#intro_walk",type:"modal",offsetHorizontal:0,offsetVertical:0,width:"400"}},{wrapper:"#bigshelf",margin:"0",popup:{content:"#shelf_walk",type:"tooltip",position:"bottom",offsetHorizontal:0,offsetVertical:-100,width:"500",draggable:!0}},{wrapper:".dotted-border",margin:"0",popup:{content:"#history_walk",type:"tooltip",position:"right",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:".problem_list_box",margin:"0",popup:{content:"#bbor_walk",type:"tooltip",position:"right",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:".label-info.correct_hist",margin:"0",popup:{content:"#correct_walk",type:"tooltip",position:"right",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:".label-info.incorrect_hist",margin:"0",popup:{content:"#incorrect_walk",type:"tooltip",position:"right",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:"#open-walkthrough",margin:"0",popup:{content:"#open_walk",type:"tooltip",position:"left",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:"",margin:"0",popup:{content:"#done_walk",type:"modal",position:"",offsetHorizontal:0,offsetVertical:0,width:"400"}}],name:"Walkthrough",onLoad:not_mobile}),$(".prev-step").live("click",function(t){$.pagewalkthrough("prev",t)}),$(".next-step").live("click",function(t){$.pagewalkthrough("next",t)}),$("#open-walkthrough").live("click",function(){var t=$(this).attr("id").split("-");"parameters"!=t&&$.pagewalkthrough("show",t[1])}),$(".close-step").live("click",function(){$.pagewalkthrough("close")}),$("#jpwClose").live("click",function(){$.pagewalkthrough("close")})}function walkthrough_student(){not_mobile=!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),$("#walkthrough").pagewalkthrough({steps:[{wrapper:"",margin:0,popup:{content:"#intro_walk",type:"modal",offsetHorizontal:0,offsetVertical:0,width:"400"}},{wrapper:"#bigshelf",margin:"0",popup:{content:"#shelf_walk",type:"tooltip",position:"bottom",offsetHorizontal:0,offsetVertical:-100,width:"500",draggable:!0}},{wrapper:"#account",margin:"0",popup:{content:"#account_walk",type:"tooltip",position:"right",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:"#points",margin:"0",popup:{content:"#points_walk",type:"tooltip",position:"right",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:"#notifications",margin:"0",popup:{content:"#notif_walk",type:"tooltip",position:"right",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:"#get_badge_1",margin:"0",popup:{content:"#shape_1_walk",type:"tooltip",position:"right",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:"#get_badge_2",margin:"0",popup:{content:"#shape_2_walk",type:"tooltip",position:"right",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:"#get_badge_3",margin:"0",popup:{content:"#shape_3_walk",type:"tooltip",position:"left",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:"#get_badge_4",margin:"0",popup:{content:"#shape_4_walk",type:"tooltip",position:"left",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:"#get_badge_5",margin:"0",popup:{content:"#shape_5_walk",type:"tooltip",position:"left",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:".dotted-border",margin:"0",popup:{content:"#history_walk",type:"tooltip",position:"right",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:".pset_list_box",margin:"0",popup:{content:"#bbor_walk",type:"tooltip",position:"right",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:".progress",margin:"0",popup:{content:"#pbar_walk",type:"tooltip",position:"right",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:"#open-walkthrough",margin:"0",popup:{content:"#open_walk",type:"tooltip",position:"left",offsetHorizontal:0,offsetVertical:0,draggable:!0,width:"500"}},{wrapper:"",margin:"0",popup:{content:"#done_walk",type:"modal",position:"",offsetHorizontal:0,offsetVertical:0,width:"400"}}],name:"Walkthrough",onLoad:not_mobile}),$(".prev-step").live("click",function(t){$.pagewalkthrough("prev",t)}),$(".next-step").live("click",function(t){$.pagewalkthrough("next",t)}),$("#open-walkthrough").live("click",function(){var t=$(this).attr("id").split("-");"parameters"!=t&&$.pagewalkthrough("show",t[1])}),$(".close-step").live("click",function(){$.pagewalkthrough("close")})}!function(t,e){function i(t){var e,i,n=D[t]={};for(t=t.split(/\s+/),e=0,i=t.length;i>e;e++)n[t[e]]=!0;return n}function n(t,i,n){if(n===e&&1===t.nodeType){var o="data-"+i.replace(O,"-$1").toLowerCase();if(n=t.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:L.isNumeric(n)?+n:H.test(n)?L.parseJSON(n):n}catch(s){}L.data(t,i,n)}else n=e}return n}function o(t){for(var e in t)if(("data"!==e||!L.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function s(t,e,i){var n=e+"defer",o=e+"queue",s=e+"mark",r=L._data(t,n);!r||"queue"!==i&&L._data(t,o)||"mark"!==i&&L._data(t,s)||setTimeout(function(){L._data(t,o)||L._data(t,s)||(L.removeData(t,n,!0),r.fire())},0)}function r(){return!1}function a(){return!0}function l(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function c(t,e,i){if(e=e||0,L.isFunction(e))return L.grep(t,function(t,n){var o=!!e.call(t,n,t);return o===i});if(e.nodeType)return L.grep(t,function(t){return t===e===i});if("string"==typeof e){var n=L.grep(t,function(t){return 1===t.nodeType});if(de.test(e))return L.filter(e,n,!i);e=L.filter(e,n)}return L.grep(t,function(t){return L.inArray(t,e)>=0===i})}function d(t){var e=fe.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function h(t){return L.nodeName(t,"table")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function u(t,e){if(1===e.nodeType&&L.hasData(t)){var i,n,o,s=L._data(t),r=L._data(e,s),a=s.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,o=a[i].length;o>n;n++)L.event.add(e,i,a[i][n])}r.data&&(r.data=L.extend({},r.data))}}function p(t,e){var i;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),i=e.nodeName.toLowerCase(),"object"===i?e.outerHTML=t.outerHTML:"input"!==i||"checkbox"!==t.type&&"radio"!==t.type?"option"===i?e.selected=t.defaultSelected:"input"===i||"textarea"===i?e.defaultValue=t.defaultValue:"script"===i&&e.text!==t.text&&(e.text=t.text):(t.checked&&(e.defaultChecked=e.checked=t.checked),e.value!==t.value&&(e.value=t.value)),e.removeAttribute(L.expando),e.removeAttribute("_submit_attached"),e.removeAttribute("_change_attached"))}function f(t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll("*"):[]}function m(t){("checkbox"===t.type||"radio"===t.type)&&(t.defaultChecked=t.checked)
}function g(t){var e=(t.nodeName||"").toLowerCase();"input"===e?m(t):"script"!==e&&"undefined"!=typeof t.getElementsByTagName&&L.grep(t.getElementsByTagName("input"),m)}function v(t){var e=A.createElement("div");return Ce.appendChild(e),e.innerHTML=t.outerHTML,e.firstChild}function y(t,e,i){var n="width"===e?t.offsetWidth:t.offsetHeight,o="width"===e?1:0,s=4;if(n>0){if("border"!==i)for(;s>o;o+=2)i||(n-=parseFloat(L.css(t,"padding"+Be[o]))||0),"margin"===i?n+=parseFloat(L.css(t,i+Be[o]))||0:n-=parseFloat(L.css(t,"border"+Be[o]+"Width"))||0;return n+"px"}if(n=Me(t,e),(0>n||null==n)&&(n=t.style[e]),De.test(n))return n;if(n=parseFloat(n)||0,i)for(;s>o;o+=2)n+=parseFloat(L.css(t,"padding"+Be[o]))||0,"padding"!==i&&(n+=parseFloat(L.css(t,"border"+Be[o]+"Width"))||0),"margin"===i&&(n+=parseFloat(L.css(t,i+Be[o]))||0);return n+"px"}function b(t){return function(e,i){if("string"!=typeof e&&(i=e,e="*"),L.isFunction(i))for(var n,o,s,r=e.toLowerCase().split(ei),a=0,l=r.length;l>a;a++)n=r[a],s=/^\+/.test(n),s&&(n=n.substr(1)||"*"),o=t[n]=t[n]||[],o[s?"unshift":"push"](i)}}function x(t,i,n,o,s,r){s=s||i.dataTypes[0],r=r||{},r[s]=!0;for(var a,l=t[s],c=0,d=l?l.length:0,h=t===si;d>c&&(h||!a);c++)a=l[c](i,n,o),"string"==typeof a&&(!h||r[a]?a=e:(i.dataTypes.unshift(a),a=x(t,i,n,o,a,r)));return!h&&a||r["*"]||(a=x(t,i,n,o,"*",r)),a}function w(t,i){var n,o,s=L.ajaxSettings.flatOptions||{};for(n in i)i[n]!==e&&((s[n]?t:o||(o={}))[n]=i[n]);o&&L.extend(!0,t,o)}function k(t,e,i,n){if(L.isArray(e))L.each(e,function(e,o){i||We.test(t)?n(t,o):k(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==L.type(e))n(t,e);else for(var o in e)k(t+"["+o+"]",e[o],i,n)}function j(t,i,n){var o,s,r,a,l=t.contents,c=t.dataTypes,d=t.responseFields;for(s in d)s in n&&(i[d[s]]=n[s]);for(;"*"===c[0];)c.shift(),o===e&&(o=t.mimeType||i.getResponseHeader("content-type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){c.unshift(s);break}if(c[0]in n)r=c[0];else{for(s in n){if(!c[0]||t.converters[s+" "+c[0]]){r=s;break}a||(a=s)}r=r||a}return r?(r!==c[0]&&c.unshift(r),n[r]):void 0}function T(t,i){t.dataFilter&&(i=t.dataFilter(i,t.dataType));var n,o,s,r,a,l,c,d,h=t.dataTypes,u={},p=h.length,f=h[0];for(n=1;p>n;n++){if(1===n)for(o in t.converters)"string"==typeof o&&(u[o.toLowerCase()]=t.converters[o]);if(r=f,f=h[n],"*"===f)f=r;else if("*"!==r&&r!==f){if(a=r+" "+f,l=u[a]||u["* "+f],!l){d=e;for(c in u)if(s=c.split(" "),(s[0]===r||"*"===s[0])&&(d=u[s[1]+" "+f])){c=u[c],c===!0?l=d:d===!0&&(l=c);break}}l||d||L.error("No conversion from "+a.replace(" "," to ")),l!==!0&&(i=l?l(i):d(c(i)))}}return i}function _(){try{return new t.XMLHttpRequest}catch(e){}}function $(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function S(){return setTimeout(C,0),vi=L.now()}function C(){vi=e}function M(t,e){var i={};return L.each(wi.concat.apply([],wi.slice(0,e)),function(){i[this]=t}),i}function I(t){if(!yi[t]){var e=A.body,i=L("<"+t+">").appendTo(e),n=i.css("display");i.remove(),("none"===n||""===n)&&(fi||(fi=A.createElement("iframe"),fi.frameBorder=fi.width=fi.height=0),e.appendChild(fi),mi&&fi.createElement||(mi=(fi.contentWindow||fi.contentDocument).document,mi.write((L.support.boxModel?"<!doctype html>":"")+"<html><body>"),mi.close()),i=mi.createElement(t),mi.body.appendChild(i),n=L.css(i,"display"),e.removeChild(fi)),yi[t]=n}return yi[t]}function P(t){return L.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var A=t.document,N=t.navigator,E=t.location,L=function(){function i(){if(!a.isReady){try{A.documentElement.doScroll("left")}catch(t){return setTimeout(i,1),void 0}a.ready()}}var n,o,s,r,a=function(t,e){return new a.fn.init(t,e,n)},l=t.jQuery,c=t.$,d=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,h=/\S/,u=/^\s+/,p=/\s+$/,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,x=/(opera)(?:.*version)?[ \/]([\w.]+)/,w=/(msie) ([\w.]+)/,k=/(mozilla)(?:.*? rv:([\w.]+))?/,j=/-([a-z]|[0-9])/gi,T=/^-ms-/,_=function(t,e){return(e+"").toUpperCase()},$=N.userAgent,S=Object.prototype.toString,C=Object.prototype.hasOwnProperty,M=Array.prototype.push,I=Array.prototype.slice,P=String.prototype.trim,E=Array.prototype.indexOf,L={};return a.fn=a.prototype={constructor:a,init:function(t,i,n){var o,s,r,l;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("body"===t&&!i&&A.body)return this.context=A,this[0]=A.body,this.selector=t,this.length=1,this;if("string"==typeof t){if(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:d.exec(t),!o||!o[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(o[1])return i=i instanceof a?i[0]:i,l=i?i.ownerDocument||i:A,r=f.exec(t),r?a.isPlainObject(i)?(t=[A.createElement(r[1])],a.fn.attr.call(t,i,!0)):t=[l.createElement(r[1])]:(r=a.buildFragment([o[1]],[l]),t=(r.cacheable?a.clone(r.fragment):r.fragment).childNodes),a.merge(this,t);if(s=A.getElementById(o[2]),s&&s.parentNode){if(s.id!==o[2])return n.find(t);this.length=1,this[0]=s}return this.context=A,this.selector=t,this}return a.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),a.makeArray(t,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return I.call(this,0)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,i){var n=this.constructor();return a.isArray(t)?M.apply(n,t):a.merge(n,t),n.prevObject=this,n.context=this.context,"find"===e?n.selector=this.selector+(this.selector?" ":"")+i:e&&(n.selector=this.selector+"."+e+"("+i+")"),n},each:function(t,e){return a.each(this,t,e)},ready:function(t){return a.bindReady(),s.add(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(I.apply(this,arguments),"slice",I.call(arguments).join(","))},map:function(t){return this.pushStack(a.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:M,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a.extend=a.fn.extend=function(){var t,i,n,o,s,r,l=arguments[0]||{},c=1,d=arguments.length,h=!1;for("boolean"==typeof l&&(h=l,l=arguments[1]||{},c=2),"object"==typeof l||a.isFunction(l)||(l={}),d===c&&(l=this,--c);d>c;c++)if(null!=(t=arguments[c]))for(i in t)n=l[i],o=t[i],l!==o&&(h&&o&&(a.isPlainObject(o)||(s=a.isArray(o)))?(s?(s=!1,r=n&&a.isArray(n)?n:[]):r=n&&a.isPlainObject(n)?n:{},l[i]=a.extend(h,r,o)):o!==e&&(l[i]=o));return l},a.extend({noConflict:function(e){return t.$===a&&(t.$=c),e&&t.jQuery===a&&(t.jQuery=l),a},isReady:!1,readyWait:1,holdReady:function(t){t?a.readyWait++:a.ready(!0)},ready:function(t){if(t===!0&&!--a.readyWait||t!==!0&&!a.isReady){if(!A.body)return setTimeout(a.ready,1);if(a.isReady=!0,t!==!0&&--a.readyWait>0)return;s.fireWith(A,[a]),a.fn.trigger&&a(A).trigger("ready").off("ready")}},bindReady:function(){if(!s){if(s=a.Callbacks("once memory"),"complete"===A.readyState)return setTimeout(a.ready,1);if(A.addEventListener)A.addEventListener("DOMContentLoaded",r,!1),t.addEventListener("load",a.ready,!1);else if(A.attachEvent){A.attachEvent("onreadystatechange",r),t.attachEvent("onload",a.ready);var e=!1;try{e=null==t.frameElement}catch(n){}A.documentElement.doScroll&&e&&i()}}},isFunction:function(t){return"function"===a.type(t)},isArray:Array.isArray||function(t){return"array"===a.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):L[S.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==a.type(t)||t.nodeType||a.isWindow(t))return!1;try{if(t.constructor&&!C.call(t,"constructor")&&!C.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in t);return n===e||C.call(t,n)},isEmptyObject:function(t){for(var e in t)return!1;return!0},error:function(t){throw new Error(t)},parseJSON:function(e){return"string"==typeof e&&e?(e=a.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):m.test(e.replace(g,"@").replace(v,"]").replace(y,""))?new Function("return "+e)():(a.error("Invalid JSON: "+e),void 0)):null},parseXML:function(i){if("string"!=typeof i||!i)return null;var n,o;try{t.DOMParser?(o=new DOMParser,n=o.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(s){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||a.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&h.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(T,"ms-").replace(j,_)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toUpperCase()===e.toUpperCase()},each:function(t,i,n){var o,s=0,r=t.length,l=r===e||a.isFunction(t);if(n)if(l){for(o in t)if(i.apply(t[o],n)===!1)break}else for(;r>s&&i.apply(t[s++],n)!==!1;);else if(l){for(o in t)if(i.call(t[o],o,t[o])===!1)break}else for(;r>s&&i.call(t[s],s,t[s++])!==!1;);return t},trim:P?function(t){return null==t?"":P.call(t)}:function(t){return null==t?"":t.toString().replace(u,"").replace(p,"")},makeArray:function(t,e){var i=e||[];if(null!=t){var n=a.type(t);null==t.length||"string"===n||"function"===n||"regexp"===n||a.isWindow(t)?M.call(i,t):a.merge(i,t)}return i},inArray:function(t,e,i){var n;if(e){if(E)return E.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=t.length,o=0;if("number"==typeof i.length)for(var s=i.length;s>o;o++)t[n++]=i[o];else for(;i[o]!==e;)t[n++]=i[o++];return t.length=n,t},grep:function(t,e,i){var n,o=[];i=!!i;for(var s=0,r=t.length;r>s;s++)n=!!e(t[s],s),i!==n&&o.push(t[s]);return o},map:function(t,i,n){var o,s,r=[],l=0,c=t.length,d=t instanceof a||c!==e&&"number"==typeof c&&(c>0&&t[0]&&t[c-1]||0===c||a.isArray(t));if(d)for(;c>l;l++)o=i(t[l],l,n),null!=o&&(r[r.length]=o);else for(s in t)o=i(t[s],s,n),null!=o&&(r[r.length]=o);return r.concat.apply([],r)},guid:1,proxy:function(t,i){if("string"==typeof i){var n=t[i];i=t,t=n}if(!a.isFunction(t))return e;var o=I.call(arguments,2),s=function(){return t.apply(i,o.concat(I.call(arguments)))};return s.guid=t.guid=t.guid||s.guid||a.guid++,s},access:function(t,i,n,o,s,r,l){var c,d=null==n,h=0,u=t.length;if(n&&"object"==typeof n){for(h in n)a.access(t,i,h,n[h],1,r,o);s=1}else if(o!==e){if(c=l===e&&a.isFunction(o),d&&(c?(c=i,i=function(t,e,i){return c.call(a(t),i)}):(i.call(t,o),i=null)),i)for(;u>h;h++)i(t[h],n,c?o.call(t[h],h,i(t[h],n)):o,l);s=1}return s?t:d?i.call(t):u?i(t[0],n):r},now:function(){return(new Date).getTime()},uaMatch:function(t){t=t.toLowerCase();var e=b.exec(t)||x.exec(t)||w.exec(t)||t.indexOf("compatible")<0&&k.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},sub:function(){function t(e,i){return new t.fn.init(e,i)}a.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,n){return n&&n instanceof a&&!(n instanceof t)&&(n=t(n)),a.fn.init.call(this,i,n,e)},t.fn.init.prototype=t.fn;var e=t(A);return t},browser:{}}),a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){L["[object "+e+"]"]=e.toLowerCase()}),o=a.uaMatch($),o.browser&&(a.browser[o.browser]=!0,a.browser.version=o.version),a.browser.webkit&&(a.browser.safari=!0),h.test("")&&(u=/^[\s\xA0]+/,p=/[\s\xA0]+$/),n=a(A),A.addEventListener?r=function(){A.removeEventListener("DOMContentLoaded",r,!1),a.ready()}:A.attachEvent&&(r=function(){"complete"===A.readyState&&(A.detachEvent("onreadystatechange",r),a.ready())}),a}(),D={};L.Callbacks=function(t){t=t?D[t]||i(t):{};var n,o,s,r,a,l,c=[],d=[],h=function(e){var i,n,o,s;for(i=0,n=e.length;n>i;i++)o=e[i],s=L.type(o),"array"===s?h(o):"function"===s&&(t.unique&&p.has(o)||c.push(o))},u=function(e,i){for(i=i||[],n=!t.memory||[e,i],o=!0,s=!0,l=r||0,r=0,a=c.length;c&&a>l;l++)if(c[l].apply(e,i)===!1&&t.stopOnFalse){n=!0;break}s=!1,c&&(t.once?n===!0?p.disable():c=[]:d&&d.length&&(n=d.shift(),p.fireWith(n[0],n[1])))},p={add:function(){if(c){var t=c.length;h(arguments),s?a=c.length:n&&n!==!0&&(r=t,u(n[0],n[1]))}return this},remove:function(){if(c)for(var e=arguments,i=0,n=e.length;n>i;i++)for(var o=0;o<c.length&&(e[i]!==c[o]||(s&&a>=o&&(a--,l>=o&&l--),c.splice(o--,1),!t.unique));o++);return this},has:function(t){if(c)for(var e=0,i=c.length;i>e;e++)if(t===c[e])return!0;return!1},empty:function(){return c=[],this},disable:function(){return c=d=n=e,this},disabled:function(){return!c},lock:function(){return d=e,n&&n!==!0||p.disable(),this},locked:function(){return!d},fireWith:function(e,i){return d&&(s?t.once||d.push([e,i]):t.once&&n||u(e,i)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!o}};return p};var q=[].slice;L.extend({Deferred:function(t){var e,i=L.Callbacks("once memory"),n=L.Callbacks("once memory"),o=L.Callbacks("memory"),s="pending",r={resolve:i,reject:n,notify:o},a={done:i.add,fail:n.add,progress:o.add,state:function(){return s},isResolved:i.fired,isRejected:n.fired,then:function(t,e,i){return l.done(t).fail(e).progress(i),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(t,e,i){return L.Deferred(function(n){L.each({done:[t,"resolve"],fail:[e,"reject"],progress:[i,"notify"]},function(t,e){var i,o=e[0],s=e[1];L.isFunction(o)?l[t](function(){i=o.apply(this,arguments),i&&L.isFunction(i.promise)?i.promise().then(n.resolve,n.reject,n.notify):n[s+"With"](this===l?n:this,[i])}):l[t](n[s])})}).promise()},promise:function(t){if(null==t)t=a;else for(var e in a)t[e]=a[e];return t}},l=a.promise({});for(e in r)l[e]=r[e].fire,l[e+"With"]=r[e].fireWith;return l.done(function(){s="resolved"},n.disable,o.lock).fail(function(){s="rejected"},i.disable,o.lock),t&&t.call(l,l),l},when:function(t){function e(t){return function(e){n[t]=arguments.length>1?q.call(arguments,0):e,--a||l.resolveWith(l,n)}}function i(t){return function(e){r[t]=arguments.length>1?q.call(arguments,0):e,l.notifyWith(c,r)}}var n=q.call(arguments,0),o=0,s=n.length,r=new Array(s),a=s,l=1>=s&&t&&L.isFunction(t.promise)?t:L.Deferred(),c=l.promise();if(s>1){for(;s>o;o++)n[o]&&n[o].promise&&L.isFunction(n[o].promise)?n[o].promise().then(e(o),l.reject,i(o)):--a;a||l.resolveWith(l,n)}else l!==t&&l.resolveWith(l,s?[t]:[]);return c}}),L.support=function(){var e,i,n,o,s,r,a,l,c,d,h,u=A.createElement("div");if(A.documentElement,u.setAttribute("className","t"),u.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",i=u.getElementsByTagName("*"),n=u.getElementsByTagName("a")[0],!i||!i.length||!n)return{};o=A.createElement("select"),s=o.appendChild(A.createElement("option")),r=u.getElementsByTagName("input")[0],e={leadingWhitespace:3===u.firstChild.nodeType,tbody:!u.getElementsByTagName("tbody").length,htmlSerialize:!!u.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.55/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===r.value,optSelected:s.selected,getSetAttribute:"t"!==u.className,enctype:!!A.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==A.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},L.boxModel=e.boxModel="CSS1Compat"===A.compatMode,r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!s.disabled;try{delete u.test}catch(p){e.deleteExpando=!1}if(!u.addEventListener&&u.attachEvent&&u.fireEvent&&(u.attachEvent("onclick",function(){e.noCloneEvent=!1}),u.cloneNode(!0).fireEvent("onclick")),r=A.createElement("input"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","checked"),r.setAttribute("name","t"),u.appendChild(r),a=A.createDocumentFragment(),a.appendChild(u.lastChild),e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=r.checked,a.removeChild(r),a.appendChild(u),u.attachEvent)for(d in{submit:1,change:1,focusin:1})c="on"+d,h=c in u,h||(u.setAttribute(c,"return;"),h="function"==typeof u[c]),e[d+"Bubbles"]=h;return a.removeChild(u),a=o=s=u=r=null,L(function(){var i,n,o,s,r,a,c,d,p,f,m,g,v=A.getElementsByTagName("body")[0];v&&(c=1,g="padding:0;margin:0;border:",f="position:absolute;top:0;left:0;width:1px;height:1px;",m=g+"0;visibility:hidden;",d="style='"+f+g+"5px solid #000;",p="<div "+d+"display:block;'><div style='"+g+"0;display:block;overflow:hidden;'></div></div>"+"<table "+d+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",i=A.createElement("div"),i.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+c+"px",v.insertBefore(i,v.firstChild),u=A.createElement("div"),i.appendChild(u),u.innerHTML="<table><tr><td style='"+g+"0;display:none'></td><td>t</td></tr></table>",l=u.getElementsByTagName("td"),h=0===l[0].offsetHeight,l[0].style.display="",l[1].style.display="none",e.reliableHiddenOffsets=h&&0===l[0].offsetHeight,t.getComputedStyle&&(u.innerHTML="",a=A.createElement("div"),a.style.width="0",a.style.marginRight="0",u.style.width="2px",u.appendChild(a),e.reliableMarginRight=0===(parseInt((t.getComputedStyle(a,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof u.style.zoom&&(u.innerHTML="",u.style.width=u.style.padding="1px",u.style.border=0,u.style.overflow="hidden",u.style.display="inline",u.style.zoom=1,e.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.style.overflow="visible",u.innerHTML="<div style='width:5px;'></div>",e.shrinkWrapBlocks=3!==u.offsetWidth),u.style.cssText=f+m,u.innerHTML=p,n=u.firstChild,o=n.firstChild,s=n.nextSibling.firstChild.firstChild,r={doesNotAddBorder:5!==o.offsetTop,doesAddBorderForTableAndCells:5===s.offsetTop},o.style.position="fixed",o.style.top="20px",r.fixedPosition=20===o.offsetTop||15===o.offsetTop,o.style.position=o.style.top="",n.style.overflow="hidden",n.style.position="relative",r.subtractsBorderForOverflowNotVisible=-5===o.offsetTop,r.doesNotIncludeMarginInBodyOffset=v.offsetTop!==c,t.getComputedStyle&&(u.style.marginTop="1%",e.pixelMargin="1%"!==(t.getComputedStyle(u,null)||{marginTop:0}).marginTop),"undefined"!=typeof i.style.zoom&&(i.style.zoom=1),v.removeChild(i),a=u=i=null,L.extend(e,r))}),e}();var H=/^(?:\{.*\}|\[.*\])$/,O=/([A-Z])/g;L.extend({cache:{},uuid:0,expando:"jQuery"+(L.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?L.cache[t[L.expando]]:t[L.expando],!!t&&!o(t)},data:function(t,i,n,o){if(L.acceptData(t)){var s,r,a,l=L.expando,c="string"==typeof i,d=t.nodeType,h=d?L.cache:t,u=d?t[l]:t[l]&&l,p="events"===i;if(u&&h[u]&&(p||o||h[u].data)||!c||n!==e)return u||(d?t[l]=u=++L.uuid:u=l),h[u]||(h[u]={},d||(h[u].toJSON=L.noop)),("object"==typeof i||"function"==typeof i)&&(o?h[u]=L.extend(h[u],i):h[u].data=L.extend(h[u].data,i)),s=r=h[u],o||(r.data||(r.data={}),r=r.data),n!==e&&(r[L.camelCase(i)]=n),p&&!r[i]?s.events:(c?(a=r[i],null==a&&(a=r[L.camelCase(i)])):a=r,a)}},removeData:function(t,e,i){if(L.acceptData(t)){var n,s,r,a=L.expando,l=t.nodeType,c=l?L.cache:t,d=l?t[a]:a;if(c[d]){if(e&&(n=i?c[d]:c[d].data)){L.isArray(e)||(e in n?e=[e]:(e=L.camelCase(e),e=e in n?[e]:e.split(" ")));for(s=0,r=e.length;r>s;s++)delete n[e[s]];if(!(i?o:L.isEmptyObject)(n))return}(i||(delete c[d].data,o(c[d])))&&(L.support.deleteExpando||!c.setInterval?delete c[d]:c[d]=null,l&&(L.support.deleteExpando?delete t[a]:t.removeAttribute?t.removeAttribute(a):t[a]=null))}}},_data:function(t,e,i){return L.data(t,e,i,!0)},acceptData:function(t){if(t.nodeName){var e=L.noData[t.nodeName.toLowerCase()];if(e)return!(e===!0||t.getAttribute("classid")!==e)}return!0}}),L.fn.extend({data:function(t,i){var o,s,r,a,l,c=this[0],d=0,h=null;if(t===e){if(this.length&&(h=L.data(c),1===c.nodeType&&!L._data(c,"parsedAttrs"))){for(r=c.attributes,l=r.length;l>d;d++)a=r[d].name,0===a.indexOf("data-")&&(a=L.camelCase(a.substring(5)),n(c,a,h[a]));L._data(c,"parsedAttrs",!0)}return h}return"object"==typeof t?this.each(function(){L.data(this,t)}):(o=t.split(".",2),o[1]=o[1]?"."+o[1]:"",s=o[1]+"!",L.access(this,function(i){return i===e?(h=this.triggerHandler("getData"+s,[o[0]]),h===e&&c&&(h=L.data(c,t),h=n(c,t,h)),h===e&&o[1]?this.data(o[0]):h):(o[1]=i,this.each(function(){var e=L(this);e.triggerHandler("setData"+s,o),L.data(this,t,i),e.triggerHandler("changeData"+s,o)}),void 0)},null,i,arguments.length>1,null,!1))},removeData:function(t){return this.each(function(){L.removeData(this,t)})}}),L.extend({_mark:function(t,e){t&&(e=(e||"fx")+"mark",L._data(t,e,(L._data(t,e)||0)+1))},_unmark:function(t,e,i){if(t!==!0&&(i=e,e=t,t=!1),e){i=i||"fx";var n=i+"mark",o=t?0:(L._data(e,n)||1)-1;o?L._data(e,n,o):(L.removeData(e,n,!0),s(e,i,"mark"))}},queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=L._data(t,e),i&&(!n||L.isArray(i)?n=L._data(t,e,L.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=L.queue(t,e),n=i.shift(),o={};"inprogress"===n&&(n=i.shift()),n&&("fx"===e&&i.unshift("inprogress"),L._data(t,e+".run",o),n.call(t,function(){L.dequeue(t,e)},o)),i.length||(L.removeData(t,e+"queue "+e+".run",!0),s(t,e,"queue"))}}),L.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?L.queue(this[0],t):i===e?this:this.each(function(){var e=L.queue(this,t,i);"fx"===t&&"inprogress"!==e[0]&&L.dequeue(this,t)})},dequeue:function(t){return this.each(function(){L.dequeue(this,t)})},delay:function(t,e){return t=L.fx?L.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){function n(){--l||s.resolveWith(r,[r])}"string"!=typeof t&&(i=t,t=e),t=t||"fx";for(var o,s=L.Deferred(),r=this,a=r.length,l=1,c=t+"defer",d=t+"queue",h=t+"mark";a--;)(o=L.data(r[a],c,e,!0)||(L.data(r[a],d,e,!0)||L.data(r[a],h,e,!0))&&L.data(r[a],c,L.Callbacks("once memory"),!0))&&(l++,o.add(n));return n(),s.promise(i)}});var B,F,z,R=/[\n\t\r]/g,W=/\s+/,V=/\r/g,X=/^(?:button|input)$/i,Y=/^(?:button|input|object|select|textarea)$/i,G=/^a(?:rea)?$/i,Q=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,U=L.support.getSetAttribute;L.fn.extend({attr:function(t,e){return L.access(this,L.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){L.removeAttr(this,t)})},prop:function(t,e){return L.access(this,L.prop,t,e,arguments.length>1)},removeProp:function(t){return t=L.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,o,s,r,a;if(L.isFunction(t))return this.each(function(e){L(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(W),i=0,n=this.length;n>i;i++)if(o=this[i],1===o.nodeType)if(o.className||1!==e.length){for(s=" "+o.className+" ",r=0,a=e.length;a>r;r++)~s.indexOf(" "+e[r]+" ")||(s+=e[r]+" ");o.className=L.trim(s)}else o.className=t;return this},removeClass:function(t){var i,n,o,s,r,a,l;if(L.isFunction(t))return this.each(function(e){L(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(i=(t||"").split(W),n=0,o=this.length;o>n;n++)if(s=this[n],1===s.nodeType&&s.className)if(t){for(r=(" "+s.className+" ").replace(R," "),a=0,l=i.length;l>a;a++)r=r.replace(" "+i[a]+" "," ");s.className=L.trim(r)}else s.className="";return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return L.isFunction(t)?this.each(function(i){L(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var o,s=0,r=L(this),a=e,l=t.split(W);o=l[s++];)a=n?a:!r.hasClass(o),r[a?"addClass":"removeClass"](o);else("undefined"===i||"boolean"===i)&&(this.className&&L._data(this,"__className__",this.className),this.className=this.className||t===!1?"":L._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(R," ").indexOf(e)>-1)return!0;return!1},val:function(t){var i,n,o,s=this[0];{if(arguments.length)return o=L.isFunction(t),this.each(function(n){var s,r=L(this);1===this.nodeType&&(s=o?t.call(this,n,r.val()):t,null==s?s="":"number"==typeof s?s+="":L.isArray(s)&&(s=L.map(s,function(t){return null==t?"":t+""})),i=L.valHooks[this.type]||L.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,s,"value")!==e||(this.value=s))});if(s)return i=L.valHooks[s.type]||L.valHooks[s.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(s,"value"))!==e?n:(n=s.value,"string"==typeof n?n.replace(V,""):null==n?"":n)}}}),L.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){var e,i,n,o,s=t.selectedIndex,r=[],a=t.options,l="select-one"===t.type;if(0>s)return null;for(i=l?s:0,n=l?s+1:a.length;n>i;i++)if(o=a[i],!(!o.selected||(L.support.optDisabled?o.disabled:null!==o.getAttribute("disabled"))||o.parentNode.disabled&&L.nodeName(o.parentNode,"optgroup"))){if(e=L(o).val(),l)return e;r.push(e)}return l&&!r.length&&a.length?L(a[s]).val():r},set:function(t,e){var i=L.makeArray(e);return L(t).find("option").each(function(){this.selected=L.inArray(L(this).val(),i)>=0}),i.length||(t.selectedIndex=-1),i}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(t,i,n,o){var s,r,a,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return o&&i in L.attrFn?L(t)[i](n):"undefined"==typeof t.getAttribute?L.prop(t,i,n):(a=1!==l||!L.isXMLDoc(t),a&&(i=i.toLowerCase(),r=L.attrHooks[i]||(Q.test(i)?F:B)),n!==e?null===n?(L.removeAttr(t,i),void 0):r&&"set"in r&&a&&(s=r.set(t,n,i))!==e?s:(t.setAttribute(i,""+n),n):r&&"get"in r&&a&&null!==(s=r.get(t,i))?s:(s=t.getAttribute(i),null===s?e:s))},removeAttr:function(t,e){var i,n,o,s,r,a=0;if(e&&1===t.nodeType)for(n=e.toLowerCase().split(W),s=n.length;s>a;a++)o=n[a],o&&(i=L.propFix[o]||o,r=Q.test(o),r||L.attr(t,o,""),t.removeAttribute(U?o:i),r&&i in t&&(t[i]=!1))},attrHooks:{type:{set:function(t,e){if(X.test(t.nodeName)&&t.parentNode)L.error("type property can't be changed");else if(!L.support.radioValue&&"radio"===e&&L.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}},value:{get:function(t,e){return B&&L.nodeName(t,"button")?B.get(t,e):e in t?t.value:null},set:function(t,e,i){return B&&L.nodeName(t,"button")?B.set(t,e,i):(t.value=e,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,n){var o,s,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return r=1!==a||!L.isXMLDoc(t),r&&(i=L.propFix[i]||i,s=L.propHooks[i]),n!==e?s&&"set"in s&&(o=s.set(t,n,i))!==e?o:t[i]=n:s&&"get"in s&&null!==(o=s.get(t,i))?o:t[i]},propHooks:{tabIndex:{get:function(t){var i=t.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):Y.test(t.nodeName)||G.test(t.nodeName)&&t.href?0:e}}}}),L.attrHooks.tabindex=L.propHooks.tabIndex,F={get:function(t,i){var n,o=L.prop(t,i);return o===!0||"boolean"!=typeof o&&(n=t.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():e},set:function(t,e,i){var n;return e===!1?L.removeAttr(t,i):(n=L.propFix[i]||i,n in t&&(t[n]=!0),t.setAttribute(i,i.toLowerCase())),i}},U||(z={name:!0,id:!0,coords:!0},B=L.valHooks.button={get:function(t,i){var n;return n=t.getAttributeNode(i),n&&(z[i]?""!==n.nodeValue:n.specified)?n.nodeValue:e},set:function(t,e,i){var n=t.getAttributeNode(i);return n||(n=A.createAttribute(i),t.setAttributeNode(n)),n.nodeValue=e+""}},L.attrHooks.tabindex.set=B.set,L.each(["width","height"],function(t,e){L.attrHooks[e]=L.extend(L.attrHooks[e],{set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}})}),L.attrHooks.contenteditable={get:B.get,set:function(t,e,i){""===e&&(e="false"),B.set(t,e,i)}}),L.support.hrefNormalized||L.each(["href","src","width","height"],function(t,i){L.attrHooks[i]=L.extend(L.attrHooks[i],{get:function(t){var n=t.getAttribute(i,2);return null===n?e:n}})}),L.support.style||(L.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=""+e}}),L.support.optSelected||(L.propHooks.selected=L.extend(L.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),L.support.enctype||(L.propFix.enctype="encoding"),L.support.checkOn||L.each(["radio","checkbox"],function(){L.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),L.each(["radio","checkbox"],function(){L.valHooks[this]=L.extend(L.valHooks[this],{set:function(t,e){return L.isArray(e)?t.checked=L.inArray(L(t).val(),e)>=0:void 0}})});var J=/^(?:textarea|input|select)$/i,K=/^([^\.]*)?(?:\.(.+))?$/,Z=/(?:^|\s)hover(\.\S+)?\b/,te=/^key/,ee=/^(?:mouse|contextmenu)|click/,ie=/^(?:focusinfocus|focusoutblur)$/,ne=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,oe=function(t){var e=ne.exec(t);return e&&(e[1]=(e[1]||"").toLowerCase(),e[3]=e[3]&&new RegExp("(?:^|\\s)"+e[3]+"(?:\\s|$)")),e},se=function(t,e){var i=t.attributes||{};return!(e[1]&&t.nodeName.toLowerCase()!==e[1]||e[2]&&(i.id||{}).value!==e[2]||e[3]&&!e[3].test((i["class"]||{}).value))},re=function(t){return L.event.special.hover?t:t.replace(Z,"mouseenter$1 mouseleave$1")};L.event={add:function(t,i,n,o,s){var r,a,l,c,d,h,u,p,f,m,g;if(3!==t.nodeType&&8!==t.nodeType&&i&&n&&(r=L._data(t))){for(n.handler&&(f=n,n=f.handler,s=f.selector),n.guid||(n.guid=L.guid++),l=r.events,l||(r.events=l={}),a=r.handle,a||(r.handle=a=function(t){return"undefined"==typeof L||t&&L.event.triggered===t.type?e:L.event.dispatch.apply(a.elem,arguments)},a.elem=t),i=L.trim(re(i)).split(" "),c=0;c<i.length;c++)d=K.exec(i[c])||[],h=d[1],u=(d[2]||"").split(".").sort(),g=L.event.special[h]||{},h=(s?g.delegateType:g.bindType)||h,g=L.event.special[h]||{},p=L.extend({type:h,origType:d[1],data:o,handler:n,guid:n.guid,selector:s,quick:s&&oe(s),namespace:u.join(".")},f),m=l[h],m||(m=l[h]=[],m.delegateCount=0,g.setup&&g.setup.call(t,o,u,a)!==!1||(t.addEventListener?t.addEventListener(h,a,!1):t.attachEvent&&t.attachEvent("on"+h,a))),g.add&&(g.add.call(t,p),p.handler.guid||(p.handler.guid=n.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),L.event.global[h]=!0;t=null}},global:{},remove:function(t,e,i,n,o){var s,r,a,l,c,d,h,u,p,f,m,g,v=L.hasData(t)&&L._data(t);if(v&&(u=v.events)){for(e=L.trim(re(e||"")).split(" "),s=0;s<e.length;s++)if(r=K.exec(e[s])||[],a=l=r[1],c=r[2],a){for(p=L.event.special[a]||{},a=(n?p.delegateType:p.bindType)||a,m=u[a]||[],d=m.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,h=0;h<m.length;h++)g=m[h],!o&&l!==g.origType||i&&i.guid!==g.guid||c&&!c.test(g.namespace)||n&&n!==g.selector&&("**"!==n||!g.selector)||(m.splice(h--,1),g.selector&&m.delegateCount--,p.remove&&p.remove.call(t,g));0===m.length&&d!==m.length&&(p.teardown&&p.teardown.call(t,c)!==!1||L.removeEvent(t,a,v.handle),delete u[a])}else for(a in u)L.event.remove(t,a+e[s],i,n,!0);L.isEmptyObject(u)&&(f=v.handle,f&&(f.elem=null),L.removeData(t,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,o,s){if(!o||3!==o.nodeType&&8!==o.nodeType){var r,a,l,c,d,h,u,p,f,m,g=i.type||i,v=[];if(!ie.test(g+L.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),o&&!L.event.customEvent[g]||L.event.global[g]))if(i="object"==typeof i?i[L.expando]?i:new L.Event(g,i):new L.Event(g),i.type=g,i.isTrigger=!0,i.exclusive=a,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,h=g.indexOf(":")<0?"on"+g:"",o){if(i.result=e,i.target||(i.target=o),n=null!=n?L.makeArray(n):[],n.unshift(i),u=L.event.special[g]||{},!u.trigger||u.trigger.apply(o,n)!==!1){if(f=[[o,u.bindType||g]],!s&&!u.noBubble&&!L.isWindow(o)){for(m=u.delegateType||g,c=ie.test(m+g)?o:o.parentNode,d=null;c;c=c.parentNode)f.push([c,m]),d=c;d&&d===o.ownerDocument&&f.push([d.defaultView||d.parentWindow||t,m])}for(l=0;l<f.length&&!i.isPropagationStopped();l++)c=f[l][0],i.type=f[l][1],p=(L._data(c,"events")||{})[i.type]&&L._data(c,"handle"),p&&p.apply(c,n),p=h&&c[h],p&&L.acceptData(c)&&p.apply(c,n)===!1&&i.preventDefault();
return i.type=g,s||i.isDefaultPrevented()||u._default&&u._default.apply(o.ownerDocument,n)!==!1||"click"===g&&L.nodeName(o,"a")||!L.acceptData(o)||h&&o[g]&&("focus"!==g&&"blur"!==g||0!==i.target.offsetWidth)&&!L.isWindow(o)&&(d=o[h],d&&(o[h]=null),L.event.triggered=g,o[g](),L.event.triggered=e,d&&(o[h]=d)),i.result}}else{r=L.cache;for(l in r)r[l].events&&r[l].events[g]&&L.event.trigger(i,n,r[l].handle.elem,!0)}}},dispatch:function(i){i=L.event.fix(i||t.event);var n,o,s,r,a,l,c,d,h,u,p=(L._data(this,"events")||{})[i.type]||[],f=p.delegateCount,m=[].slice.call(arguments,0),g=!i.exclusive&&!i.namespace,v=L.event.special[i.type]||{},y=[];if(m[0]=i,i.delegateTarget=this,!v.preDispatch||v.preDispatch.call(this,i)!==!1){if(f&&(!i.button||"click"!==i.type))for(r=L(this),r.context=this.ownerDocument||this,s=i.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0){for(l={},d=[],r[0]=s,n=0;f>n;n++)h=p[n],u=h.selector,l[u]===e&&(l[u]=h.quick?se(s,h.quick):r.is(u)),l[u]&&d.push(h);d.length&&y.push({elem:s,matches:d})}for(p.length>f&&y.push({elem:this,matches:p.slice(f)}),n=0;n<y.length&&!i.isPropagationStopped();n++)for(c=y[n],i.currentTarget=c.elem,o=0;o<c.matches.length&&!i.isImmediatePropagationStopped();o++)h=c.matches[o],(g||!i.namespace&&!h.namespace||i.namespace_re&&i.namespace_re.test(h.namespace))&&(i.data=h.data,i.handleObj=h,a=((L.event.special[h.origType]||{}).handle||h.handler).apply(c.elem,m),a!==e&&(i.result=a,a===!1&&(i.preventDefault(),i.stopPropagation())));return v.postDispatch&&v.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,o,s,r=i.button,a=i.fromElement;return null==t.pageX&&null!=i.clientX&&(n=t.target.ownerDocument||A,o=n.documentElement,s=n.body,t.pageX=i.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),t.pageY=i.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?i.toElement:a),t.which||r===e||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[L.expando])return t;var i,n,o=t,s=L.event.fixHooks[t.type]||{},r=s.props?this.props.concat(s.props):this.props;for(t=L.Event(o),i=r.length;i;)n=r[--i],t[n]=o[n];return t.target||(t.target=o.srcElement||A),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey===e&&(t.metaKey=t.ctrlKey),s.filter?s.filter(t,o):t},special:{ready:{setup:L.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,i){L.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,i,n){var o=L.extend(new L.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?L.event.trigger(o,null,e):L.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},L.event.handle=L.event.dispatch,L.removeEvent=A.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){t.detachEvent&&t.detachEvent("on"+e,i)},L.Event=function(t,e){return this instanceof L.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?a:r):this.type=t,e&&L.extend(this,e),this.timeStamp=t&&t.timeStamp||L.now(),this[L.expando]=!0,void 0):new L.Event(t,e)},L.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r},L.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){L.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,s=t.handleObj;return s.selector,(!o||o!==n&&!L.contains(n,o))&&(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),L.support.submitBubbles||(L.event.special.submit={setup:function(){return L.nodeName(this,"form")?!1:(L.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=L.nodeName(i,"input")||L.nodeName(i,"button")?i.form:e;n&&!n._submit_attached&&(L.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),n._submit_attached=!0)}),void 0)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&L.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return L.nodeName(this,"form")?!1:(L.event.remove(this,"._submit"),void 0)}}),L.support.changeBubbles||(L.event.special.change={setup:function(){return J.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(L.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),L.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1,L.event.simulate("change",this,t,!0))})),!1):(L.event.add(this,"beforeactivate._change",function(t){var e=t.target;J.test(e.nodeName)&&!e._change_attached&&(L.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||L.event.simulate("change",this.parentNode,t,!0)}),e._change_attached=!0)}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return L.event.remove(this,"._change"),J.test(this.nodeName)}}),L.support.focusinBubbles||L.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){L.event.simulate(e,t.target,L.event.fix(t),!0)};L.event.special[e]={setup:function(){0===i++&&A.addEventListener(t,n,!0)},teardown:function(){0===--i&&A.removeEventListener(t,n,!0)}}}),L.fn.extend({on:function(t,i,n,o,s){var a,l;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(l in t)this.on(l,i,n,t[l],s);return this}if(null==n&&null==o?(o=i,n=i=e):null==o&&("string"==typeof i?(o=n,n=e):(o=n,n=i,i=e)),o===!1)o=r;else if(!o)return this;return 1===s&&(a=o,o=function(t){return L().off(t),a.apply(this,arguments)},o.guid=a.guid||(a.guid=L.guid++)),this.each(function(){L.event.add(this,t,o,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){if(t&&t.preventDefault&&t.handleObj){var o=t.handleObj;return L(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this}if("object"==typeof t){for(var s in t)this.off(s,i,t[s]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=r),this.each(function(){L.event.remove(this,t,n,i)})},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,i){return L(this.context).on(t,this.selector,e,i),this},die:function(t,e){return L(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1==arguments.length?this.off(t,"**"):this.off(e,t,i)},trigger:function(t,e){return this.each(function(){L.event.trigger(t,e,this)})},triggerHandler:function(t,e){return this[0]?L.event.trigger(t,e,this[0],!0):void 0},toggle:function(t){var e=arguments,i=t.guid||L.guid++,n=0,o=function(i){var o=(L._data(this,"lastToggle"+t.guid)||0)%n;return L._data(this,"lastToggle"+t.guid,o+1),i.preventDefault(),e[o].apply(this,arguments)||!1};for(o.guid=i;n<e.length;)e[n++].guid=i;return this.click(o)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),L.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){L.fn[e]=function(t,i){return null==i&&(i=t,t=null),arguments.length>0?this.on(e,null,t,i):this.trigger(e)},L.attrFn&&(L.attrFn[e]=!0),te.test(e)&&(L.event.fixHooks[e]=L.event.keyHooks),ee.test(e)&&(L.event.fixHooks[e]=L.event.mouseHooks)}),/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
function(){function t(t,e,i,n,s,r){for(var a=0,l=n.length;l>a;a++){var c=n[a];if(c){var d=!1;for(c=c[t];c;){if(c[o]===i){d=n[c.sizset];break}if(1!==c.nodeType||r||(c[o]=i,c.sizset=a),c.nodeName.toLowerCase()===e){d=c;break}c=c[t]}n[a]=d}}}function i(t,e,i,n,s,r){for(var a=0,l=n.length;l>a;a++){var c=n[a];if(c){var d=!1;for(c=c[t];c;){if(c[o]===i){d=n[c.sizset];break}if(1===c.nodeType)if(r||(c[o]=i,c.sizset=a),"string"!=typeof e){if(c===e){d=!0;break}}else if(u.filter(e,[c]).length>0){d=c;break}c=c[t]}n[a]=d}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o="sizcache"+(Math.random()+"").replace(".",""),s=0,r=Object.prototype.toString,a=!1,l=!0,c=/\\/g,d=/\r\n/g,h=/\W/;[0,0].sort(function(){return l=!1,0});var u=function(t,e,i,o){i=i||[],e=e||A;var s=e;if(1!==e.nodeType&&9!==e.nodeType)return[];if(!t||"string"!=typeof t)return i;var a,l,c,d,h,p,g,v,b=!0,x=u.isXML(e),w=[],j=t;do if(n.exec(""),a=n.exec(j),a&&(j=a[3],w.push(a[1]),a[2])){d=a[3];break}while(a);if(w.length>1&&m.exec(t))if(2===w.length&&f.relative[w[0]])l=k(w[0]+w[1],e,o);else for(l=f.relative[w[0]]?[e]:u(w.shift(),e);w.length;)t=w.shift(),f.relative[t]&&(t+=w.shift()),l=k(t,l,o);else if(!o&&w.length>1&&9===e.nodeType&&!x&&f.match.ID.test(w[0])&&!f.match.ID.test(w[w.length-1])&&(h=u.find(w.shift(),e,x),e=h.expr?u.filter(h.expr,h.set)[0]:h.set[0]),e)for(h=o?{expr:w.pop(),set:y(o)}:u.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!e.parentNode?e:e.parentNode,x),l=h.expr?u.filter(h.expr,h.set):h.set,w.length>0?c=y(l):b=!1;w.length;)p=w.pop(),g=p,f.relative[p]?g=w.pop():p="",null==g&&(g=e),f.relative[p](c,g,x);else c=w=[];if(c||(c=l),c||u.error(p||t),"[object Array]"===r.call(c))if(b)if(e&&1===e.nodeType)for(v=0;null!=c[v];v++)c[v]&&(c[v]===!0||1===c[v].nodeType&&u.contains(e,c[v]))&&i.push(l[v]);else for(v=0;null!=c[v];v++)c[v]&&1===c[v].nodeType&&i.push(l[v]);else i.push.apply(i,c);else y(c,i);return d&&(u(d,s,i,o),u.uniqueSort(i)),i};u.uniqueSort=function(t){if(x&&(a=l,t.sort(x),a))for(var e=1;e<t.length;e++)t[e]===t[e-1]&&t.splice(e--,1);return t},u.matches=function(t,e){return u(t,null,null,e)},u.matchesSelector=function(t,e){return u(e,null,null,[t]).length>0},u.find=function(t,e,i){var n,o,s,r,a,l;if(!t)return[];for(o=0,s=f.order.length;s>o;o++)if(a=f.order[o],(r=f.leftMatch[a].exec(t))&&(l=r[1],r.splice(1,1),"\\"!==l.substr(l.length-1)&&(r[1]=(r[1]||"").replace(c,""),n=f.find[a](r,e,i),null!=n))){t=t.replace(f.match[a],"");break}return n||(n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):[]),{set:n,expr:t}},u.filter=function(t,i,n,o){for(var s,r,a,l,c,d,h,p,m,g=t,v=[],y=i,b=i&&i[0]&&u.isXML(i[0]);t&&i.length;){for(a in f.filter)if(null!=(s=f.leftMatch[a].exec(t))&&s[2]){if(d=f.filter[a],h=s[1],r=!1,s.splice(1,1),"\\"===h.substr(h.length-1))continue;if(y===v&&(v=[]),f.preFilter[a])if(s=f.preFilter[a](s,y,n,v,o,b)){if(s===!0)continue}else r=l=!0;if(s)for(p=0;null!=(c=y[p]);p++)c&&(l=d(c,s,p,y),m=o^l,n&&null!=l?m?r=!0:y[p]=!1:m&&(v.push(c),r=!0));if(l!==e){if(n||(y=v),t=t.replace(f.match[a],""),!r)return[];break}}if(t===g){if(null!=r)break;u.error(t)}g=t}return y},u.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)};var p=u.getText=function(t){var e,i,n=t.nodeType,o="";if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;if("string"==typeof t.innerText)return t.innerText.replace(d,"");for(t=t.firstChild;t;t=t.nextSibling)o+=p(t)}else if(3===n||4===n)return t.nodeValue}else for(e=0;i=t[e];e++)8!==i.nodeType&&(o+=p(i));return o},f=u.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(t){return t.getAttribute("href")},type:function(t){return t.getAttribute("type")}},relative:{"+":function(t,e){var i="string"==typeof e,n=i&&!h.test(e),o=i&&!n;n&&(e=e.toLowerCase());for(var s,r=0,a=t.length;a>r;r++)if(s=t[r]){for(;(s=s.previousSibling)&&1!==s.nodeType;);t[r]=o||s&&s.nodeName.toLowerCase()===e?s||!1:s===e}o&&u.filter(e,t,!0)},">":function(t,e){var i,n="string"==typeof e,o=0,s=t.length;if(n&&!h.test(e)){for(e=e.toLowerCase();s>o;o++)if(i=t[o]){var r=i.parentNode;t[o]=r.nodeName.toLowerCase()===e?r:!1}}else{for(;s>o;o++)i=t[o],i&&(t[o]=n?i.parentNode:i.parentNode===e);n&&u.filter(e,t,!0)}},"":function(e,n,o){var r,a=s++,l=i;"string"!=typeof n||h.test(n)||(n=n.toLowerCase(),r=n,l=t),l("parentNode",n,a,e,r,o)},"~":function(e,n,o){var r,a=s++,l=i;"string"!=typeof n||h.test(n)||(n=n.toLowerCase(),r=n,l=t),l("previousSibling",n,a,e,r,o)}},find:{ID:function(t,e,i){if("undefined"!=typeof e.getElementById&&!i){var n=e.getElementById(t[1]);return n&&n.parentNode?[n]:[]}},NAME:function(t,e){if("undefined"!=typeof e.getElementsByName){for(var i=[],n=e.getElementsByName(t[1]),o=0,s=n.length;s>o;o++)n[o].getAttribute("name")===t[1]&&i.push(n[o]);return 0===i.length?null:i}},TAG:function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t[1]):void 0}},preFilter:{CLASS:function(t,e,i,n,o,s){if(t=" "+t[1].replace(c,"")+" ",s)return t;for(var r,a=0;null!=(r=e[a]);a++)r&&(o^(r.className&&(" "+r.className+" ").replace(/[\t\n\r]/g," ").indexOf(t)>=0)?i||n.push(r):i&&(e[a]=!1));return!1},ID:function(t){return t[1].replace(c,"")},TAG:function(t){return t[1].replace(c,"").toLowerCase()},CHILD:function(t){if("nth"===t[1]){t[2]||u.error(t[0]),t[2]=t[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===t[2]&&"2n"||"odd"===t[2]&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=e[1]+(e[2]||1)-0,t[3]=e[3]-0}else t[2]&&u.error(t[0]);return t[0]=s++,t},ATTR:function(t,e,i,n,o,s){var r=t[1]=t[1].replace(c,"");return!s&&f.attrMap[r]&&(t[1]=f.attrMap[r]),t[4]=(t[4]||t[5]||"").replace(c,""),"~="===t[2]&&(t[4]=" "+t[4]+" "),t},PSEUDO:function(t,e,i,o,s){if("not"===t[1]){if(!((n.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var r=u.filter(t[3],e,i,!0^s);return i||o.push.apply(o,r),!1}t[3]=u(t[3],null,null,e)}else if(f.match.POS.test(t[0])||f.match.CHILD.test(t[0]))return!0;return t},POS:function(t){return t.unshift(!0),t}},filters:{enabled:function(t){return t.disabled===!1&&"hidden"!==t.type},disabled:function(t){return t.disabled===!0},checked:function(t){return t.checked===!0},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!!t.firstChild},empty:function(t){return!t.firstChild},has:function(t,e,i){return!!u(i[3],t).length},header:function(t){return/h\d/i.test(t.nodeName)},text:function(t){var e=t.getAttribute("type"),i=t.type;return"input"===t.nodeName.toLowerCase()&&"text"===i&&(e===i||null===e)},radio:function(t){return"input"===t.nodeName.toLowerCase()&&"radio"===t.type},checkbox:function(t){return"input"===t.nodeName.toLowerCase()&&"checkbox"===t.type},file:function(t){return"input"===t.nodeName.toLowerCase()&&"file"===t.type},password:function(t){return"input"===t.nodeName.toLowerCase()&&"password"===t.type},submit:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"submit"===t.type},image:function(t){return"input"===t.nodeName.toLowerCase()&&"image"===t.type},reset:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"reset"===t.type},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return/input|select|textarea|button/i.test(t.nodeName)},focus:function(t){return t===t.ownerDocument.activeElement}},setFilters:{first:function(t,e){return 0===e},last:function(t,e,i,n){return e===n.length-1},even:function(t,e){return 0===e%2},odd:function(t,e){return 1===e%2},lt:function(t,e,i){return e<i[3]-0},gt:function(t,e,i){return e>i[3]-0},nth:function(t,e,i){return i[3]-0===e},eq:function(t,e,i){return i[3]-0===e}},filter:{PSEUDO:function(t,e,i,n){var o=e[1],s=f.filters[o];if(s)return s(t,i,e,n);if("contains"===o)return(t.textContent||t.innerText||p([t])||"").indexOf(e[3])>=0;if("not"===o){for(var r=e[3],a=0,l=r.length;l>a;a++)if(r[a]===t)return!1;return!0}u.error(o)},CHILD:function(t,e){var i,n,s,r,a,l,c=e[1],d=t;switch(c){case"only":case"first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"===c)return!0;d=t;case"last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0;case"nth":if(i=e[2],n=e[3],1===i&&0===n)return!0;if(s=e[0],r=t.parentNode,r&&(r[o]!==s||!t.nodeIndex)){for(a=0,d=r.firstChild;d;d=d.nextSibling)1===d.nodeType&&(d.nodeIndex=++a);r[o]=s}return l=t.nodeIndex-n,0===i?0===l:0===l%i&&l/i>=0}},ID:function(t,e){return 1===t.nodeType&&t.getAttribute("id")===e},TAG:function(t,e){return"*"===e&&1===t.nodeType||!!t.nodeName&&t.nodeName.toLowerCase()===e},CLASS:function(t,e){return(" "+(t.className||t.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(t,e){var i=e[1],n=u.attr?u.attr(t,i):f.attrHandle[i]?f.attrHandle[i](t):null!=t[i]?t[i]:t.getAttribute(i),o=n+"",s=e[2],r=e[4];return null==n?"!="===s:!s&&u.attr?null!=n:"="===s?o===r:"*="===s?o.indexOf(r)>=0:"~="===s?(" "+o+" ").indexOf(r)>=0:r?"!="===s?o!==r:"^="===s?0===o.indexOf(r):"$="===s?o.substr(o.length-r.length)===r:"|="===s?o===r||o.substr(0,r.length+1)===r+"-":!1:o&&n!==!1},POS:function(t,e,i,n){var o=e[2],s=f.setFilters[o];return s?s(t,i,e,n):void 0}}},m=f.match.POS,g=function(t,e){return"\\"+(e-0+1)};for(var v in f.match)f.match[v]=new RegExp(f.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),f.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+f.match[v].source.replace(/\\(\d+)/g,g));f.match.globalPOS=m;var y=function(t,e){return t=Array.prototype.slice.call(t,0),e?(e.push.apply(e,t),e):t};try{Array.prototype.slice.call(A.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(t,e){var i=0,n=e||[];if("[object Array]"===r.call(t))Array.prototype.push.apply(n,t);else if("number"==typeof t.length)for(var o=t.length;o>i;i++)n.push(t[i]);else for(;t[i];i++)n.push(t[i]);return n}}var x,w;A.documentElement.compareDocumentPosition?x=function(t,e){return t===e?(a=!0,0):t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e)?-1:1:t.compareDocumentPosition?-1:1}:(x=function(t,e){if(t===e)return a=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var i,n,o=[],s=[],r=t.parentNode,l=e.parentNode,c=r;if(r===l)return w(t,e);if(!r)return-1;if(!l)return 1;for(;c;)o.unshift(c),c=c.parentNode;for(c=l;c;)s.unshift(c),c=c.parentNode;i=o.length,n=s.length;for(var d=0;i>d&&n>d;d++)if(o[d]!==s[d])return w(o[d],s[d]);return d===i?w(t,s[d],-1):w(o[d],e,1)},w=function(t,e,i){if(t===e)return i;for(var n=t.nextSibling;n;){if(n===e)return-1;n=n.nextSibling}return 1}),function(){var t=A.createElement("div"),i="script"+(new Date).getTime(),n=A.documentElement;t.innerHTML="<a name='"+i+"'/>",n.insertBefore(t,n.firstChild),A.getElementById(i)&&(f.find.ID=function(t,i,n){if("undefined"!=typeof i.getElementById&&!n){var o=i.getElementById(t[1]);return o?o.id===t[1]||"undefined"!=typeof o.getAttributeNode&&o.getAttributeNode("id").nodeValue===t[1]?[o]:e:[]}},f.filter.ID=function(t,e){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return 1===t.nodeType&&i&&i.nodeValue===e}),n.removeChild(t),n=t=null}(),function(){var t=A.createElement("div");t.appendChild(A.createComment("")),t.getElementsByTagName("*").length>0&&(f.find.TAG=function(t,e){var i=e.getElementsByTagName(t[1]);if("*"===t[1]){for(var n=[],o=0;i[o];o++)1===i[o].nodeType&&n.push(i[o]);i=n}return i}),t.innerHTML="<a href='#'></a>",t.firstChild&&"undefined"!=typeof t.firstChild.getAttribute&&"#"!==t.firstChild.getAttribute("href")&&(f.attrHandle.href=function(t){return t.getAttribute("href",2)}),t=null}(),A.querySelectorAll&&function(){var t=u,e=A.createElement("div"),i="__sizzle__";if(e.innerHTML="<p class='TEST'></p>",!e.querySelectorAll||0!==e.querySelectorAll(".TEST").length){u=function(e,n,o,s){if(n=n||A,!s&&!u.isXML(n)){var r=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(e);if(r&&(1===n.nodeType||9===n.nodeType)){if(r[1])return y(n.getElementsByTagName(e),o);if(r[2]&&f.find.CLASS&&n.getElementsByClassName)return y(n.getElementsByClassName(r[2]),o)}if(9===n.nodeType){if("body"===e&&n.body)return y([n.body],o);if(r&&r[3]){var a=n.getElementById(r[3]);if(!a||!a.parentNode)return y([],o);if(a.id===r[3])return y([a],o)}try{return y(n.querySelectorAll(e),o)}catch(l){}}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var c=n,d=n.getAttribute("id"),h=d||i,p=n.parentNode,m=/^\s*[+~]/.test(e);d?h=h.replace(/'/g,"\\$&"):n.setAttribute("id",h),m&&p&&(n=n.parentNode);try{if(!m||p)return y(n.querySelectorAll("[id='"+h+"'] "+e),o)}catch(g){}finally{d||c.removeAttribute("id")}}}return t(e,n,o,s)};for(var n in t)u[n]=t[n];e=null}}(),function(){var t=A.documentElement,e=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector;if(e){var i=!e.call(A.createElement("div"),"div"),n=!1;try{e.call(A.documentElement,"[test!='']:sizzle")}catch(o){n=!0}u.matchesSelector=function(t,o){if(o=o.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!u.isXML(t))try{if(n||!f.match.PSEUDO.test(o)&&!/!=/.test(o)){var s=e.call(t,o);if(s||!i||t.document&&11!==t.document.nodeType)return s}}catch(r){}return u(o,null,null,[t]).length>0}}}(),function(){var t=A.createElement("div");t.innerHTML="<div class='test e'></div><div class='test'></div>",t.getElementsByClassName&&0!==t.getElementsByClassName("e").length&&(t.lastChild.className="e",1!==t.getElementsByClassName("e").length&&(f.order.splice(1,0,"CLASS"),f.find.CLASS=function(t,e,i){return"undefined"==typeof e.getElementsByClassName||i?void 0:e.getElementsByClassName(t[1])},t=null))}(),u.contains=A.documentElement.contains?function(t,e){return t!==e&&(t.contains?t.contains(e):!0)}:A.documentElement.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:function(){return!1},u.isXML=function(t){var e=(t?t.ownerDocument||t:0).documentElement;return e?"HTML"!==e.nodeName:!1};var k=function(t,e,i){for(var n,o=[],s="",r=e.nodeType?[e]:e;n=f.match.PSEUDO.exec(t);)s+=n[0],t=t.replace(f.match.PSEUDO,"");t=f.relative[t]?t+"*":t;for(var a=0,l=r.length;l>a;a++)u(t,r[a],o,i);return u.filter(s,o)};u.attr=L.attr,u.selectors.attrMap={},L.find=u,L.expr=u.selectors,L.expr[":"]=L.expr.filters,L.unique=u.uniqueSort,L.text=u.getText,L.isXMLDoc=u.isXML,L.contains=u.contains}();var ae=/Until$/,le=/^(?:parents|prevUntil|prevAll)/,ce=/,/,de=/^.[^:#\[\.,]*$/,he=Array.prototype.slice,ue=L.expr.match.globalPOS,pe={children:!0,contents:!0,next:!0,prev:!0};L.fn.extend({find:function(t){var e,i,n=this;if("string"!=typeof t)return L(t).filter(function(){for(e=0,i=n.length;i>e;e++)if(L.contains(n[e],this))return!0});var o,s,r,a=this.pushStack("","find",t);for(e=0,i=this.length;i>e;e++)if(o=a.length,L.find(t,this[e],a),e>0)for(s=o;s<a.length;s++)for(r=0;o>r;r++)if(a[r]===a[s]){a.splice(s--,1);break}return a},has:function(t){var e=L(t);return this.filter(function(){for(var t=0,i=e.length;i>t;t++)if(L.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(c(this,t,!1),"not",t)},filter:function(t){return this.pushStack(c(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?ue.test(t)?L(t,this.context).index(this[0])>=0:L.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){var i,n,o=[],s=this[0];if(L.isArray(t)){for(var r=1;s&&s.ownerDocument&&s!==e;){for(i=0;i<t.length;i++)L(s).is(t[i])&&o.push({selector:t[i],elem:s,level:r});s=s.parentNode,r++}return o}var a=ue.test(t)||"string"!=typeof t?L(t,e||this.context):0;for(i=0,n=this.length;n>i;i++)for(s=this[i];s;){if(a?a.index(s)>-1:L.find.matchesSelector(s,t)){o.push(s);break}if(s=s.parentNode,!s||!s.ownerDocument||s===e||11===s.nodeType)break}return o=o.length>1?L.unique(o):o,this.pushStack(o,"closest",t)},index:function(t){return t?"string"==typeof t?L.inArray(this[0],L(t)):L.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var i="string"==typeof t?L(t,e):L.makeArray(t&&t.nodeType?[t]:t),n=L.merge(this.get(),i);return this.pushStack(l(i[0])||l(n[0])?n:L.unique(n))},andSelf:function(){return this.add(this.prevObject)}}),L.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return L.dir(t,"parentNode")},parentsUntil:function(t,e,i){return L.dir(t,"parentNode",i)},next:function(t){return L.nth(t,2,"nextSibling")},prev:function(t){return L.nth(t,2,"previousSibling")},nextAll:function(t){return L.dir(t,"nextSibling")},prevAll:function(t){return L.dir(t,"previousSibling")},nextUntil:function(t,e,i){return L.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return L.dir(t,"previousSibling",i)},siblings:function(t){return L.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return L.sibling(t.firstChild)},contents:function(t){return L.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:L.makeArray(t.childNodes)}},function(t,e){L.fn[t]=function(i,n){var o=L.map(this,e,i);return ae.test(t)||(n=i),n&&"string"==typeof n&&(o=L.filter(n,o)),o=this.length>1&&!pe[t]?L.unique(o):o,(this.length>1||ce.test(n))&&le.test(t)&&(o=o.reverse()),this.pushStack(o,t,he.call(arguments).join(","))}}),L.extend({filter:function(t,e,i){return i&&(t=":not("+t+")"),1===e.length?L.find.matchesSelector(e[0],t)?[e[0]]:[]:L.find.matches(t,e)},dir:function(t,i,n){for(var o=[],s=t[i];s&&9!==s.nodeType&&(n===e||1!==s.nodeType||!L(s).is(n));)1===s.nodeType&&o.push(s),s=s[i];return o},nth:function(t,e,i){e=e||1;for(var n=0;t&&(1!==t.nodeType||++n!==e);t=t[i]);return t},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",me=/ jQuery\d+="(?:\d+|null)"/g,ge=/^\s+/,ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ye=/<([\w:]+)/,be=/<tbody/i,xe=/<|&#?\w+;/,we=/<(?:script|style)/i,ke=/<(?:script|object|embed|option|style)/i,je=new RegExp("<(?:"+fe+")[\\s/>]","i"),Te=/checked\s*(?:[^=]|=\s*.checked.)/i,_e=/\/(java|ecma)script/i,$e=/^\s*<!(?:\[CDATA\[|\-\-)/,Se={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ce=d(A);Se.optgroup=Se.option,Se.tbody=Se.tfoot=Se.colgroup=Se.caption=Se.thead,Se.th=Se.td,L.support.htmlSerialize||(Se._default=[1,"div<div>","</div>"]),L.fn.extend({text:function(t){return L.access(this,function(t){return t===e?L.text(this):this.empty().append((this[0]&&this[0].ownerDocument||A).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(L.isFunction(t))return this.each(function(e){L(this).wrapAll(t.call(this,e))});if(this[0]){var e=L(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return L.isFunction(t)?this.each(function(e){L(this).wrapInner(t.call(this,e))}):this.each(function(){var e=L(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=L.isFunction(t);return this.each(function(i){L(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){L.nodeName(this,"body")||L(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.insertBefore(t,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=L.clean(arguments);return t.push.apply(t,this.toArray()),this.pushStack(t,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=this.pushStack(this,"after",arguments);return t.push.apply(t,L.clean(arguments)),t}},remove:function(t,e){for(var i,n=0;null!=(i=this[n]);n++)(!t||L.filter(t,[i]).length)&&(e||1!==i.nodeType||(L.cleanData(i.getElementsByTagName("*")),L.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&L.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return L.clone(this,t,e)})},html:function(t){return L.access(this,function(t){var i=this[0]||{},n=0,o=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(me,""):null;if(!("string"!=typeof t||we.test(t)||!L.support.leadingWhitespace&&ge.test(t)||Se[(ye.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(ve,"<$1></$2>");try{for(;o>n;n++)i=this[n]||{},1===i.nodeType&&(L.cleanData(i.getElementsByTagName("*")),i.innerHTML=t);i=0}catch(s){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return this[0]&&this[0].parentNode?L.isFunction(t)?this.each(function(e){var i=L(this),n=i.html();i.replaceWith(t.call(this,e,n))}):("string"!=typeof t&&(t=L(t).detach()),this.each(function(){var e=this.nextSibling,i=this.parentNode;L(this).remove(),e?L(e).before(t):L(i).append(t)})):this.length?this.pushStack(L(L.isFunction(t)?t():t),"replaceWith",t):this},detach:function(t){return this.remove(t,!0)},domManip:function(t,i,n){var o,s,r,a,l=t[0],c=[];if(!L.support.checkClone&&3===arguments.length&&"string"==typeof l&&Te.test(l))return this.each(function(){L(this).domManip(t,i,n,!0)});if(L.isFunction(l))return this.each(function(o){var s=L(this);t[0]=l.call(this,o,i?s.html():e),s.domManip(t,i,n)});if(this[0]){if(a=l&&l.parentNode,o=L.support.parentNode&&a&&11===a.nodeType&&a.childNodes.length===this.length?{fragment:a}:L.buildFragment(t,this,c),r=o.fragment,s=1===r.childNodes.length?r=r.firstChild:r.firstChild){i=i&&L.nodeName(s,"tr");for(var d=0,u=this.length,p=u-1;u>d;d++)n.call(i?h(this[d],s):this[d],o.cacheable||u>1&&p>d?L.clone(r,!0,!0):r)}c.length&&L.each(c,function(t,e){e.src?L.ajax({type:"GET",global:!1,url:e.src,async:!1,dataType:"script"}):L.globalEval((e.text||e.textContent||e.innerHTML||"").replace($e,"/*$0*/")),e.parentNode&&e.parentNode.removeChild(e)})}return this}}),L.buildFragment=function(t,e,i){var n,o,s,r,a=t[0];return e&&e[0]&&(r=e[0].ownerDocument||e[0]),r.createDocumentFragment||(r=A),!(1===t.length&&"string"==typeof a&&a.length<512&&r===A&&"<"===a.charAt(0))||ke.test(a)||!L.support.checkClone&&Te.test(a)||!L.support.html5Clone&&je.test(a)||(o=!0,s=L.fragments[a],s&&1!==s&&(n=s)),n||(n=r.createDocumentFragment(),L.clean(t,r,n,i)),o&&(L.fragments[a]=s?n:1),{fragment:n,cacheable:o}},L.fragments={},L.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){L.fn[t]=function(i){var n=[],o=L(i),s=1===this.length&&this[0].parentNode;if(s&&11===s.nodeType&&1===s.childNodes.length&&1===o.length)return o[e](this[0]),this;for(var r=0,a=o.length;a>r;r++){var l=(r>0?this.clone(!0):this).get();L(o[r])[e](l),n=n.concat(l)}return this.pushStack(n,t,o.selector)}}),L.extend({clone:function(t,e,i){var n,o,s,r=L.support.html5Clone||L.isXMLDoc(t)||!je.test("<"+t.nodeName+">")?t.cloneNode(!0):v(t);if(!(L.support.noCloneEvent&&L.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||L.isXMLDoc(t)))for(p(t,r),n=f(t),o=f(r),s=0;n[s];++s)o[s]&&p(n[s],o[s]);if(e&&(u(t,r),i))for(n=f(t),o=f(r),s=0;n[s];++s)u(n[s],o[s]);return n=o=null,r},clean:function(t,e,i,n){var o,s,r,a=[];e=e||A,"undefined"==typeof e.createElement&&(e=e.ownerDocument||e[0]&&e[0].ownerDocument||A);for(var l,c=0;null!=(l=t[c]);c++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(xe.test(l)){l=l.replace(ve,"<$1></$2>");var h,u=(ye.exec(l)||["",""])[1].toLowerCase(),p=Se[u]||Se._default,f=p[0],m=e.createElement("div"),v=Ce.childNodes;for(e===A?Ce.appendChild(m):d(e).appendChild(m),m.innerHTML=p[1]+l+p[2];f--;)m=m.lastChild;if(!L.support.tbody){var y=be.test(l),b="table"!==u||y?"<table>"!==p[1]||y?[]:m.childNodes:m.firstChild&&m.firstChild.childNodes;for(r=b.length-1;r>=0;--r)L.nodeName(b[r],"tbody")&&!b[r].childNodes.length&&b[r].parentNode.removeChild(b[r])}!L.support.leadingWhitespace&&ge.test(l)&&m.insertBefore(e.createTextNode(ge.exec(l)[0]),m.firstChild),l=m.childNodes,m&&(m.parentNode.removeChild(m),v.length>0&&(h=v[v.length-1],h&&h.parentNode&&h.parentNode.removeChild(h)))}else l=e.createTextNode(l);var x;if(!L.support.appendChecked)if(l[0]&&"number"==typeof(x=l.length))for(r=0;x>r;r++)g(l[r]);else g(l);l.nodeType?a.push(l):a=L.merge(a,l)}if(i)for(o=function(t){return!t.type||_e.test(t.type)},c=0;a[c];c++)if(s=a[c],n&&L.nodeName(s,"script")&&(!s.type||_e.test(s.type)))n.push(s.parentNode?s.parentNode.removeChild(s):s);else{if(1===s.nodeType){var w=L.grep(s.getElementsByTagName("script"),o);a.splice.apply(a,[c+1,0].concat(w))}i.appendChild(s)}return a},cleanData:function(t){for(var e,i,n,o=L.cache,s=L.event.special,r=L.support.deleteExpando,a=0;null!=(n=t[a]);a++)if((!n.nodeName||!L.noData[n.nodeName.toLowerCase()])&&(i=n[L.expando])){if(e=o[i],e&&e.events){for(var l in e.events)s[l]?L.event.remove(n,l):L.removeEvent(n,l,e.handle);e.handle&&(e.handle.elem=null)}r?delete n[L.expando]:n.removeAttribute&&n.removeAttribute(L.expando),delete o[i]}}});var Me,Ie,Pe,Ae=/alpha\([^)]*\)/i,Ne=/opacity=([^)]*)/,Ee=/([A-Z]|^ms)/g,Le=/^[\-+]?(?:\d*\.)?\d+$/i,De=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,qe=/^([\-+])=([\-+.\de]+)/,He=/^margin/,Oe={position:"absolute",visibility:"hidden",display:"block"},Be=["Top","Right","Bottom","Left"];L.fn.css=function(t,i){return L.access(this,function(t,i,n){return n!==e?L.style(t,i,n):L.css(t,i)},t,i,arguments.length>1)},L.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Me(t,"opacity");return""===i?"1":i}return t.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":L.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,r,a=L.camelCase(i),l=t.style,c=L.cssHooks[a];if(i=L.cssProps[a]||a,n===e)return c&&"get"in c&&(s=c.get(t,!1,o))!==e?s:l[i];if(r=typeof n,"string"===r&&(s=qe.exec(n))&&(n=+(s[1]+1)*+s[2]+parseFloat(L.css(t,i)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||L.cssNumber[a]||(n+="px"),c&&"set"in c&&(n=c.set(t,n))===e)))try{l[i]=n}catch(d){}}},css:function(t,i,n){var o,s;return i=L.camelCase(i),s=L.cssHooks[i],i=L.cssProps[i]||i,"cssFloat"===i&&(i="float"),s&&"get"in s&&(o=s.get(t,!0,n))!==e?o:Me?Me(t,i):void 0},swap:function(t,e,i){var n,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];n=i.call(t);for(o in e)t.style[o]=s[o];return n}}),L.curCSS=L.css,A.defaultView&&A.defaultView.getComputedStyle&&(Ie=function(t,e){var i,n,o,s,r=t.style;return e=e.replace(Ee,"-$1").toLowerCase(),(n=t.ownerDocument.defaultView)&&(o=n.getComputedStyle(t,null))&&(i=o.getPropertyValue(e),""!==i||L.contains(t.ownerDocument.documentElement,t)||(i=L.style(t,e))),!L.support.pixelMargin&&o&&He.test(e)&&De.test(i)&&(s=r.width,r.width=i,i=o.width,r.width=s),i}),A.documentElement.currentStyle&&(Pe=function(t,e){var i,n,o,s=t.currentStyle&&t.currentStyle[e],r=t.style;return null==s&&r&&(o=r[e])&&(s=o),De.test(s)&&(i=r.left,n=t.runtimeStyle&&t.runtimeStyle.left,n&&(t.runtimeStyle.left=t.currentStyle.left),r.left="fontSize"===e?"1em":s,s=r.pixelLeft+"px",r.left=i,n&&(t.runtimeStyle.left=n)),""===s?"auto":s}),Me=Ie||Pe,L.each(["height","width"],function(t,e){L.cssHooks[e]={get:function(t,i,n){return i?0!==t.offsetWidth?y(t,e,n):L.swap(t,Oe,function(){return y(t,e,n)}):void 0},set:function(t,e){return Le.test(e)?e+"px":e}}}),L.support.opacity||(L.cssHooks.opacity={get:function(t,e){return Ne.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,o=L.isNumeric(e)?"alpha(opacity="+100*e+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,e>=1&&""===L.trim(s.replace(Ae,""))&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=Ae.test(s)?s.replace(Ae,o):s+" "+o)}}),L(function(){L.support.reliableMarginRight||(L.cssHooks.marginRight={get:function(t,e){return L.swap(t,{display:"inline-block"},function(){return e?Me(t,"margin-right"):t.style.marginRight})}})}),L.expr&&L.expr.filters&&(L.expr.filters.hidden=function(t){var e=t.offsetWidth,i=t.offsetHeight;return 0===e&&0===i||!L.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||L.css(t,"display"))},L.expr.filters.visible=function(t){return!L.expr.filters.hidden(t)}),L.each({margin:"",padding:"",border:"Width"},function(t,e){L.cssHooks[t+e]={expand:function(i){var n,o="string"==typeof i?i.split(" "):[i],s={};for(n=0;4>n;n++)s[t+Be[n]+e]=o[n]||o[n-2]||o[0];return s}}});var Fe,ze,Re=/%20/g,We=/\[\]$/,Ve=/\r?\n/g,Xe=/#.*$/,Ye=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ge=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Qe=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ue=/^(?:GET|HEAD)$/,Je=/^\/\//,Ke=/\?/,Ze=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ti=/^(?:select|textarea)/i,ei=/\s+/,ii=/([?&])_=[^&]*/,ni=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,oi=L.fn.load,si={},ri={},ai=["*/"]+["*"];try{Fe=E.href}catch(li){Fe=A.createElement("a"),Fe.href="",Fe=Fe.href}ze=ni.exec(Fe.toLowerCase())||[],L.fn.extend({load:function(t,i,n){if("string"!=typeof t&&oi)return oi.apply(this,arguments);if(!this.length)return this;var o=t.indexOf(" ");if(o>=0){var s=t.slice(o,t.length);t=t.slice(0,o)}var r="GET";i&&(L.isFunction(i)?(n=i,i=e):"object"==typeof i&&(i=L.param(i,L.ajaxSettings.traditional),r="POST"));var a=this;return L.ajax({url:t,type:r,dataType:"html",data:i,complete:function(t,e,i){i=t.responseText,t.isResolved()&&(t.done(function(t){i=t}),a.html(s?L("<div>").append(i.replace(Ze,"")).find(s):i)),n&&a.each(n,[i,e,t])}}),this},serialize:function(){return L.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?L.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ti.test(this.nodeName)||Ge.test(this.type))}).map(function(t,e){var i=L(this).val();return null==i?null:L.isArray(i)?L.map(i,function(t){return{name:e.name,value:t.replace(Ve,"\r\n")}}):{name:e.name,value:i.replace(Ve,"\r\n")}}).get()}}),L.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){L.fn[e]=function(t){return this.on(e,t)}}),L.each(["get","post"],function(t,i){L[i]=function(t,n,o,s){return L.isFunction(n)&&(s=s||o,o=n,n=e),L.ajax({type:i,url:t,data:n,success:o,dataType:s})}}),L.extend({getScript:function(t,i){return L.get(t,e,i,"script")},getJSON:function(t,e,i){return L.get(t,e,i,"json")},ajaxSetup:function(t,e){return e?w(t,L.ajaxSettings):(e=t,t=L.ajaxSettings),w(t,e),t},ajaxSettings:{url:Fe,isLocal:Qe.test(ze[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ai},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":L.parseJSON,"text xml":L.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:b(si),ajaxTransport:b(ri),ajax:function(t,i){function n(t,i,n,r){if(2!==w){w=2,l&&clearTimeout(l),a=e,s=r||"",k.readyState=t>0?4:0;var c,h,y,b,x,_=i,$=n?j(u,k,n):e;if(t>=200&&300>t||304===t)if(u.ifModified&&((b=k.getResponseHeader("Last-Modified"))&&(L.lastModified[o]=b),(x=k.getResponseHeader("Etag"))&&(L.etag[o]=x)),304===t)_="notmodified",c=!0;
else try{h=T(u,$),_="success",c=!0}catch(S){_="parsererror",y=S}else y=_,(!_||t)&&(_="error",0>t&&(t=0));k.status=t,k.statusText=""+(i||_),c?m.resolveWith(p,[h,_,k]):m.rejectWith(p,[k,_,y]),k.statusCode(v),v=e,d&&f.trigger("ajax"+(c?"Success":"Error"),[k,u,c?h:y]),g.fireWith(p,[k,_]),d&&(f.trigger("ajaxComplete",[k,u]),--L.active||L.event.trigger("ajaxStop"))}}"object"==typeof t&&(i=t,t=e),i=i||{};var o,s,r,a,l,c,d,h,u=L.ajaxSetup({},i),p=u.context||u,f=p!==u&&(p.nodeType||p instanceof L)?L(p):L.event,m=L.Deferred(),g=L.Callbacks("once memory"),v=u.statusCode||{},y={},b={},w=0,k={readyState:0,setRequestHeader:function(t,e){if(!w){var i=t.toLowerCase();t=b[i]=b[i]||t,y[t]=e}return this},getAllResponseHeaders:function(){return 2===w?s:null},getResponseHeader:function(t){var i;if(2===w){if(!r)for(r={};i=Ye.exec(s);)r[i[1].toLowerCase()]=i[2];i=r[t.toLowerCase()]}return i===e?null:i},overrideMimeType:function(t){return w||(u.mimeType=t),this},abort:function(t){return t=t||"abort",a&&a.abort(t),n(0,t),this}};if(m.promise(k),k.success=k.done,k.error=k.fail,k.complete=g.add,k.statusCode=function(t){if(t){var e;if(2>w)for(e in t)v[e]=[v[e],t[e]];else e=t[k.status],k.then(e,e)}return this},u.url=((t||u.url)+"").replace(Xe,"").replace(Je,ze[1]+"//"),u.dataTypes=L.trim(u.dataType||"*").toLowerCase().split(ei),null==u.crossDomain&&(c=ni.exec(u.url.toLowerCase()),u.crossDomain=!(!c||c[1]==ze[1]&&c[2]==ze[2]&&(c[3]||("http:"===c[1]?80:443))==(ze[3]||("http:"===ze[1]?80:443)))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=L.param(u.data,u.traditional)),x(si,u,i,k),2===w)return!1;if(d=u.global,u.type=u.type.toUpperCase(),u.hasContent=!Ue.test(u.type),d&&0===L.active++&&L.event.trigger("ajaxStart"),!u.hasContent&&(u.data&&(u.url+=(Ke.test(u.url)?"&":"?")+u.data,delete u.data),o=u.url,u.cache===!1)){var _=L.now(),$=u.url.replace(ii,"$1_="+_);u.url=$+($===u.url?(Ke.test(u.url)?"&":"?")+"_="+_:"")}(u.data&&u.hasContent&&u.contentType!==!1||i.contentType)&&k.setRequestHeader("Content-Type",u.contentType),u.ifModified&&(o=o||u.url,L.lastModified[o]&&k.setRequestHeader("If-Modified-Since",L.lastModified[o]),L.etag[o]&&k.setRequestHeader("If-None-Match",L.etag[o])),k.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+ai+"; q=0.01":""):u.accepts["*"]);for(h in u.headers)k.setRequestHeader(h,u.headers[h]);if(u.beforeSend&&(u.beforeSend.call(p,k,u)===!1||2===w))return k.abort(),!1;for(h in{success:1,error:1,complete:1})k[h](u[h]);if(a=x(ri,u,i,k)){k.readyState=1,d&&f.trigger("ajaxSend",[k,u]),u.async&&u.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},u.timeout));try{w=1,a.send(y,n)}catch(S){if(!(2>w))throw S;n(-1,S)}}else n(-1,"No Transport");return k},param:function(t,i){var n=[],o=function(t,e){e=L.isFunction(e)?e():e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=L.ajaxSettings.traditional),L.isArray(t)||t.jquery&&!L.isPlainObject(t))L.each(t,function(){o(this.name,this.value)});else for(var s in t)k(s,t[s],i,o);return n.join("&").replace(Re,"+")}}),L.extend({active:0,lastModified:{},etag:{}});var ci=L.now(),di=/(\=)\?(&|$)|\?\?/i;L.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return L.expando+"_"+ci++}}),L.ajaxPrefilter("json jsonp",function(e,i,n){var o="string"==typeof e.data&&/^application\/x\-www\-form\-urlencoded/.test(e.contentType);if("jsonp"===e.dataTypes[0]||e.jsonp!==!1&&(di.test(e.url)||o&&di.test(e.data))){var s,r=e.jsonpCallback=L.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a=t[r],l=e.url,c=e.data,d="$1"+r+"$2";return e.jsonp!==!1&&(l=l.replace(di,d),e.url===l&&(o&&(c=c.replace(di,d)),e.data===c&&(l+=(/\?/.test(l)?"&":"?")+e.jsonp+"="+r))),e.url=l,e.data=c,t[r]=function(t){s=[t]},n.always(function(){t[r]=a,s&&L.isFunction(a)&&t[r](s[0])}),e.converters["script json"]=function(){return s||L.error(r+" was not called"),s[0]},e.dataTypes[0]="json","script"}}),L.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return L.globalEval(t),t}}}),L.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),L.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=A.head||A.getElementsByTagName("head")[0]||A.documentElement;return{send:function(o,s){i=A.createElement("script"),i.async="async",t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,o){(o||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=e,o||s(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var hi,ui=t.ActiveXObject?function(){for(var t in hi)hi[t](0,1)}:!1,pi=0;L.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&_()||$()}:_,function(t){L.extend(L.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(L.ajaxSettings.xhr()),L.support.ajax&&L.ajaxTransport(function(i){if(!i.crossDomain||L.support.cors){var n;return{send:function(o,s){var r,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)l.setRequestHeader(a,o[a])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(t,o){var a,c,d,h,u;try{if(n&&(o||4===l.readyState))if(n=e,r&&(l.onreadystatechange=L.noop,ui&&delete hi[r]),o)4!==l.readyState&&l.abort();else{a=l.status,d=l.getAllResponseHeaders(),h={},u=l.responseXML,u&&u.documentElement&&(h.xml=u);try{h.text=l.responseText}catch(t){}try{c=l.statusText}catch(p){c=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=h.text?200:404}}catch(f){o||s(-1,f)}h&&s(a,c,h,d)},i.async&&4!==l.readyState?(r=++pi,ui&&(hi||(hi={},L(t).unload(ui)),hi[r]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var fi,mi,gi,vi,yi={},bi=/^(?:toggle|show|hide)$/,xi=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,wi=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];L.fn.extend({show:function(t,e,i){var n,o;if(t||0===t)return this.animate(M("show",3),t,e,i);for(var s=0,r=this.length;r>s;s++)n=this[s],n.style&&(o=n.style.display,L._data(n,"olddisplay")||"none"!==o||(o=n.style.display=""),(""===o&&"none"===L.css(n,"display")||!L.contains(n.ownerDocument.documentElement,n))&&L._data(n,"olddisplay",I(n.nodeName)));for(s=0;r>s;s++)n=this[s],n.style&&(o=n.style.display,(""===o||"none"===o)&&(n.style.display=L._data(n,"olddisplay")||""));return this},hide:function(t,e,i){if(t||0===t)return this.animate(M("hide",3),t,e,i);for(var n,o,s=0,r=this.length;r>s;s++)n=this[s],n.style&&(o=L.css(n,"display"),"none"===o||L._data(n,"olddisplay")||L._data(n,"olddisplay",o));for(s=0;r>s;s++)this[s].style&&(this[s].style.display="none");return this},_toggle:L.fn.toggle,toggle:function(t,e,i){var n="boolean"==typeof t;return L.isFunction(t)&&L.isFunction(e)?this._toggle.apply(this,arguments):null==t||n?this.each(function(){var e=n?t:L(this).is(":hidden");L(this)[e?"show":"hide"]()}):this.animate(M("toggle",3),t,e,i),this},fadeTo:function(t,e,i,n){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){function o(){s.queue===!1&&L._mark(this);var e,i,n,o,r,a,l,c,d,h,u,p=L.extend({},s),f=1===this.nodeType,m=f&&L(this).is(":hidden");p.animatedProperties={};for(n in t)if(e=L.camelCase(n),n!==e&&(t[e]=t[n],delete t[n]),(r=L.cssHooks[e])&&"expand"in r){a=r.expand(t[e]),delete t[e];for(n in a)n in t||(t[n]=a[n])}for(e in t){if(i=t[e],L.isArray(i)?(p.animatedProperties[e]=i[1],i=t[e]=i[0]):p.animatedProperties[e]=p.specialEasing&&p.specialEasing[e]||p.easing||"swing","hide"===i&&m||"show"===i&&!m)return p.complete.call(this);!f||"height"!==e&&"width"!==e||(p.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===L.css(this,"display")&&"none"===L.css(this,"float")&&(L.support.inlineBlockNeedsLayout&&"inline"!==I(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=p.overflow&&(this.style.overflow="hidden");for(n in t)o=new L.fx(this,p,n),i=t[n],bi.test(i)?(u=L._data(this,"toggle"+n)||("toggle"===i?m?"show":"hide":0),u?(L._data(this,"toggle"+n,"show"===u?"hide":"show"),o[u]()):o[i]()):(l=xi.exec(i),c=o.cur(),l?(d=parseFloat(l[2]),h=l[3]||(L.cssNumber[n]?"":"px"),"px"!==h&&(L.style(this,n,(d||1)+h),c=(d||1)/o.cur()*c,L.style(this,n,c+h)),l[1]&&(d=("-="===l[1]?-1:1)*d+c),o.custom(c,d,h)):o.custom(c,i,""));return!0}var s=L.speed(e,i,n);return L.isEmptyObject(t)?this.each(s.complete,[!1]):(t=L.extend({},t),s.queue===!1?this.each(o):this.queue(s.queue,o))},stop:function(t,i,n){return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){function e(t,e,i){var o=e[i];L.removeData(t,i,!0),o.stop(n)}var i,o=!1,s=L.timers,r=L._data(this);if(n||L._unmark(!0,this),null==t)for(i in r)r[i]&&r[i].stop&&i.indexOf(".run")===i.length-4&&e(this,r,i);else r[i=t+".run"]&&r[i].stop&&e(this,r,i);for(i=s.length;i--;)s[i].elem!==this||null!=t&&s[i].queue!==t||(n?s[i](!0):s[i].saveState(),o=!0,s.splice(i,1));n&&o||L.dequeue(this,t)})}}),L.each({slideDown:M("show",1),slideUp:M("hide",1),slideToggle:M("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){L.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),L.extend({speed:function(t,e,i){var n=t&&"object"==typeof t?L.extend({},t):{complete:i||!i&&e||L.isFunction(t)&&t,duration:t,easing:i&&e||e&&!L.isFunction(e)&&e};return n.duration=L.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in L.fx.speeds?L.fx.speeds[n.duration]:L.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(t){L.isFunction(n.old)&&n.old.call(this),n.queue?L.dequeue(this,n.queue):t!==!1&&L._unmark(this)},n},easing:{linear:function(t){return t},swing:function(t){return-Math.cos(t*Math.PI)/2+.5}},timers:[],fx:function(t,e,i){this.options=e,this.elem=t,this.prop=i,e.orig=e.orig||{}}}),L.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(L.fx.step[this.prop]||L.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var t,e=L.css(this.elem,this.prop);return isNaN(t=parseFloat(e))?e&&"auto"!==e?e:0:t},custom:function(t,i,n){function o(t){return s.step(t)}var s=this,r=L.fx;this.startTime=vi||S(),this.end=i,this.now=this.start=t,this.pos=this.state=0,this.unit=n||this.unit||(L.cssNumber[this.prop]?"":"px"),o.queue=this.options.queue,o.elem=this.elem,o.saveState=function(){L._data(s.elem,"fxshow"+s.prop)===e&&(s.options.hide?L._data(s.elem,"fxshow"+s.prop,s.start):s.options.show&&L._data(s.elem,"fxshow"+s.prop,s.end))},o()&&L.timers.push(o)&&!gi&&(gi=setInterval(r.tick,r.interval))},show:function(){var t=L._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=t||L.style(this.elem,this.prop),this.options.show=!0,t!==e?this.custom(this.cur(),t):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),L(this.elem).show()},hide:function(){this.options.orig[this.prop]=L._data(this.elem,"fxshow"+this.prop)||L.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(t){var e,i,n,o=vi||S(),s=!0,r=this.elem,a=this.options;if(t||o>=a.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),a.animatedProperties[this.prop]=!0;for(e in a.animatedProperties)a.animatedProperties[e]!==!0&&(s=!1);if(s){if(null==a.overflow||L.support.shrinkWrapBlocks||L.each(["","X","Y"],function(t,e){r.style["overflow"+e]=a.overflow[t]}),a.hide&&L(r).hide(),a.hide||a.show)for(e in a.animatedProperties)L.style(r,e,a.orig[e]),L.removeData(r,"fxshow"+e,!0),L.removeData(r,"toggle"+e,!0);n=a.complete,n&&(a.complete=!1,n.call(r))}return!1}return 1/0==a.duration?this.now=o:(i=o-this.startTime,this.state=i/a.duration,this.pos=L.easing[a.animatedProperties[this.prop]](this.state,i,0,1,a.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},L.extend(L.fx,{tick:function(){for(var t,e=L.timers,i=0;i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||L.fx.stop()},interval:13,stop:function(){clearInterval(gi),gi=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(t){L.style(t.elem,"opacity",t.now)},_default:function(t){t.elem.style&&null!=t.elem.style[t.prop]?t.elem.style[t.prop]=t.now+t.unit:t.elem[t.prop]=t.now}}}),L.each(wi.concat.apply([],wi),function(t,e){e.indexOf("margin")&&(L.fx.step[e]=function(t){L.style(t.elem,e,Math.max(0,t.now)+t.unit)})}),L.expr&&L.expr.filters&&(L.expr.filters.animated=function(t){return L.grep(L.timers,function(e){return t===e.elem}).length});var ki,ji=/^t(?:able|d|h)$/i,Ti=/^(?:body|html)$/i;ki="getBoundingClientRect"in A.documentElement?function(t,e,i,n){try{n=t.getBoundingClientRect()}catch(o){}if(!n||!L.contains(i,t))return n?{top:n.top,left:n.left}:{top:0,left:0};var s=e.body,r=P(e),a=i.clientTop||s.clientTop||0,l=i.clientLeft||s.clientLeft||0,c=r.pageYOffset||L.support.boxModel&&i.scrollTop||s.scrollTop,d=r.pageXOffset||L.support.boxModel&&i.scrollLeft||s.scrollLeft,h=n.top+c-a,u=n.left+d-l;return{top:h,left:u}}:function(t,e,i){for(var n,o=t.offsetParent,s=t,r=e.body,a=e.defaultView,l=a?a.getComputedStyle(t,null):t.currentStyle,c=t.offsetTop,d=t.offsetLeft;(t=t.parentNode)&&t!==r&&t!==i&&(!L.support.fixedPosition||"fixed"!==l.position);)n=a?a.getComputedStyle(t,null):t.currentStyle,c-=t.scrollTop,d-=t.scrollLeft,t===o&&(c+=t.offsetTop,d+=t.offsetLeft,!L.support.doesNotAddBorder||L.support.doesAddBorderForTableAndCells&&ji.test(t.nodeName)||(c+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),s=o,o=t.offsetParent),L.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(c+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),l=n;return("relative"===l.position||"static"===l.position)&&(c+=r.offsetTop,d+=r.offsetLeft),L.support.fixedPosition&&"fixed"===l.position&&(c+=Math.max(i.scrollTop,r.scrollTop),d+=Math.max(i.scrollLeft,r.scrollLeft)),{top:c,left:d}},L.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){L.offset.setOffset(this,t,e)});var i=this[0],n=i&&i.ownerDocument;return n?i===n.body?L.offset.bodyOffset(i):ki(i,n,n.documentElement):null},L.offset={bodyOffset:function(t){var e=t.offsetTop,i=t.offsetLeft;return L.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(L.css(t,"marginTop"))||0,i+=parseFloat(L.css(t,"marginLeft"))||0),{top:e,left:i}},setOffset:function(t,e,i){var n=L.css(t,"position");"static"===n&&(t.style.position="relative");var o,s,r=L(t),a=r.offset(),l=L.css(t,"top"),c=L.css(t,"left"),d=("absolute"===n||"fixed"===n)&&L.inArray("auto",[l,c])>-1,h={},u={};d?(u=r.position(),o=u.top,s=u.left):(o=parseFloat(l)||0,s=parseFloat(c)||0),L.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(h.top=e.top-a.top+o),null!=e.left&&(h.left=e.left-a.left+s),"using"in e?e.using.call(t,h):r.css(h)}},L.fn.extend({position:function(){if(!this[0])return null;var t=this[0],e=this.offsetParent(),i=this.offset(),n=Ti.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(L.css(t,"marginTop"))||0,i.left-=parseFloat(L.css(t,"marginLeft"))||0,n.top+=parseFloat(L.css(e[0],"borderTopWidth"))||0,n.left+=parseFloat(L.css(e[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||A.body;t&&!Ti.test(t.nodeName)&&"static"===L.css(t,"position");)t=t.offsetParent;return t})}}),L.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);L.fn[t]=function(o){return L.access(this,function(t,o,s){var r=P(t);return s===e?r?i in r?r[i]:L.support.boxModel&&r.document.documentElement[o]||r.document.body[o]:t[o]:(r?r.scrollTo(n?L(r).scrollLeft():s,n?s:L(r).scrollTop()):t[o]=s,void 0)},t,o,arguments.length,null)}}),L.each({Height:"height",Width:"width"},function(t,i){var n="client"+t,o="scroll"+t,s="offset"+t;L.fn["inner"+t]=function(){var t=this[0];return t?t.style?parseFloat(L.css(t,i,"padding")):this[i]():null},L.fn["outer"+t]=function(t){var e=this[0];return e?e.style?parseFloat(L.css(e,i,t?"margin":"border")):this[i]():null},L.fn[i]=function(t){return L.access(this,function(t,i,r){var a,l,c,d;return L.isWindow(t)?(a=t.document,l=a.documentElement[n],L.support.boxModel&&l||a.body&&a.body[n]||l):9===t.nodeType?(a=t.documentElement,a[n]>=a[o]?a[n]:Math.max(t.body[o],a[o],t.body[s],a[s])):r===e?(c=L.css(t,i),d=parseFloat(c),L.isNumeric(d)?d:c):(L(t).css(i,r),void 0)},i,t,arguments.length,null)}}),t.jQuery=t.$=L,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return L})}(window),function(t,e){var i=function(){var e=t(document).data("events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length};i()&&t.error("jquery-ujs has already been loaded!");var n;t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var o,s,r,a,l,c,d,h;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),l=a===e?null:a,c=i.data("with-credentials")||null,d=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){o=i.attr("method"),s=i.attr("action"),r=i.serializeArray();var u=i.data("ujs:submit-button");u&&(r.push(u),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(o=i.data("method"),s=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):(o=i.data("method"),s=n.href(i),r=i.data("params")||null);h={type:o||"GET",data:r,dataType:d,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),n.fire(i,"ajax:beforeSend",[t,o])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},xhrFields:{withCredentials:c},crossDomain:l},s&&(h.url=s);var p=n.ajax(h);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var o=n.href(i),s=i.data("method"),r=i.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+o+'"></form>'),d='<input name="_method" value="'+s+'" type="hidden" />';l!==e&&a!==e&&(d+='<input name="'+l+'" value="'+a+'" type="hidden" />'),r&&c.attr("target",r),c.hide().append(d).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),o=!1;return i?(n.fire(t,"confirm")&&(o=n.confirm(i),e=n.fire(t,"confirm:complete",[o])),o&&e):!0},blankInputs:function(e,i,n){var o,s,r=t(),a=i||"input,textarea";return e.find(a).each(function(){o=t(this),s=o.is(":checkbox,:radio")?o.is(":checked"):o.val(),s==!!n&&(r=r.add(o))}),r.length?r:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,n){var o=i.data("events"),s=!0;return o!==e&&o.submit!==e&&t.each(o.submit,function(t,e){return"function"==typeof e.handler?s=e.handler(n):void 0}),s},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},n.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),t(document).delegate(n.linkClickSelector,"click.rails",function(i){var o=t(this),s=o.data("method"),r=o.data("params");return n.allowAction(o)?(o.is(n.linkDisableSelector)&&n.disableElement(o),o.data("remote")!==e?!i.metaKey&&!i.ctrlKey||s&&"GET"!==s||r?(n.handleRemote(o)===!1&&n.enableElement(o),!1):!0:o.data("method")?(n.handleMethod(o),!1):void 0):n.stopEverything(i)}),t(document).delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),t(document).delegate(n.formSubmitSelector,"submit.rails",function(i){var o=t(this),s=o.data("remote")!==e,r=n.blankInputs(o,n.requiredInputSelector),a=n.nonBlankInputs(o,n.fileInputSelector);return n.allowAction(o)?r&&o.attr("novalidate")==e&&n.fire(o,"ajax:aborted:required",[r])?n.stopEverything(i):s?a?(setTimeout(function(){n.disableFormElements(o)},13),n.fire(o,"ajax:aborted:file",[a])):!t.support.submitBubbles&&t().jquery<"1.7"&&n.callFormSubmitBindings(o,i)===!1?n.stopEverything(i):(n.handleRemote(o),!1):(setTimeout(function(){n.disableFormElements(o)},13),void 0):n.stopEverything(i)}),t(document).delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var o=i.attr("name"),s=o?{name:o,value:i.val()}:null;i.closest("form").data("ujs:submit-button",s)}),t(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),t(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){csrf_token=t("meta[name=csrf-token]").attr("content"),csrf_param=t("meta[name=csrf-param]").attr("content"),t('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),/* ===================================================
 * bootstrap-transition.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){t(function(){"use strict";t.support.transition=function(){var e=document.body||document.documentElement,i=e.style,n=void 0!==i.transition||void 0!==i.WebkitTransition||void 0!==i.MozTransition||void 0!==i.MsTransition||void 0!==i.OTransition;return n&&{end:function(){var e="TransitionEnd";return t.browser.webkit?e="webkitTransitionEnd":t.browser.mozilla?e="transitionend":t.browser.opera&&(e="oTransitionEnd"),e}()}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype={constructor:i,close:function(e){function i(){n.trigger("closed").remove()}var n,o=t(this),s=o.attr("data-target");s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),n=t(s),n.trigger("close"),e&&e.preventDefault(),n.length||(n=o.hasClass("alert")?o:o.parent()),n.trigger("close").removeClass("in"),t.support.transition&&n.hasClass("fade")?n.on(t.support.transition.end,i):i()}},t.fn.alert=function(e){return this.each(function(){var n=t(this),o=n.data("alert");o||n.data("alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})},t.fn.alert.Constructor=i,t(function(){t("body").on("click.alert.data-api",e,i.prototype.close)})}(window.jQuery),/* ============================================================
 * bootstrap-button.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,i)};e.prototype={constructor:e,setState:function(t){var e="disabled",i=this.$element,n=i.data(),o=i.is("input")?"val":"html";t+="Text",n.resetText||i.data("resetText",i[o]()),i[o](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},toggle:function(){var t=this.$element.parent('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")}},t.fn.button=function(i){return this.each(function(){var n=t(this),o=n.data("button"),s="object"==typeof i&&i;o||n.data("button",o=new e(this,s)),"toggle"==i?o.toggle():i&&o.setState(i)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t(function(){t("body").on("click.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.carousel.defaults,i),this.options.slide&&this.slide(this.options.slide),"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(){return this.interval=setInterval(t.proxy(this.next,this),this.options.interval),this},to:function(e){var i=this.$element.find(".active"),n=i.parent().children(),o=n.index(i),s=this;if(!(e>n.length-1||0>e))return this.sliding?this.$element.one("slid",function(){s.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(n[e]))},pause:function(){return clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,i){var n=this.$element.find(".active"),o=i||n[e](),s=this.interval,r="next"==e?"left":"right",a="next"==e?"first":"last",l=this;return this.sliding=!0,s&&this.pause(),o=o.length?o:this.$element.find(".item")[a](),o.hasClass("active")?void 0:(!t.support.transition&&this.$element.hasClass("slide")?(this.$element.trigger("slide"),n.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")):(o.addClass(e),o[0].offsetWidth,n.addClass(r),o.addClass(r),this.$element.trigger("slide"),this.$element.one(t.support.transition.end,function(){o.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})),s&&this.cycle(),this)}},t.fn.carousel=function(i){return this.each(function(){var n=t(this),o=n.data("carousel"),s="object"==typeof i&&i;o||n.data("carousel",o=new e(this,s)),"number"==typeof i?o.to(i):"string"==typeof i||(i=s.slide)?o[i]():o.cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t(function(){t("body").on("click.carousel.data-api","[data-slide]",function(e){var i,n=t(this),o=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),s=!o.data("modal")&&t.extend({},o.data(),n.data());o.carousel(s),e.preventDefault()})})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,i),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,i=this.dimension(),n=t.camelCase(["scroll",i].join("-")),o=this.$parent&&this.$parent.find(".in");o&&o.length&&(e=o.data("collapse"),o.collapse("hide"),e||o.data("collapse",null)),this.$element[i](0),this.transition("addClass","show","shown"),this.$element[i](this.$element[0][n])},hide:function(){var t=this.dimension();this.reset(this.$element[t]()),this.transition("removeClass","hide","hidden"),this.$element[t](0)},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[t?"addClass":"removeClass"]("collapse"),this},transition:function(e,i,n){var o=this,s=function(){"show"==i&&o.reset(),o.$element.trigger(n)};this.$element.trigger(i)[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},t.fn.collapse=function(i){return this.each(function(){var n=t(this),o=n.data("collapse"),s="object"==typeof i&&i;o||n.data("collapse",o=new e(this,s)),"string"==typeof i&&o[i]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t(function(){t("body").on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),o=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(o).data("collapse")?"toggle":n.data();t(o).collapse(s)})})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";function e(){t(i).parent().removeClass("open")}var i='[data-toggle="dropdown"]',n=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(){var i,n,o=t(this),s=o.attr("data-target");return s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),i=t(s),i.length||(i=o.parent()),n=i.hasClass("open"),e(),!n&&i.toggleClass("open"),!1}},t.fn.dropdown=function(e){return this.each(function(){var i=t(this),o=i.data("dropdown");o||i.data("dropdown",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.dropdown.Constructor=n,t(function(){t("html").on("click.dropdown.data-api",e),t("body").on("click.dropdown.data-api",i,n.prototype.toggle)})}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(t){"use strict";function e(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),i.call(e)},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),i.call(e)})}function i(){this.$element.hide().trigger("hidden"),n.call(this)}function n(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(t.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),n?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,t.proxy(o,this)):o.call(this)):e&&e()}function o(){this.$backdrop.remove(),this.$backdrop=null}function s(){var e=this;this.isShown&&this.options.keyboard?t(document).on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||t(document).off("keyup.dismiss.modal")}var r=function(e,i){this.options=i,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this))};r.prototype={constructor:r,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this;this.isShown||(t("body").addClass("modal-open"),this.isShown=!0,this.$element.trigger("show"),s.call(this),n.call(this,function(){var i=t.support.transition&&e.$element.hasClass("fade");!e.$element.parent().length&&e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in"),i?e.$element.one(t.support.transition.end,function(){e.$element.trigger("shown")}):e.$element.trigger("shown")}))},hide:function(n){n&&n.preventDefault(),this.isShown&&(this.isShown=!1,t("body").removeClass("modal-open"),s.call(this),this.$element.trigger("hide").removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?e.call(this):i.call(this))}},t.fn.modal=function(e){return this.each(function(){var i=t(this),n=i.data("modal"),o=t.extend({},t.fn.modal.defaults,i.data(),"object"==typeof e&&e);n||i.data("modal",n=new r(this,o)),"string"==typeof e?n[e]():o.show&&n.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=r,t(function(){t("body").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var i,n=t(this),o=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("modal")?"toggle":t.extend({},o.data(),n.data());e.preventDefault(),o.modal(s)})})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,n){var o,s;this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.enabled=!0,"manual"!=this.options.trigger&&(o="hover"==this.options.trigger?"mouseenter":"focus",s="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(o,this.options.selector,t.proxy(this.enter,this)),this.$element.on(s,this.options.selector,t.proxy(this.leave,this))),this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,e,this.$element.data()),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);i.options.delay&&i.options.delay.show?(i.hoverState="in",setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);i.options.delay&&i.options.delay.hide?(i.hoverState="out",setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},show:function(){var t,e,i,n,o,s,r;if(this.hasContent()&&this.enabled){switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(s),t.remove().css({top:0,left:0,display:"block"}).appendTo(e?this.$element:document.body),i=this.getPosition(e),n=t[0].offsetWidth,o=t[0].offsetHeight,e?s.split(" ")[1]:s){case"bottom":r={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":r={top:i.top-o,left:i.left+i.width/2-n/2};break;case"left":r={top:i.top+i.height/2-o/2,left:i.left-n};break;case"right":r={top:i.top+i.height/2-o/2,left:i.left+i.width}}t.css(r).addClass(s).addClass("in")}},setContent:function(){var t=this.tip();t.find(".tooltip-inner").html(this.getTitle()),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).remove()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.remove()})}var i=this.tip();i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.remove()},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return t.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title),t=(t||"").toString().replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip=this.$tip||t(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},t.fn.tooltip=function(i){return this.each(function(){var n=t(this),o=n.data("tooltip"),s="object"==typeof i&&i;o||n.data("tooltip",o=new e(this,s)),"string"==typeof i&&o[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var e=this.tip(),i=this.getTitle(),n=this.getContent();e.find(".popover-title")["object"==t.type(i)?"append":"html"](i),e.find(".popover-content > *")["object"==t.type(n)?"append":"html"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-content")||("function"==typeof i.content?i.content.call(e[0]):i.content),t=t.toString().replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip}}),t.fn.popover=function(i){return this.each(function(){var n=t(this),o=n.data("popover"),s="object"==typeof i&&i;o||n.data("popover",o=new e(this,s)),"string"==typeof i&&o[i]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(t){"use strict";function e(e,i){var n,o=t.proxy(this.process,this),s=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=s.on("scroll.scroll.data-api",o),this.selector=(this.options.target||(n=t(e).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body").on("click.scroll.data-api",this.selector,o),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){this.targets=this.$body.find(this.selector).map(function(){var e=t(this).attr("href");return/^#\w/.test(e)&&t(e).length?e:null}),this.offsets=t.map(this.targets,function(e){return t(e).position().top})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.offsets,n=this.targets,o=this.activeTarget;for(t=i.length;t--;)o!=n[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(n[t])},activate:function(t){var e;this.activeTarget=t,this.$body.find(this.selector).parent(".active").removeClass("active"),e=this.$body.find(this.selector+'[href="'+t+'"]').parent("li").addClass("active"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active")}},t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),o=n.data("scrollspy"),s="object"==typeof i&&i;o||n.data("scrollspy",o=new e(this,s)),"string"==typeof i&&o[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t(function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,i,n=this.element,o=n.closest("ul:not(.dropdown-menu)"),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),n.parent("li").hasClass("active")||(e=o.find(".active a").last()[0],n.trigger({type:"show",relatedTarget:e}),i=t(s),this.activate(n.parent("li"),o),this.activate(i,i.parent(),function(){n.trigger({type:"shown",relatedTarget:e})}))},activate:function(e,i,n){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var s=i.find("> .active"),r=n&&t.support.transition&&s.hasClass("fade");r?s.one(t.support.transition.end,o):o(),s.removeClass("in")}},t.fn.tab=function(i){return this.each(function(){var n=t(this),o=n.data("tab");o||n.data("tab",o=new e(this)),"string"==typeof i&&o[i]()})},t.fn.tab.Constructor=e,t(function(){t("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})})}(window.jQuery),/* =============================================================
 * bootstrap-typeahead.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.$menu=t(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(t),this.$element.change(),this.hide()},show:function(){var e=t.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:e.top+e.height,left:e.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e,i=this;return this.query=this.$element.val(),this.query?(e=t.grep(this.source,function(t){return i.matcher(t)?t:void 0}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],o=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?n.push(e):o.push(e):i.push(e);return i.concat(n,o)},highlighter:function(t){return t.replace(new RegExp("("+this.query+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;return e=t(e).map(function(e,n){return e=t(i.options.item).attr("data-value",n),e.find("a").html(i.highlighter(n)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),i=e.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),(t.browser.webkit||t.browser.msie)&&this.$element.on("keydown",t.proxy(this.keypress,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this))},keyup:function(t){switch(t.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},keypress:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},blur:function(){var t=this;setTimeout(function(){t.hide()},150)},click:function(t){t.stopPropagation(),t.preventDefault(),this.select()},mouseenter:function(e){this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")}},t.fn.typeahead=function(i){return this.each(function(){var n=t(this),o=n.data("typeahead"),s="object"==typeof i&&i;o||n.data("typeahead",o=new e(this,s)),"string"==typeof i&&o[i]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},t.fn.typeahead.Constructor=e,t(function(){t("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var i=t(this);i.data("typeahead")||(e.preventDefault(),i.typeahead(i.data()))})})}(window.jQuery),function(){}.call(this),function(t){function e(t){return t.attr("data-name")}function i(i){return t('[name="'+e(i)+'"]')}function n(t){return i(t).length>=1}function o(t){console.log("adding hidden_fiel?d "+t+" : "+e(t)+" "+n(t)),n(t)||(console.log("adding hidden_field"),t.after('<input name="'+e(t)+'" id="'+e(t)+'" type="hidden" value="1">'),console.log("success: "+n(t)))}function s(t){i(t).remove()}function r(t){t.removeClass("unchecked"),t.addClass("checked"),o(t)}function a(t){t.removeClass("checked"),t.addClass("unchecked"),s(t)}function l(t){var e=t.attr("data-alt");void 0!=e&&(t.attr("data-alt",t.text()),t.text(e))}function c(t){t.hasClass("checked")?a(t):r(t),l(t)}t.fn.checkBox=function(){return this.each(function(){var e=t(this);e.hasClass("checked")&&!n(e)&&o(e),e.css("cursor","pointer"),e.click(function(){c(e)})})},t.fn.checkBoxToggle=function(){c(this)}}($),function(){}.call(this),function(){}.call(this),function(){}.call(this),window.googleLT_||(window.googleLT_=(new Date).getTime()),window.google||(window.google={}),window.google.loader||(window.google.loader={},google.loader.ServiceBase="https://www.google.com/uds",google.loader.GoogleApisBase="https://ajax.googleapis.com/ajax",google.loader.ApiKey="notsupplied",google.loader.KeyVerified=!0,google.loader.LoadFailure=!1,google.loader.Secure=!0,google.loader.GoogleLocale="www.google.com",google.loader.ClientLocation=null,google.loader.AdditionalParams="",function(){function t(t,e){return t.load=e}function e(t){return t in A?A[t]:A[t]=-1!=navigator.userAgent[P]()[w](t)}function i(t,e){var i=function(){};i.prototype=e[$],t.U=e[$],t.prototype=new i}function n(t,e){var i=Array[$].slice.call(arguments,2)||[];return function(){var n=i.concat(Array[$].slice.call(arguments));return t.apply(e,n)}}function o(t){return t=Error(t),t.toString=function(){return this.message},t}function s(t,e){for(var i=t.split(/\./),n=g,o=0;o<i[_]-1;o++)n[i[o]]||(n[i[o]]={}),n=n[i[o]];n[i[i[_]-1]]=e}function r(t,e,i){t[e]=i}function a(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t["on"+e];t["on"+e]=null!=n?l([i,n]):i}}function l(t){return function(){for(var e=0;e<t[_];e++)t[e]()}}function c(){H[v.readyState]?d():0<q[_]&&g[S](c,10)}function d(){for(var t=0;t<q[_];t++)q[t]();q.length=0}function h(t){this.b=t,this.o=[],this.n={},this.e={},this.f={},this.j=!0,this.c=-1}function u(t){this.F=t,this.q={},this.r=0}function p(t,e,i){this.name=t,this.D=e,this.p=i,this.u=this.h=!1,this.k=[],google[C].v[this[j]]=n(this.l,this)}function f(t,e){this.b=t,this.i=e,this.h=!1}var m=encodeURIComponent,g=window,v=document,y="push",b="replace",x="charAt",w="indexOf",k="ServiceBase",j="name",T="getTime",_="length",$="prototype",S="setTimeout",C="loader",M="substring",I="join",P="toLowerCase",A={};if(!N)var N=s;if(!E)var E=r;google[C].v={},N("google.loader.callbacks",google[C].v);var L={},D={};google[C].eval={},N("google.loader.eval",google[C].eval),t(google,function(t,e,i){function n(t){var e=t.split(".");if(2<e[_])throw o("Module: '"+t+"' not found!");"undefined"!=typeof e[1]&&(s=e[0],i.packages=i.packages||[],i.packages[y](e[1]))}var s=t;if(i=i||{},t instanceof Array||t&&"object"==typeof t&&"function"==typeof t[I]&&"function"==typeof t.reverse)for(var r=0;r<t[_];r++)n(t[r]);else n(t);if(!(t=L[":"+s]))throw o("Module: '"+s+"' not found!");if(i&&!i.language&&i.locale&&(i.language=i.locale),i&&"string"==typeof i.callback&&(r=i.callback,r.match(/^[[\]A-Za-z0-9._]+$/)&&(r=g.eval(r),i.callback=r)),(r=i&&null!=i.callback)&&!t.s(e))throw o("Module: '"+s+"' must be loaded before DOM onLoad!");r?t.m(e,i)?g[S](i.callback,0):t.load(e,i):t.m(e,i)||t.load(e,i)}),N("google.load",google.load),google.T=function(t,i){i?(0==q[_]&&(a(g,"load",d),!e("msie")&&!e("safari")&&!e("konqueror")&&e("mozilla")||g.opera?g.addEventListener("DOMContentLoaded",d,!1):e("msie")?v.write("<script defer onreadystatechange='google.loader.domReady()' src=//:></script>"):(e("safari")||e("konqueror"))&&g[S](c,10)),q[y](t)):a(g,"load",t)},N("google.setOnLoadCallback",google.T);var q=[];google[C].P=function(){var t=g.event.srcElement;"complete"==t.readyState&&(t.onreadystatechange=null,t.parentNode.removeChild(t),d())},N("google.loader.domReady",google[C].P);var H={loaded:!0,complete:!0};google[C].d=function(t,e,i){if(i){var n;"script"==t?(n=v.createElement("script"),n.type="text/javascript",n.src=e):"css"==t&&(n=v.createElement("link"),n.type="text/css",n.href=e,n.rel="stylesheet"),(t=v.getElementsByTagName("head")[0])||(t=v.body.parentNode.appendChild(v.createElement("head"))),t.appendChild(n)}else"script"==t?v.write('<script src="'+e+'" type="text/javascript"></script>'):"css"==t&&v.write('<link href="'+e+'" type="text/css" rel="stylesheet"></link>')},N("google.loader.writeLoadTag",google[C].d),google[C].Q=function(t){D=t},N("google.loader.rfm",google[C].Q),google[C].S=function(t){for(var e in t)"string"==typeof e&&e&&":"==e[x](0)&&!L[e]&&(L[e]=new f(e[M](1),t[e]))},N("google.loader.rpl",google[C].S),google[C].R=function(t){if((t=t.specs)&&t[_])for(var e=0;e<t[_];++e){var i=t[e];"string"==typeof i?L[":"+i]=new h(i):(i=new p(i[j],i.baseSpec,i.customSpecs),L[":"+i[j]]=i)}},N("google.loader.rm",google[C].R),google[C].loaded=function(t){L[":"+t.module].l(t)},N("google.loader.loaded",google[C].loaded),google[C].O=function(){return"qid="+((new Date)[T]().toString(16)+Math.floor(1e7*Math.random()).toString(16))},N("google.loader.createGuidArg_",google[C].O),s("google_exportSymbol",s),s("google_exportProperty",r),google[C].a={},N("google.loader.themes",google[C].a),google[C].a.I="//www.google.com/cse/style/look/bubblegum.css",E(google[C].a,"BUBBLEGUM",google[C].a.I),google[C].a.K="//www.google.com/cse/style/look/greensky.css",E(google[C].a,"GREENSKY",google[C].a.K),google[C].a.J="//www.google.com/cse/style/look/espresso.css",E(google[C].a,"ESPRESSO",google[C].a.J),google[C].a.M="//www.google.com/cse/style/look/shiny.css",E(google[C].a,"SHINY",google[C].a.M),google[C].a.L="//www.google.com/cse/style/look/minimalist.css",E(google[C].a,"MINIMALIST",google[C].a.L),google[C].a.N="//www.google.com/cse/style/look/v2/default.css",E(google[C].a,"V2_DEFAULT",google[C].a.N),h[$].g=function(t,e){var i="";if(void 0!=e&&(void 0!=e.language&&(i+="&hl="+m(e.language)),void 0!=e.nocss&&(i+="&output="+m("nocss="+e.nocss)),void 0!=e.nooldnames&&(i+="&nooldnames="+m(e.nooldnames)),void 0!=e.packages&&(i+="&packages="+m(e.packages)),null!=e.callback&&(i+="&async=2"),void 0!=e.style&&(i+="&style="+m(e.style)),void 0!=e.noexp&&(i+="&noexp=true"),void 0!=e.other_params&&(i+="&"+e.other_params)),!this.j){google[this.b]&&google[this.b].JSHash&&(i+="&sig="+m(google[this.b].JSHash));var n,o=[];for(n in this.n)":"==n[x](0)&&o[y](n[M](1));for(n in this.e)":"==n[x](0)&&this.e[n]&&o[y](n[M](1));i+="&have="+m(o[I](","))}return google[C][k]+"/?file="+this.b+"&v="+t+google[C].AdditionalParams+i},h[$].t=function(t){var e=null;t&&(e=t.packages);var i=null;if(e)if("string"==typeof e)i=[t.packages];else if(e[_])for(i=[],t=0;t<e[_];t++)"string"==typeof e[t]&&i[y](e[t][b](/^\s*|\s*$/,"")[P]());for(i||(i=["default"]),e=[],t=0;t<i[_];t++)this.n[":"+i[t]]||e[y](i[t]);return e},t(h[$],function(t,e){var i=this.t(e),n=e&&null!=e.callback;if(n)var o=new u(e.callback);for(var s=[],r=i[_]-1;r>=0;r--){var a=i[r];n&&o.B(a),this.e[":"+a]?(i.splice(r,1),n&&this.f[":"+a][y](o)):s[y](a)}if(i[_]){for(e&&e.packages&&(e.packages=i.sort()[I](",")),r=0;r<s[_];r++)a=s[r],this.f[":"+a]=[],n&&this.f[":"+a][y](o);if(e||null==D[":"+this.b]||null==D[":"+this.b].versions[":"+t]||google[C].AdditionalParams||!this.j)e&&e.autoloaded||google[C].d("script",this.g(t,e),n);else{i=D[":"+this.b],google[this.b]=google[this.b]||{};for(var l in i.properties)l&&":"==l[x](0)&&(google[this.b][l[M](1)]=i.properties[l]);google[C].d("script",google[C][k]+i.path+i.js,n),i.css&&google[C].d("css",google[C][k]+i.path+i.css,n)}for(this.j&&(this.j=!1,this.c=(new Date)[T](),1!=this.c%100&&(this.c=-1)),r=0;r<s[_];r++)a=s[r],this.e[":"+a]=!0}}),h[$].l=function(t){-1!=this.c&&(V("al_"+this.b,"jl."+((new Date)[T]()-this.c),!0),this.c=-1),this.o=this.o.concat(t.components),google[C][this.b]||(google[C][this.b]={}),google[C][this.b].packages=this.o.slice(0);for(var e=0;e<t.components[_];e++){this.n[":"+t.components[e]]=!0,this.e[":"+t.components[e]]=!1;var i=this.f[":"+t.components[e]];if(i){for(var n=0;n<i[_];n++)i[n].C(t.components[e]);delete this.f[":"+t.components[e]]}}},h[$].m=function(t,e){return 0==this.t(e)[_]},h[$].s=function(){return!0},u[$].B=function(t){this.r++,this.q[":"+t]=!0},u[$].C=function(t){this.q[":"+t]&&(this.q[":"+t]=!1,this.r--,0==this.r&&g[S](this.F,0))},i(p,h),t(p[$],function(t,e){var i=e&&null!=e.callback;i?(this.k[y](e.callback),e.callback="google.loader.callbacks."+this[j]):this.h=!0,e&&e.autoloaded||google[C].d("script",this.g(t,e),i)}),p[$].m=function(t,e){return e&&null!=e.callback?this.u:this.h},p[$].l=function(){this.u=!0;for(var t=0;t<this.k[_];t++)g[S](this.k[t],0);this.k=[]};var O=function(t,e){return t.string?m(t.string)+"="+m(e):t.regex?e[b](/(^.*$)/,t.regex):""};p[$].g=function(t,e){return this.G(this.w(t),t,e)},p[$].G=function(t,e,i){var n="";if(t.key&&(n+="&"+O(t.key,google[C].ApiKey)),t.version&&(n+="&"+O(t.version,e)),e=google[C].Secure&&t.ssl?t.ssl:t.uri,null!=i)for(var o in i)t.params[o]?n+="&"+O(t.params[o],i[o]):"other_params"==o?n+="&"+i[o]:"base_domain"==o&&(e="http://"+i[o]+t.uri[M](t.uri[w]("/",7)));return google[this[j]]={},-1==e[w]("?")&&n&&(n="?"+n[M](1)),e+n},p[$].s=function(t){return this.w(t).deferred},p[$].w=function(t){if(this.p)for(var e=0;e<this.p[_];++e){var i=this.p[e];if(RegExp(i.pattern).test(t))return i}return this.D},i(f,h),t(f[$],function(t,e){this.h=!0,google[C].d("script",this.g(t,e),!1)}),f[$].m=function(){return this.h},f[$].l=function(){},f[$].g=function(t,e){if(!this.i.versions[":"+t]){if(this.i.aliases){var i=this.i.aliases[":"+t];i&&(t=i)}if(!this.i.versions[":"+t])throw o("Module: '"+this.b+"' with version '"+t+"' not found!")}return google[C].GoogleApisBase+"/libs/"+this.b+"/"+t+"/"+this.i.versions[":"+t][e&&e.uncompressed?"uncompressed":"compressed"]},f[$].s=function(){return!1};var B=!1,F=[],z=(new Date)[T](),R=function(){B||(a(g,"unload",X),B=!0)},W=function(t,e){if(R(),!(google[C].Secure||google[C].Options&&!1!==google[C].Options.csi)){for(var i=0;i<t[_];i++)t[i]=m(t[i][P]()[b](/[^a-z0-9_.]+/g,"_"));for(i=0;i<e[_];i++)e[i]=m(e[i][P]()[b](/[^a-z0-9_.]+/g,"_"));g[S](n(Y,null,"//gg.google.com/csi?s=uds&v=2&action="+t[I](",")+"&it="+e[I](",")),1e4)}},V=function(t,e,i){i?W([t],[e]):(R(),F[y]("r"+F[_]+"="+m(t+(e?"|"+e:""))),g[S](X,5<F[_]?0:15e3))},X=function(){if(F[_]){var t=google[C][k];0==t[w]("http:")&&(t=t[b](/^http:/,"https:")),Y(t+"/stats?"+F[I]("&")+"&nc="+(new Date)[T]()+"_"+((new Date)[T]()-z)),F.length=0}},Y=function(t){var e=new Image,i=Y.H++;Y.A[i]=e,e.onload=e.onerror=function(){delete Y.A[i]},e.src=t,e=null};Y.A={},Y.H=0,s("google.loader.recordCsiStat",W),s("google.loader.recordStat",V),s("google.loader.createImageForLogging",Y)}(),google.loader.rm({specs:["feeds","spreadsheets","gdata","visualization",{name:"sharing",baseSpec:{uri:"http://www.google.com/s2/sharing/js",ssl:null,key:{string:"key"},version:{string:"v"},deferred:!1,params:{language:{string:"hl"}}}},"search","orkut","ads","elements",{name:"books",baseSpec:{uri:"http://books.google.com/books/api.js",ssl:"https://encrypted.google.com/books/api.js",key:{string:"key"},version:{string:"v"},deferred:!0,params:{callback:{string:"callback"},language:{string:"hl"}}}},{name:"friendconnect",baseSpec:{uri:"http://www.google.com/friendconnect/script/friendconnect.js",ssl:null,key:{string:"key"},version:{string:"v"},deferred:!1,params:{}}},"identitytoolkit","ima",{name:"maps",baseSpec:{uri:"http://maps.google.com/maps?file=googleapi",ssl:"https://maps-api-ssl.google.com/maps?file=googleapi",key:{string:"key"},version:{string:"v"},deferred:!0,params:{callback:{regex:"callback=$1&async=2"},language:{string:"hl"}}},customSpecs:[{uri:"http://maps.googleapis.com/maps/api/js",ssl:"https://maps.googleapis.com/maps/api/js",version:{string:"v"},deferred:!0,params:{callback:{string:"callback"},language:{string:"hl"}},pattern:"^(3|3..*)$"}]},"payments","wave","annotations_v2","earth","language",{name:"annotations",baseSpec:{uri:"http://www.google.com/reviews/scripts/annotations_bootstrap.js",ssl:null,key:{string:"key"},version:{string:"v"},deferred:!0,params:{callback:{string:"callback"},language:{string:"hl"},country:{string:"gl"}}}},"picker"]}),google.loader.rfm({":search":{versions:{":1":"1",":1.0":"1"},path:"/api/search/1.0/351077565dad05b6847b1f7d41e36949/",js:"default+en.I.js",css:"default+en.css",properties:{":JSHash":"351077565dad05b6847b1f7d41e36949",":NoOldNames":!1,":Version":"1.0"}},":language":{versions:{":1":"1",":1.0":"1"},path:"/api/language/1.0/72dfd738bc1b18a14ab936bb2690a4f0/",js:"default+en.I.js",properties:{":JSHash":"72dfd738bc1b18a14ab936bb2690a4f0",":Version":"1.0"}},":feeds":{versions:{":1":"1",":1.0":"1"},path:"/api/feeds/1.0/e658fb253c8b588196cf534cc43ab319/",js:"default+en.I.js",css:"default+en.css",properties:{":JSHash":"e658fb253c8b588196cf534cc43ab319",":Version":"1.0"}},":spreadsheets":{versions:{":0":"1",":0.4":"1"},path:"/api/spreadsheets/0.4/87ff7219e9f8a8164006cbf28d5e911a/",js:"default.I.js",properties:{":JSHash":"87ff7219e9f8a8164006cbf28d5e911a",":Version":"0.4"}},":ima":{versions:{":3":"1",":3.0":"1"},path:"/api/ima/3.0/28a914332232c9a8ac0ae8da68b1006e/",js:"default.I.js",properties:{":JSHash":"28a914332232c9a8ac0ae8da68b1006e",":Version":"3.0"}},":wave":{versions:{":1":"1",":1.0":"1"},path:"/api/wave/1.0/3b6f7573ff78da6602dda5e09c9025bf/",js:"default.I.js",properties:{":JSHash":"3b6f7573ff78da6602dda5e09c9025bf",":Version":"1.0"}},":earth":{versions:{":1":"1",":1.0":"1"},path:"/api/earth/1.0/109c7b2bae7fe6cc34ea875176165d81/",js:"default.I.js",properties:{":JSHash":"109c7b2bae7fe6cc34ea875176165d81",":Version":"1.0"}},":annotations":{versions:{":1":"1",":1.0":"1"},path:"/api/annotations/1.0/bacce7b6155a1bbadda3c05d65391b22/",js:"default+en.I.js",properties:{":JSHash":"bacce7b6155a1bbadda3c05d65391b22",":Version":"1.0"}},":picker":{versions:{":1":"1",":1.0":"1"},path:"/api/picker/1.0/27b625d21ca34b09c89dcd3d22f65143/",js:"default.I.js",css:"default.css",properties:{":JSHash":"27b625d21ca34b09c89dcd3d22f65143",":Version":"1.0"}}}),google.loader.rpl({":scriptaculous":{versions:{":1.8.3":{uncompressed:"scriptaculous.js",compressed:"scriptaculous.js"},":1.9.0":{uncompressed:"scriptaculous.js",compressed:"scriptaculous.js"},":1.8.2":{uncompressed:"scriptaculous.js",compressed:"scriptaculous.js"},":1.8.1":{uncompressed:"scriptaculous.js",compressed:"scriptaculous.js"}},aliases:{":1.8":"1.8.3",":1":"1.9.0",":1.9":"1.9.0"}},":yui":{versions:{":2.6.0":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.9.0":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.7.0":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.8.0r4":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.8.2r1":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":2.8.1":{uncompressed:"build/yuiloader/yuiloader.js",compressed:"build/yuiloader/yuiloader-min.js"},":3.3.0":{uncompressed:"build/yui/yui.js",compressed:"build/yui/yui-min.js"}},aliases:{":3":"3.3.0",":2":"2.9.0",":2.7":"2.7.0",":2.8.2":"2.8.2r1",":2.6":"2.6.0",":2.9":"2.9.0",":2.8":"2.8.2r1",":2.8.0":"2.8.0r4",":3.3":"3.3.0"}},":swfobject":{versions:{":2.1":{uncompressed:"swfobject_src.js",compressed:"swfobject.js"},":2.2":{uncompressed:"swfobject_src.js",compressed:"swfobject.js"}},aliases:{":2":"2.2"}},":webfont":{versions:{":1.0.28":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.27":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.29":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.12":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.13":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.14":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.15":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.10":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.11":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.2":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.1":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.0":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.6":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.19":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.5":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.18":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.4":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.17":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.3":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.16":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.9":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.21":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.22":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.25":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.26":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.23":{uncompressed:"webfont_debug.js",compressed:"webfont.js"},":1.0.24":{uncompressed:"webfont_debug.js",compressed:"webfont.js"}},aliases:{":1":"1.0.29",":1.0":"1.0.29"}},":ext-core":{versions:{":3.1.0":{uncompressed:"ext-core-debug.js",compressed:"ext-core.js"},":3.0.0":{uncompressed:"ext-core-debug.js",compressed:"ext-core.js"}},aliases:{":3":"3.1.0",":3.0":"3.0.0",":3.1":"3.1.0"}},":mootools":{versions:{":1.3.1":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.1.1":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.3.0":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.3.2":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.1.2":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.3":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.4":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.1":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.2":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.2.5":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.4.0":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.4.1":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"},":1.4.2":{uncompressed:"mootools.js",compressed:"mootools-yui-compressed.js"}},aliases:{":1":"1.1.2",":1.11":"1.1.1",":1.4":"1.4.2",":1.3":"1.3.2",":1.2":"1.2.5",":1.1":"1.1.2"}},":jqueryui":{versions:{":1.8.0":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.2":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.1":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.15":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.14":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.13":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.12":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.11":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.10":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.17":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.16":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.6.0":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.9":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.7":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.8":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.7.2":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.5":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.7.3":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.6":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.7.0":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.7.1":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.8.4":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.5.3":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"},":1.5.2":{uncompressed:"jquery-ui.js",compressed:"jquery-ui.min.js"}},aliases:{":1.8":"1.8.17",":1.7":"1.7.3",":1.6":"1.6.0",":1":"1.8.17",":1.5":"1.5.3",":1.8.3":"1.8.4"}},":chrome-frame":{versions:{":1.0.2":{uncompressed:"CFInstall.js",compressed:"CFInstall.min.js"},":1.0.1":{uncompressed:"CFInstall.js",compressed:"CFInstall.min.js"},":1.0.0":{uncompressed:"CFInstall.js",compressed:"CFInstall.min.js"}},aliases:{":1":"1.0.2",":1.0":"1.0.2"}},":dojo":{versions:{":1.3.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.3.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.6.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.1.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.3.2":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.6.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.2.3":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.7.2":{uncompressed:"dojo/dojo.js.uncompressed.js",compressed:"dojo/dojo.js"},":1.7.0":{uncompressed:"dojo/dojo.js.uncompressed.js",compressed:"dojo/dojo.js"},":1.7.1":{uncompressed:"dojo/dojo.js.uncompressed.js",compressed:"dojo/dojo.js"},":1.4.3":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.5.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.5.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.2.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.4.0":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"},":1.4.1":{uncompressed:"dojo/dojo.xd.js.uncompressed.js",compressed:"dojo/dojo.xd.js"}},aliases:{":1.7":"1.7.2",":1":"1.6.1",":1.6":"1.6.1",":1.5":"1.5.1",":1.4":"1.4.3",":1.3":"1.3.2",":1.2":"1.2.3",":1.1":"1.1.1"}},":prototype":{versions:{":1.7.0.0":{uncompressed:"prototype.js",compressed:"prototype.js"},":1.6.0.2":{uncompressed:"prototype.js",compressed:"prototype.js"},":1.6.1.0":{uncompressed:"prototype.js",compressed:"prototype.js"},":1.6.0.3":{uncompressed:"prototype.js",compressed:"prototype.js"}},aliases:{":1.7":"1.7.0.0",":1.6.1":"1.6.1.0",":1":"1.7.0.0",":1.6":"1.6.1.0",":1.7.0":"1.7.0.0",":1.6.0":"1.6.0.3"}},":jquery":{versions:{":1.6.2":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.3.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.6.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.3.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.6.4":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.6.3":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.3.2":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.6.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.2.3":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.7.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.7.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.2.6":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.3":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.4":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.5.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.5.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.0":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.5.2":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.1":{uncompressed:"jquery.js",compressed:"jquery.min.js"},":1.4.2":{uncompressed:"jquery.js",compressed:"jquery.min.js"}},aliases:{":1.7":"1.7.1",":1.6":"1.6.4",":1":"1.7.1",":1.5":"1.5.2",":1.4":"1.4.4",":1.3":"1.3.2",":1.2":"1.2.6"}}})),$(function(){setNavLineWidths(),$(window).resize(setNavLineWidths)});var goHome=setPageFunc("home",510),goFeatures=setPageFunc("features",900),goAbout=setPageFunc("about",525),goSignin=setPageFunc("signin",510),homeOnLoad=function(t){startShow(),"features"===t?goFeatures():"about"===t?goAbout():"signin"===t?goSignin():goHome()};$(document).ready(function(){$(".features").collapse(),$("#homelink").click(goHome),$("#featureslink").click(goFeatures),$("#aboutlink").click(goAbout),$("#signinlink").click(goSignin)}),function(){}.call(this),$(document).ready(function(){format_select_arrow()}),INIT_PROBLEM={},DESTROY_PROBLEM={},INIT_PROBLEM.geometry=setUpGeo,INIT_PROBLEM.fraction=centerFractionInts,INIT_PROBLEM.multi_text_field=bind_mt_buttons,INIT_PROBLEM.numberline=initNumberLine,function(t){"user strict";var e=function(e){this.$element=t(e),this.gap=10,this.box=void 0,this.read_elts(),t(e).css("height",this.height),t(e).css("width",this.width);var i=this.$element.offset();this.offsetx=Math.round(i.left)};e.prototype={read_elts:function(){this.elts=[];var e=0,n=0,o=this,s=0;this.$element.children("div").each(function(r){s=o.elts.push(new i(t(this),r,n)),e=Math.max(e,t(this).outerHeight()),n+=o.elts[s-1].width+o.gap,console.log(n+" "+o.elts[s-1])}),this.height=e,this.width=this.box_x(this.elts[s-1])+this.elts[s-1].width},write_order:function(){this.$element.children("input").attr("value",this.elts.join(","))},box_x:function(t){len=0;for(var e=0;e<t.i;e++)len+=this.elts[e].width+this.gap;return len},next_movable_elt:function(t,e){for(var i=t.i+e;i>=0&&i<this.elts.length;i+=e)if(!this.elts[i].fixed)return this.elts[i];return void 0},swap_elts:function(t,e){var i=t.i,n=e.i;e.set_i(i),t.set_i(n),this.elts[n]=t,this.elts[i]=e,e.slide_to(this.box_x(e));for(var o=n>i?1:-1,i=i+o;i!=n;i+=o)this.elts[i].slide_to(this.box_x(this.elts[i]));this.write_order()},mouse_is_down:function(){return void 0!=this.box},mousedown:function(t){for(var e=t.pageX-this.offsetx,i=this.elts.length-1;i>=0;i--)if(e>this.box_x(this.elts[i])){if(this.elts[i].fixed)return 0;this.box=this.elts[i],this.mouse_off=e-this.box_x(this.box);break}this.box.inc_z()},mouseup:function(){void 0!=this.box&&(this.box.slide_to(this.box_x(this.box)),this.box.dec_z(),console.log("z-index: "+this.box.$element.css("z-index")),this.box=void 0)},mousemove:function(t){if(this.mouse_is_down()){var e=t.pageX-this.offsetx-this.mouse_off,i=this.box,n=this.next_movable_elt(i,1),o=this.next_movable_elt(i,-1);if(void 0==n&&e>this.box_x(i)||void 0==o&&0>e)return i.set_l_off(this.box_x(i)),1;i.set_l_off(e);var s=e-this.box_x(i);if(s>0){var r=this.box_x(n)-i.width+n.width-e;s>r&&this.swap_elts(i,n)}else if(0>s){var r=e-this.box_x(o);-s>r&&this.swap_elts(i,o)}return 1}}};var i=function(t,e,i){this.$element=t,this.i=e,this.set_l_off(i),this.width=t.outerWidth(),this.fixed=this.$element.hasClass("fixed")};i.prototype={set_l_off:function(t){this.l_off=t,this.$element.css("left",t)},middle:function(){return this.l_off+Math.floor(this.width/2)},slide_to:function(t){this.$element.animate({left:t+"px"}),this.l_off=t},set_i:function(t){this.i=t},toString:function(){return this.$element.text()},inc_z:function(){var t=parseInt(this.$element.css("z-index"));this.$element.css("z-index",t+1)},dec_z:function(){var t=parseInt(this.$element.css("z-index"));this.$element.css("z-index",t-1)}},t.fn.permutationDrag=function(){return this.each(function(){var i=t(this),n=i.data("permutationDrag");n||i.data("permutationDrag",n=new e(this)),i.mousemove(function(t){n.mousemove(t)}),i.mousedown(function(t){n.mousedown(t)}),i.mouseup(function(t){n.mouseup(t)}),i.mouseleave(function(t){n.mouseup(t)})})}}(jQuery),INIT_PROBLEM.permutationDrag=function(){$(".permutationDrag").permutationDrag()},/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
function(t){function e(e){var i=e||window.event,n=[].slice.call(arguments,1),o=0,s=0,r=0;return e=t.event.fix(i),e.type="mousewheel",i.wheelDelta&&(o=i.wheelDelta/120),i.detail&&(o=-i.detail/3),r=o,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(r=0,s=-1*o),void 0!==i.wheelDeltaY&&(r=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(s=-1*i.wheelDeltaX/120),n.unshift(e,o,s,r),(t.event.dispatch||t.event.handle).apply(this,n)}var i=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var n=i.length;n;)t.event.fixHooks[i[--n]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),/*
 * jScrollPane - v2.0.0beta12 - 2012-09-27
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2010 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
function(t,e,i){t.fn.jScrollPane=function(n){function o(n,o){function s(e){var o,a,c,h,u,p,g=!1,v=!1;if(F=e,z===i)u=n.scrollTop(),p=n.scrollLeft(),n.css({overflow:"hidden",padding:0}),R=n.innerWidth()+be,W=n.innerHeight(),n.width(R),z=t('<div class="jspPane" />').css("padding",ye).append(n.children()),V=t('<div class="jspContainer" />').css({width:R+"px",height:W+"px"}).append(z).appendTo(n);else{if(n.css("width",""),g=F.stickToBottom&&C(),v=F.stickToRight&&M(),h=n.innerWidth()+be!=R||n.outerHeight()!=W,h&&(R=n.innerWidth()+be,W=n.innerHeight(),V.css({width:R+"px",height:W+"px"})),!h&&xe==X&&z.outerHeight()==Y)return n.width(R),void 0;xe=X,z.css("width",""),n.width(R),V.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}z.css("overflow","auto"),X=e.contentWidth?e.contentWidth:z[0].scrollWidth,Y=z[0].scrollHeight,z.css("overflow",""),G=X/R,Q=Y/W,U=Q>1,J=G>1,J||U?(n.addClass("jspScrollable"),o=F.maintainPosition&&(te||ne),o&&(a=$(),c=S()),r(),l(),d(),o&&(T(v?X-R:a,!1),j(g?Y-W:c,!1)),N(),I(),O(),F.enableKeyboardNavigation&&L(),F.clickOnTrack&&f(),q(),F.hijackInternalLinks&&H()):(n.removeClass("jspScrollable"),z.css({top:0,width:V.width()-be}),P(),E(),D(),m()),F.autoReinitialise&&!ve?ve=setInterval(function(){s(F)},F.autoReinitialiseDelay):!F.autoReinitialise&&ve&&clearInterval(ve),u&&n.scrollTop(0)&&j(u,!1),p&&n.scrollLeft(0)&&T(p,!1),n.trigger("jsp-initialised",[J||U])}function r(){U&&(V.append(t('<div class="jspVerticalBar" />').append(t('<div class="jspCap jspCapTop" />'),t('<div class="jspTrack" />').append(t('<div class="jspDrag" />').append(t('<div class="jspDragTop" />'),t('<div class="jspDragBottom" />'))),t('<div class="jspCap jspCapBottom" />'))),oe=V.find(">.jspVerticalBar"),se=oe.find(">.jspTrack"),K=se.find(">.jspDrag"),F.showArrows&&(ce=t('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",u(0,-1)).bind("click.jsp",A),de=t('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",u(0,1)).bind("click.jsp",A),F.arrowScrollOnHover&&(ce.bind("mouseover.jsp",u(0,-1,ce)),de.bind("mouseover.jsp",u(0,1,de))),h(se,F.verticalArrowPositions,ce,de)),ae=W,V.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ae-=t(this).outerHeight()}),K.hover(function(){K.addClass("jspHover")},function(){K.removeClass("jspHover")}).bind("mousedown.jsp",function(e){t("html").bind("dragstart.jsp selectstart.jsp",A),K.addClass("jspActive");var i=e.pageY-K.position().top;return t("html").bind("mousemove.jsp",function(t){v(t.pageY-i,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),a())}function a(){se.height(ae+"px"),te=0,re=F.verticalGutter+se.outerWidth(),z.width(R-re-be);try{0===oe.position().left&&z.css("margin-left",re+"px")}catch(t){}}function l(){J&&(V.append(t('<div class="jspHorizontalBar" />').append(t('<div class="jspCap jspCapLeft" />'),t('<div class="jspTrack" />').append(t('<div class="jspDrag" />').append(t('<div class="jspDragLeft" />'),t('<div class="jspDragRight" />'))),t('<div class="jspCap jspCapRight" />'))),he=V.find(">.jspHorizontalBar"),ue=he.find(">.jspTrack"),ee=ue.find(">.jspDrag"),F.showArrows&&(me=t('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",u(-1,0)).bind("click.jsp",A),ge=t('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",u(1,0)).bind("click.jsp",A),F.arrowScrollOnHover&&(me.bind("mouseover.jsp",u(-1,0,me)),ge.bind("mouseover.jsp",u(1,0,ge))),h(ue,F.horizontalArrowPositions,me,ge)),ee.hover(function(){ee.addClass("jspHover")},function(){ee.removeClass("jspHover")}).bind("mousedown.jsp",function(e){t("html").bind("dragstart.jsp selectstart.jsp",A),ee.addClass("jspActive");var i=e.pageX-ee.position().left;return t("html").bind("mousemove.jsp",function(t){b(t.pageX-i,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),pe=V.innerWidth(),c())}function c(){V.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){pe-=t(this).outerWidth()}),ue.width(pe+"px"),ne=0}function d(){if(J&&U){var e=ue.outerHeight(),i=se.outerWidth();ae-=e,t(he).find(">.jspCap:visible,>.jspArrow").each(function(){pe+=t(this).outerWidth()}),pe-=i,W-=i,R-=e,ue.parent().append(t('<div class="jspCorner" />').css("width",e+"px")),a(),c()}J&&z.width(V.outerWidth()-be+"px"),Y=z.outerHeight(),Q=Y/W,J&&(fe=Math.ceil(1/G*pe),fe>F.horizontalDragMaxWidth?fe=F.horizontalDragMaxWidth:fe<F.horizontalDragMinWidth&&(fe=F.horizontalDragMinWidth),ee.width(fe+"px"),ie=pe-fe,x(ne)),U&&(le=Math.ceil(1/Q*ae),le>F.verticalDragMaxHeight?le=F.verticalDragMaxHeight:le<F.verticalDragMinHeight&&(le=F.verticalDragMinHeight),K.height(le+"px"),Z=ae-le,y(te))}function h(t,e,i,n){var o,s="before",r="after";"os"==e&&(e=/Mac/.test(navigator.platform)?"after":"split"),e==s?r=e:e==r&&(s=e,o=i,i=n,n=o),t[s](i)[r](n)}function u(t,e,i){return function(){return p(t,e,this,i),this.blur(),!1}}function p(e,i,n,o){n=t(n).addClass("jspActive");var s,r,a=!0,l=function(){0!==e&&we.scrollByX(e*F.arrowButtonSpeed),0!==i&&we.scrollByY(i*F.arrowButtonSpeed),r=setTimeout(l,a?F.initialDelay:F.arrowRepeatFreq),a=!1};l(),s=o?"mouseout.jsp":"mouseup.jsp",o=o||t("html"),o.bind(s,function(){n.removeClass("jspActive"),r&&clearTimeout(r),r=null,o.unbind(s)})}function f(){m(),U&&se.bind("mousedown.jsp",function(e){if(e.originalTarget===i||e.originalTarget==e.currentTarget){var n,o=t(this),s=o.offset(),r=e.pageY-s.top-te,a=!0,l=function(){var t=o.offset(),i=e.pageY-t.top-le/2,s=W*F.scrollPagePercent,d=Z*s/(Y-W);if(0>r)te-d>i?we.scrollByY(-s):v(i);else{if(!(r>0))return c(),void 0;i>te+d?we.scrollByY(s):v(i)}n=setTimeout(l,a?F.initialDelay:F.trackClickRepeatFreq),a=!1},c=function(){n&&clearTimeout(n),n=null,t(document).unbind("mouseup.jsp",c)};return l(),t(document).bind("mouseup.jsp",c),!1}}),J&&ue.bind("mousedown.jsp",function(e){if(e.originalTarget===i||e.originalTarget==e.currentTarget){var n,o=t(this),s=o.offset(),r=e.pageX-s.left-ne,a=!0,l=function(){var t=o.offset(),i=e.pageX-t.left-fe/2,s=R*F.scrollPagePercent,d=ie*s/(X-R);if(0>r)ne-d>i?we.scrollByX(-s):b(i);else{if(!(r>0))return c(),void 0;i>ne+d?we.scrollByX(s):b(i)}n=setTimeout(l,a?F.initialDelay:F.trackClickRepeatFreq),a=!1},c=function(){n&&clearTimeout(n),n=null,t(document).unbind("mouseup.jsp",c)};return l(),t(document).bind("mouseup.jsp",c),!1}})}function m(){ue&&ue.unbind("mousedown.jsp"),se&&se.unbind("mousedown.jsp")}function g(){t("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),K&&K.removeClass("jspActive"),ee&&ee.removeClass("jspActive")}function v(t,e){U&&(0>t?t=0:t>Z&&(t=Z),e===i&&(e=F.animateScroll),e?we.animate(K,"top",t,y):(K.css("top",t),y(t)))}function y(t){t===i&&(t=K.position().top),V.scrollTop(0),te=t;var e=0===te,o=te==Z,s=t/Z,r=-s*(Y-W);(ke!=e||Te!=o)&&(ke=e,Te=o,n.trigger("jsp-arrow-change",[ke,Te,je,_e])),w(e,o),z.css("top",r),n.trigger("jsp-scroll-y",[-r,e,o]).trigger("scroll")}function b(t,e){J&&(0>t?t=0:t>ie&&(t=ie),e===i&&(e=F.animateScroll),e?we.animate(ee,"left",t,x):(ee.css("left",t),x(t)))}function x(t){t===i&&(t=ee.position().left),V.scrollTop(0),ne=t;var e=0===ne,o=ne==ie,s=t/ie,r=-s*(X-R);(je!=e||_e!=o)&&(je=e,_e=o,n.trigger("jsp-arrow-change",[ke,Te,je,_e])),k(e,o),z.css("left",r),n.trigger("jsp-scroll-x",[-r,e,o]).trigger("scroll")}function w(t,e){F.showArrows&&(ce[t?"addClass":"removeClass"]("jspDisabled"),de[e?"addClass":"removeClass"]("jspDisabled"))}function k(t,e){F.showArrows&&(me[t?"addClass":"removeClass"]("jspDisabled"),ge[e?"addClass":"removeClass"]("jspDisabled"))}function j(t,e){var i=t/(Y-W);v(i*Z,e)}function T(t,e){var i=t/(X-R);b(i*ie,e)}function _(e,i,n){var o,s,r,a,l,c,d,h,u,p=0,f=0;try{o=t(e)}catch(m){return}for(s=o.outerHeight(),r=o.outerWidth(),V.scrollTop(0),V.scrollLeft(0);!o.is(".jspPane");)if(p+=o.position().top,f+=o.position().left,o=o.offsetParent(),/^body|html$/i.test(o[0].nodeName))return;a=S(),c=a+W,a>p||i?h=p-F.verticalGutter:p+s>c&&(h=p-W+s+F.verticalGutter),h&&j(h,n),l=$(),d=l+R,l>f||i?u=f-F.horizontalGutter:f+r>d&&(u=f-R+r+F.horizontalGutter),u&&T(u,n)}function $(){return-z.position().left}function S(){return-z.position().top}function C(){var t=Y-W;return t>20&&t-S()<10}function M(){var t=X-R;return t>20&&t-$()<10}function I(){V.unbind(Se).bind(Se,function(t,e,i,n){var o=ne,s=te;return we.scrollBy(i*F.mouseWheelSpeed,-n*F.mouseWheelSpeed,!1),o==ne&&s==te})}function P(){V.unbind(Se)}function A(){return!1}function N(){z.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(t){_(t.target,!1)})}function E(){z.find(":input,a").unbind("focus.jsp")}function L(){function e(){var t=ne,e=te;switch(i){case 40:we.scrollByY(F.keyboardSpeed,!1);break;case 38:we.scrollByY(-F.keyboardSpeed,!1);break;case 34:case 32:we.scrollByY(W*F.scrollPagePercent,!1);break;case 33:we.scrollByY(-W*F.scrollPagePercent,!1);break;case 39:we.scrollByX(F.keyboardSpeed,!1);break;case 37:we.scrollByX(-F.keyboardSpeed,!1)}return o=t!=ne||e!=te}var i,o,s=[];J&&s.push(he[0]),U&&s.push(oe[0]),z.focus(function(){n.focus()}),n.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(n){if(n.target===this||s.length&&t(n.target).closest(s).length){var r=ne,a=te;switch(n.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:i=n.keyCode,e();break;case 35:j(Y-W),i=null;break;case 36:j(0),i=null}return o=n.keyCode==i&&r!=ne||a!=te,!o}}).bind("keypress.jsp",function(t){return t.keyCode==i&&e(),!o}),F.hideFocus?(n.css("outline","none"),"hideFocus"in V[0]&&n.attr("hideFocus",!0)):(n.css("outline",""),"hideFocus"in V[0]&&n.attr("hideFocus",!1))}function D(){n.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function q(){if(location.hash&&location.hash.length>1){var e,i,n=escape(location.hash.substr(1));try{e=t("#"+n+', a[name="'+n+'"]')}catch(o){return}e.length&&z.find(n)&&(0===V.scrollTop()?i=setInterval(function(){V.scrollTop()>0&&(_(e,!0),t(document).scrollTop(V.position().top),clearInterval(i))},50):(_(e,!0),t(document).scrollTop(V.position().top)))}}function H(){t(document.body).data("jspHijack")||(t(document.body).data("jspHijack",!0),t(document.body).delegate("a[href*=#]","click",function(i){var n,o,s,r,a,l,c=this.href.substr(0,this.href.indexOf("#")),d=location.href;if(-1!==location.href.indexOf("#")&&(d=location.href.substr(0,location.href.indexOf("#"))),c===d){n=escape(this.href.substr(this.href.indexOf("#")+1));try{o=t("#"+n+', a[name="'+n+'"]')}catch(h){return}o.length&&(s=o.closest(".jspScrollable"),r=s.data("jsp"),r.scrollToElement(o,!0),s[0].scrollIntoView&&(a=t(e).scrollTop(),l=o.offset().top,(a>l||l>a+t(e).height())&&s[0].scrollIntoView()),i.preventDefault())}}))}function O(){var t,e,i,n,o,s=!1;V.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(r){var a=r.originalEvent.touches[0];t=$(),e=S(),i=a.pageX,n=a.pageY,o=!1,s=!0}).bind("touchmove.jsp",function(r){if(s){var a=r.originalEvent.touches[0],l=ne,c=te;return we.scrollTo(t+i-a.pageX,e+n-a.pageY),o=o||Math.abs(i-a.pageX)>5||Math.abs(n-a.pageY)>5,l==ne&&c==te}}).bind("touchend.jsp",function(){s=!1}).bind("click.jsp-touchclick",function(){return o?(o=!1,!1):void 0})}function B(){var t=S(),e=$();n.removeClass("jspScrollable").unbind(".jsp"),n.replaceWith($e.append(z.children())),$e.scrollTop(t),$e.scrollLeft(e),ve&&clearInterval(ve)}var F,z,R,W,V,X,Y,G,Q,U,J,K,Z,te,ee,ie,ne,oe,se,re,ae,le,ce,de,he,ue,pe,fe,me,ge,ve,ye,be,xe,we=this,ke=!0,je=!0,Te=!1,_e=!1,$e=n.clone(!1,!1).empty(),Se=t.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";ye=n.css("paddingTop")+" "+n.css("paddingRight")+" "+n.css("paddingBottom")+" "+n.css("paddingLeft"),be=(parseInt(n.css("paddingLeft"),10)||0)+(parseInt(n.css("paddingRight"),10)||0),t.extend(we,{reinitialise:function(e){e=t.extend({},F,e),s(e)},scrollToElement:function(t,e,i){_(t,e,i)},scrollTo:function(t,e,i){T(t,i),j(e,i)},scrollToX:function(t,e){T(t,e)},scrollToY:function(t,e){j(t,e)},scrollToPercentX:function(t,e){T(t*(X-R),e)},scrollToPercentY:function(t,e){j(t*(Y-W),e)},scrollBy:function(t,e,i){we.scrollByX(t,i),we.scrollByY(e,i)},scrollByX:function(t,e){var i=$()+Math[0>t?"floor":"ceil"](t),n=i/(X-R);b(n*ie,e)},scrollByY:function(t,e){var i=S()+Math[0>t?"floor":"ceil"](t),n=i/(Y-W);v(n*Z,e)},positionDragX:function(t,e){b(t,e)},positionDragY:function(t,e){v(t,e)},animate:function(t,e,i,n){var o={};o[e]=i,t.animate(o,{duration:F.animateDuration,easing:F.animateEase,queue:!1,step:n})},getContentPositionX:function(){return $()},getContentPositionY:function(){return S()},getContentWidth:function(){return X},getContentHeight:function(){return Y},getPercentScrolledX:function(){return $()/(X-R)},getPercentScrolledY:function(){return S()/(Y-W)},getIsScrollableH:function(){return J},getIsScrollableV:function(){return U},getContentPane:function(){return z},scrollToBottom:function(t){v(Z,t)},hijackInternalLinks:t.noop,destroy:function(){B()}}),s(o)}return n=t.extend({},t.fn.jScrollPane.defaults,n),t.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){n[this]=n[this]||n.speed}),this.each(function(){var e=t(this),i=e.data("jsp");i?i.reinitialise(n):(t("script",e).filter('[type="text/javascript"],:not([type])').remove(),i=new o(e,n),e.data("jsp",i))})},t.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:i,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this),$(function(){$(".with_tooltip").tooltip()});
<%= render 'shared/shelf', :@student => current_user, :@badges => @badges, :@all_badges => @all_badges %>
<div>
    <div style='float:left'>
        <div class='dotted-border-header'>
            <h4>History<h4>
        </div>
        <div class='dotted-border' style='height:1000px; width:252px'>
            <%= render 'progress_center' %>
        </div>
    </div>
    <div id='bbor'>
        <% @pset_instances.order("problem_set_id ASC").each do |i| %>
            <%= render :partial => 'pset_list_box', :object => i %>
        <% end %>
    </div>

    <script>
        $(function () {
            $('.teacher-class-col').jScrollPane();
            $('.badge_description').tooltip({title: "#{badge.name}"});
        })
    </script>
</div>
<div id="walkthrough">
    <div id="intro_walk" style="display:none;">
        <p class="tooltipTitle">Walkthrough</p>
        <p>This is your Home Page. Here, you can select which Problem Set to attempt, see your recent answer history, your points and badges you have received so far.</p>
        <br>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="shelf_walk" style="display:none;">
        <p class="tooltipTitle">Your Shelf</p>
        <p>You can see all your information at one glance on your Shelf: Your points, badges as well as links to your account. The colour of the shelf shows your progress. It goes from red to green and finally to blue! Your aim is to make the shelf blue and maintain it as such.</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="account_walk" style="display:none;">
        <p class="tooltipTitle">Your Account</p>
        <p>Click here to visit your account. You can change your password there as well as your display picture.</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="points_walk" style="display:none;">
        <p class="tooltipTitle">Your Points</p>
        <p>These are the points you have received so far. Work on more problems and earn more badges to get more points!</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="notif_walk" style="display:none;">
        <p class="tooltipTitle">Notifications</p>
        <p>Click on the envelope to see your latest notifications.</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="shape_1_walk" style="display:none;">
        <p class="tooltipTitle">Badges - Tetrahedrons</p>
        <p>Click to see all of your Tetrahedron badges. If you get a Tetrahedron badge, you get a bonus of 100 points!</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="shape_2_walk" style="display:none;">
        <p class="tooltipTitle">Badges - Cubes</p>
        <p>Click to see all of your Cube badges. If you get a Cube badge, you get a bonus of 1000 points!!</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="shape_3_walk" style="display:none;">
        <p class="tooltipTitle">Badges - Octahedrons</p>
        <p>Click to see all of your Octahedron badges. If you get a Octahedron badge, you get a bonus of 5000 points!!!</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="shape_4_walk" style="display:none;">
        <p class="tooltipTitle">Badges - Dodecahedrons</p>
        <p>Click to see all of your Dodecahedron badges. If you get a Dodecahedron badge, you get a bonus of 20000 points!!!!</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="shape_5_walk" style="display:none;">
        <p class="tooltipTitle">Badges - Icosahedrons</p>
        <p>Click to see all of your Icosahedron badges. If you get a Icosahedron badge, you get a bonus of 50000 points!!!!!</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="history_walk" style="display:none;">
        <p class="tooltipTitle">Your History</p>
        <p>Here, you can see your last 10 attempted questions.</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="bbor_walk" style="display:none;">
        <p class="tooltipTitle">Problem Sets</p>
        <p>Click on Enter to start working on the respective Problem Set</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="pbar_walk" style="display:none;">
        <p class="tooltipTitle">Progress Bar</p>
        <p>This shows you your progress on this Problem Set. It goes from red to green and finally to blue. Your aim is to make it blue and maintain it as such!</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="open_walk" style="display:none;">
        <p class="tooltipTitle">Restart the Walkthrough</p>
        <p>Click here to restart the Walkthrough</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
        <a href="javascript:;" class="next-step" style="float:right;">Next Step</a>
    </div>
    <div id="done_walk" style="display:none;">
        <p class="tooltipTitle">Start!</p>
        <p>Start Working, get Badges and Points!!! Click on the close button to end this walkthrough.</p>
        <br>
        <a href="javascript:;" class="prev-step" style="float:left;">Prev Step</a>
    </div>
</div>

<script>
    dbord("pset");
    bclr_pset();
    $('#walkthrough').pagewalkthrough({
        steps: [
            {
                wrapper: '',
                margin: 0,
                popup:{
                    content: '#intro_walk',
                    type: 'modal',
                    offsetHorizontal: 0,
                    offsetVertical: 0,
                    width: '400'
                }        
            },
            {
                   wrapper: '#bigshelf',
                   margin: '0',
                   popup:
                   {
                       content: '#shelf_walk',
                       type: 'tooltip',
                       position: 'bottom',
                       offsetHorizontal: 0,
                       offsetVertical: -100,
                       width: '500'
                   }     
               },
               {
                   wrapper: '#account',
                   margin: '0',
                   popup:
                   {
                       content: '#account_walk',
                       type: 'tooltip',
                       position: 'right',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '500'
                   }     
               },
               {
                   wrapper: '#points',
                   margin: '0',
                   popup:
                   {
                       content: '#points_walk',
                       type: 'tooltip',
                       position: 'right',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '500'
                   }     
               },
               {
                   wrapper: '#notifications',
                   margin: '0',
                   popup:
                   {
                       content: '#notif_walk',
                       type: 'tooltip',
                       position: 'right',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '500'
                   }     
               },
               {
                   wrapper: '#get_badge_1',
                   margin: '0',
                   popup:
                   {
                       content: '#shape_1_walk',
                       type: 'tooltip',
                       position: 'right',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '500'
                   }     
               },
               {
                   wrapper: '#get_badge_2',
                   margin: '0',
                   popup:
                   {
                       content: '#shape_2_walk',
                       type: 'tooltip',
                       position: 'right',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '500'
                   }     
               },
               {
                   wrapper: '#get_badge_3',
                   margin: '0',
                   popup:
                   {
                       content: '#shape_3_walk',
                       type: 'tooltip',
                       position: 'left',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '500'
                   }     
               },
               {
                   wrapper: '#get_badge_4',
                   margin: '0',
                   popup:
                   {
                       content: '#shape_4_walk',
                       type: 'tooltip',
                       position: 'left',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '500'
                   }     
               },
               {
                   wrapper: '#get_badge_5',
                   margin: '0',
                   popup:
                   {
                       content: '#shape_5_walk',
                       type: 'tooltip',
                       position: 'left',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '500'
                   }     
               },
               {
                   wrapper: '.dotted-border',
                   margin: '0',
                   popup:
                   {
                       content: '#history_walk',
                       type: 'tooltip',
                       position: 'right',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '500'
                   }     
               },
               {
                   wrapper: '.pset_list_box',
                   margin: '0',
                   popup:
                   {
                       content: '#bbor_walk',
                       type: 'tooltip',
                       position: 'right',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '500'
                   }     
               },
               {
                   wrapper: '.progress',
                   margin: '0',
                   popup:
                   {
                       content: '#pbar_walk',
                       type: 'tooltip',
                       position: 'right',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '500'
                   }     
               },
               {
                   wrapper: '#open-walkthrough',
                   margin: '0',
                   popup:
                   {
                       content: '#open_walk',
                       type: 'tooltip',
                       position: 'left',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '500'
                   }     
               },
               {
                   wrapper: '',
                   margin: '0',
                   popup:
                   {
                       content: '#done_walk',
                       type: 'modal',
                       position: '',
                       offsetHorizontal: 0,
                       offsetVertical: 0,
                       width: '400'
                   }             
               },
        ],
        name: 'Walkthrough',
        onLoad: true,
    });
    $('.prev-step').live('click', function(e){
        $.pagewalkthrough('prev',e);
    });

    $('.next-step').live('click', function(e){
        $.pagewalkthrough('next',e);
    });
    $('#open-walkthrough').live('click', function(){
          var id = $(this).attr('id').split('-');

          if(id == 'parameters') return;

          $.pagewalkthrough('show', id[1]); 
    });
    //$.pagewalkthrough('show', '#walkthrough')
</script>